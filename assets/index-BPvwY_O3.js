import{initializeApp}from"https://www.gstatic.com/firebasejs/11.4.0/firebase-app.js";import{onValue,push,getDatabase,ref}from"https://www.gstatic.com/firebasejs/11.4.0/firebase-database.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();async function fetchHelpContent(){try{return await(await fetch("/help.json")).json()}catch(t){console.error("There was a problem with the fetch operation:",t)}}async function fetchAboutContent(){try{return await(await fetch("/about.json")).json()}catch(t){console.error("There was a problem with the fetch operation:",t)}}function escapeHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function unEscapeHTML(t){return t.replaceAll("&amp;","&").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("&quot;",'"').replaceAll("&#039;","'")}function replacePrompt(){const[t,e,r]=getPromptElements(),n=document.createElement("p"),s=document.querySelector("#currPrompt input");n.textContent=s.value,document.getElementById("currPrompt").remove();const a=document.createElement("div");a.classList.add("prompt"),a.appendChild(e),a.appendChild(t),a.appendChild(r),a.appendChild(n),terminal.appendChild(a)}function displayPrompt(){const[t,e,r]=getPromptElements(),n=document.createElement("input");n.setAttribute("spellcheck","false"),n.addEventListener("keydown",async o=>{o.key==="Enter"&&await processCommand(escapeHTML(n.value))});const s=document.createElement("div");s.classList.add("prompt"),s.id="currPrompt",s.appendChild(e),s.appendChild(t),s.appendChild(r),s.appendChild(n),terminal.appendChild(s),n.focus()}function displayHistory(t){for(let e=0;e<t.length;e++){const r=t[e].command,n=t[e].response,[s,o,a]=getPromptElements(),l=document.createElement("p");l.innerHTML=r;const u=document.createElement("p");u.innerHTML=n,u.classList.add("response");const c=document.createElement("div");c.classList.add("prompt"),c.appendChild(o),c.appendChild(s),c.appendChild(a),c.appendChild(l),terminal.appendChild(c),terminal.appendChild(u)}}function getPromptElements(){const t=document.createElement("span");t.innerHTML="@"+window.location.hostname,t.classList.add("domain","green");const e=document.createElement("span");e.classList.add("user","green"),e.innerHTML="guest";const r=document.createElement("span");return r.classList.add("directory"),r.innerHTML=":"+dir+" $&nbsp;",[t,e,r]}function formatDate(t){const e=new Date(t),r=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],n=e.getDate(),s=r[e.getMonth()],o=e.getFullYear(),a=e.getHours(),l=e.getMinutes(),u=n<10?`0${n}`:n,c=a<10?`0${a}`:a,d=l<10?`0${l}`:l;return`${s} ${u}, ${o} - ${c}:${d}`}function fetchNotes(){return new Promise((t,e)=>{let r=[];onValue(notesDB,n=>{r=[],r.push("hello world!"),r.push("computer bugs started with actual bugs"),r.push("have you tried 'ls -a' yet?"),r.push("leave a note with 'echo [content] >> notes.txt'"),n.val()&&Object.entries(n.val()).forEach(([s,o])=>{r.push(`${formatDate(o.createdAt)} - ${o.content}`)}),t(r)},n=>{e(n)})})}async function sendEmail(t,e){const r={name:e,content:t},n="service_751j1hg",s="template_j5crotn";try{return await emailjs.send(n,s,r)}catch(o){return`Failed to send message. Error: ${o}`}}function simulateCommand(t){const e=document.querySelector("input");e.value=t;const r=new KeyboardEvent("keydown",{key:"Enter",keyCode:13,which:13,code:"Enter",bubbles:!0});e.dispatchEvent(r)}function executeLanguage(t,e,r){try{r.innerText=t(e)}catch(n){r.innerHTML=n}}class CCError extends Error{}const UTF8encoder=new TextEncoder;function has(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function isInt(t){return/^\s*[+-]?\d+$/.test(t)}class Word{constructor(e){this.valueOf=Word.toString,typeof e=="string"&&(e=[e]),(e===void 0||e.length===0)&&(e=[""]),this.tokens=[];for(const r of e)typeof r=="string"?this.tokens.length>0&&typeof this.tokens[this.tokens.length-1]=="string"?this.tokens[this.tokens.length-1]+=r:r&&this.tokens.push(r):this.tokens.push(r);this.tokens.length===0&&this.tokens.push("")}get length(){let e=0;for(const r of this.tokens)typeof r=="string"?e+=r.length:e+=1;return e}*[Symbol.iterator](){for(const e of this.tokens)if(typeof e=="string")for(const r of e)yield r;else yield e}get(e){let r=0;for(const n of this.tokens)if(typeof n=="string"){if(r+n.length>e)return n[e-r];r+=n.length}else{if(r===e)return n;r+=1}throw new CCError("Index out of bounds")}charAt(e=0){try{return this.get(e)}catch{}return""}indexOf(e,r){r===void 0&&(r=0);let n=0;for(const s of this.tokens)if(typeof s=="string"){if(n+s.length>r){const o=s.indexOf(e,r-n);if(o!==-1)return n+o}n+=s.length}else n+=1;return-1}indexOfFirstChar(e){let r=0;for(const n of this.tokens)if(typeof n=="string")for(const s of n){if(e.includes(s))return r;r+=1}else r+=1;return-1}removeFirstChar(e){return this.length===0?new Word:this.charAt(0)===e?this.slice(1):this.copy()}copy(){return new Word(this.tokens)}slice(e,r){if(e===void 0&&(e=this.length),r===void 0&&(r=this.length),e>=this.length)return new Word;if(e<0&&(e=Math.max(e+this.length,0)),r<0&&(r=Math.max(r+this.length,0)),r<=e)return new Word;const n=[];let s=0;for(const o of this.tokens)typeof o=="string"?(s+o.length>e&&s<r&&n.push(o.slice(Math.max(e-s,0),r-s)),s+=o.length):(s>=e&&s<r&&n.push(o),s+=1);return new Word(n)}includes(e,r){r===void 0&&(r=0);let n=0;for(const s of this.tokens)if(typeof s=="string"){if(n+s.length>r&&s.includes(e,r-n))return!0;n+=s.length}else n+=1;return!1}test(e){for(const r of this.tokens)if(typeof r=="string"&&e.test(r))return!0;return!1}prepend(e){const r=this.copy();return r.tokens.length&&typeof r.tokens[0]=="string"?r.tokens[0]=e+r.tokens[0]:r.tokens.unshift(e),r}append(e){const r=this.copy();return r.tokens.length&&typeof r.tokens[r.tokens.length-1]=="string"?r.tokens[r.tokens.length-1]+=e:r.tokens.push(e),r}add(e){return new Word([...this.tokens,...e.tokens])}match(e){for(const r of this.tokens)if(typeof r=="string"){const n=r.match(e);if(n)return n}return null}search(e){let r=0;for(const n of this.tokens)if(typeof n=="string"){const s=n.search(e);if(s!==-1)return r+s;r+=n.length}return-1}replace(e,r){const n=[];for(const s of this.tokens)typeof s=="string"?n.push(s.replace(e,r)):n.push(s);return new Word(n)}split(e,r){const n=[];let s=0,o=0;for(;s<this.length;){let a=!0;for(let l=0;l<e.length;l++)if(this.get(s+l)!==e.charAt(l)){a=!1;break}if(a){if(n.push(this.slice(o,s)),s+=e.length,o=s,r!==void 0&&n.length===r-1)break}else s+=1}return o<=this.length&&n.push(this.slice(o)),n}toLowerCase(){return new Word(this.tokens.map(e=>typeof e=="string"?e.toLowerCase():e))}toUpperCase(){return new Word(this.tokens.map(e=>typeof e=="string"?e.toUpperCase():e))}trimStart(){const e=[];let r,n;for([r,n]of this.tokens.entries())typeof n=="string"?(r===0&&(n=n.trimStart()),n&&e.push(n)):e.push(n);return e.length===0?new Word:new Word(e)}trimEnd(){const e=[];let r,n;for([r,n]of this.tokens.entries())typeof n=="string"?(r===this.tokens.length-1&&(n=n.trimEnd()),n&&e.push(n)):e.push(n);return e.length===0?new Word:new Word(e)}trim(){const e=[];let r,n;for([r,n]of this.tokens.entries())typeof n=="string"?(r===0&&(n=n.trimStart()),r===this.tokens.length-1&&(n=n.trimEnd()),n&&e.push(n)):e.push(n);return e.length===0?new Word:new Word(e)}isEmpty(){return this.tokens.length===0?!0:this.tokens.length===1&&typeof this.tokens[0]=="string"?this.tokens[0].length===0:!1}toBool(){return!this.isEmpty()}isString(){for(const e of this.tokens)if(typeof e!="string")return!1;return!0}firstShellToken(){for(const e of this.tokens)if(typeof e!="string")return e;return null}startsWith(e){return this.tokens.length===0?!1:typeof this.tokens[0]=="string"?this.tokens[0].startsWith(e):!1}endsWith(e){if(this.tokens.length===0)return!1;const r=this.tokens[this.tokens.length-1];return typeof r=="string"?r.endsWith(e):!1}toString(){return this.tokens.map(e=>typeof e=="string"?e:e.text).join("")}}function eq(t,e){return t==null||e===void 0||e===null?t===e:typeof e=="string"?t.tokens.length===1&&typeof t.tokens[0]=="string"&&t.tokens[0]===e:t.tokens.length===e.tokens.length&&t.tokens.every((r,n)=>{const s=e.tokens[n];return typeof r=="string"?r===s:typeof s!="string"?r.text===s.text:!1})}function firstShellToken(t){return typeof t=="string"?null:t.firstShellToken()}function mergeWords(...t){const e=[];for(const r of t)r instanceof Word?e.push(...r.tokens):e.push(r);return new Word(e)}function joinWords(t,e){const r=[];for(const n of t)r.length&&r.push(e),r.push(...n.tokens);return new Word(r)}function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var treeSitter={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredTreeSitter;function requireTreeSitter(){return hasRequiredTreeSitter||(hasRequiredTreeSitter=1,function(module,exports){var Module=typeof Module<"u"?Module:{},ENVIRONMENT_IS_WEB=typeof window=="object",ENVIRONMENT_IS_WORKER=typeof importScripts=="function",ENVIRONMENT_IS_NODE=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",TreeSitter=function(){var initPromise,document=typeof window=="object"?{currentScript:window.document.currentScript}:null;class Parser{constructor(){this.initialize()}initialize(){throw new Error("cannot construct a Parser before calling `init()`")}static init(moduleOptions){return initPromise||(Module=Object.assign({},Module,moduleOptions),initPromise=new Promise(resolveInitPromise=>{var moduleOverrides=Object.assign({},Module),arguments_=[],thisProgram="./this.program",quit_=(t,e)=>{throw e},scriptDirectory="";function locateFile(t){return Module.locateFile?Module.locateFile(t,scriptDirectory):scriptDirectory+t}var readAsync,readBinary;if(ENVIRONMENT_IS_NODE){var fs=require$$0,nodePath=require$$0;scriptDirectory=__dirname+"/",readBinary=t=>{t=isFileURI(t)?new URL(t):nodePath.normalize(t);var e=fs.readFileSync(t);return e},readAsync=(t,e=!0)=>(t=isFileURI(t)?new URL(t):nodePath.normalize(t),new Promise((r,n)=>{fs.readFile(t,e?void 0:"utf8",(s,o)=>{s?n(s):r(e?o.buffer:o)})})),!Module.thisProgram&&process.argv.length>1&&(thisProgram=process.argv[1].replace(/\\/g,"/")),arguments_=process.argv.slice(2),module.exports=Module,quit_=(t,e)=>{throw process.exitCode=t,e}}else(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)&&(ENVIRONMENT_IS_WORKER?scriptDirectory=self.location.href:typeof document<"u"&&document.currentScript&&(scriptDirectory=document.currentScript.src),scriptDirectory.startsWith("blob:")?scriptDirectory="":scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1),ENVIRONMENT_IS_WORKER&&(readBinary=t=>{var e=new XMLHttpRequest;return e.open("GET",t,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),readAsync=t=>isFileURI(t)?new Promise((e,r)=>{var n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&r(n.response),e(n.status)},n.onerror=e,n.send(null)}):fetch(t,{credentials:"same-origin"}).then(e=>e.ok?e.arrayBuffer():Promise.reject(new Error(e.status+" : "+e.url))));var out=Module.print||console.log.bind(console),err=Module.printErr||console.error.bind(console);Object.assign(Module,moduleOverrides),moduleOverrides=null,Module.arguments&&(arguments_=Module.arguments),Module.thisProgram&&(thisProgram=Module.thisProgram),Module.quit&&(quit_=Module.quit);var dynamicLibraries=Module.dynamicLibraries||[],wasmBinary;Module.wasmBinary&&(wasmBinary=Module.wasmBinary);var wasmMemory,ABORT=!1,EXITSTATUS,HEAP8,HEAPU8,HEAP_DATA_VIEW;function updateMemoryViews(){var t=wasmMemory.buffer;Module.HEAP_DATA_VIEW=HEAP_DATA_VIEW=new DataView(t),Module.HEAP8=HEAP8=new Int8Array(t),Module.HEAP16=new Int16Array(t),Module.HEAPU8=HEAPU8=new Uint8Array(t),Module.HEAPU16=new Uint16Array(t),Module.HEAP32=new Int32Array(t),Module.HEAPU32=new Uint32Array(t),Module.HEAPF32=new Float32Array(t),Module.HEAPF64=new Float64Array(t)}if(Module.wasmMemory)wasmMemory=Module.wasmMemory;else{var INITIAL_MEMORY=Module.INITIAL_MEMORY||33554432;wasmMemory=new WebAssembly.Memory({initial:INITIAL_MEMORY/65536,maximum:2147483648/65536})}updateMemoryViews();var __ATPRERUN__=[],__ATINIT__=[],__ATMAIN__=[],__ATPOSTRUN__=[],__RELOC_FUNCS__=[],runtimeInitialized=!1;function preRun(){if(Module.preRun)for(typeof Module.preRun=="function"&&(Module.preRun=[Module.preRun]);Module.preRun.length;)addOnPreRun(Module.preRun.shift());callRuntimeCallbacks(__ATPRERUN__)}function initRuntime(){runtimeInitialized=!0,callRuntimeCallbacks(__RELOC_FUNCS__),callRuntimeCallbacks(__ATINIT__)}function preMain(){callRuntimeCallbacks(__ATMAIN__)}function postRun(){if(Module.postRun)for(typeof Module.postRun=="function"&&(Module.postRun=[Module.postRun]);Module.postRun.length;)addOnPostRun(Module.postRun.shift());callRuntimeCallbacks(__ATPOSTRUN__)}function addOnPreRun(t){__ATPRERUN__.unshift(t)}function addOnInit(t){__ATINIT__.unshift(t)}function addOnPostRun(t){__ATPOSTRUN__.unshift(t)}var runDependencies=0,dependenciesFulfilled=null;function getUniqueRunDependency(t){return t}function addRunDependency(t){runDependencies++,Module.monitorRunDependencies?.(runDependencies)}function removeRunDependency(t){if(runDependencies--,Module.monitorRunDependencies?.(runDependencies),runDependencies==0&&dependenciesFulfilled){var e=dependenciesFulfilled;dependenciesFulfilled=null,e()}}function abort(t){Module.onAbort?.(t),t="Aborted("+t+")",err(t),ABORT=!0,EXITSTATUS=1,t+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(t);throw e}var dataURIPrefix="data:application/octet-stream;base64,",isDataURI=t=>t.startsWith(dataURIPrefix),isFileURI=t=>t.startsWith("file://");function findWasmBinary(){var t="tree-sitter.wasm";return isDataURI(t)?t:locateFile(t)}var wasmBinaryFile;function getBinarySync(t){if(t==wasmBinaryFile&&wasmBinary)return new Uint8Array(wasmBinary);if(readBinary)return readBinary(t);throw"both async and sync fetching of the wasm failed"}function getBinaryPromise(t){return wasmBinary?Promise.resolve().then(()=>getBinarySync(t)):readAsync(t).then(e=>new Uint8Array(e),()=>getBinarySync(t))}function instantiateArrayBuffer(t,e,r){return getBinaryPromise(t).then(n=>WebAssembly.instantiate(n,e)).then(r,n=>{err(`failed to asynchronously prepare wasm: ${n}`),abort(n)})}function instantiateAsync(t,e,r,n){return!t&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(e)&&!isFileURI(e)&&!ENVIRONMENT_IS_NODE&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(s=>{var o=WebAssembly.instantiateStreaming(s,r);return o.then(n,function(a){return err(`wasm streaming compile failed: ${a}`),err("falling back to ArrayBuffer instantiation"),instantiateArrayBuffer(e,r,n)})}):instantiateArrayBuffer(e,r,n)}function getWasmImports(){return{env:wasmImports,wasi_snapshot_preview1:wasmImports,"GOT.mem":new Proxy(wasmImports,GOTHandler),"GOT.func":new Proxy(wasmImports,GOTHandler)}}function createWasm(){var t=getWasmImports();function e(n,s){wasmExports=n.exports,wasmExports=relocateExports(wasmExports,1024);var o=getDylinkMetadata(s);return o.neededDynlibs&&(dynamicLibraries=o.neededDynlibs.concat(dynamicLibraries)),mergeLibSymbols(wasmExports),LDSO.init(),loadDylibs(),addOnInit(wasmExports.__wasm_call_ctors),__RELOC_FUNCS__.push(wasmExports.__wasm_apply_data_relocs),removeRunDependency(),wasmExports}addRunDependency();function r(n){e(n.instance,n.module)}if(Module.instantiateWasm)try{return Module.instantiateWasm(t,e)}catch(n){return err(`Module.instantiateWasm callback failed with error: ${n}`),!1}return wasmBinaryFile||(wasmBinaryFile=findWasmBinary()),instantiateAsync(wasmBinary,wasmBinaryFile,t,r),{}}function ExitStatus(t){this.name="ExitStatus",this.message=`Program terminated with exit(${t})`,this.status=t}var GOT={},currentModuleWeakSymbols=new Set([]),GOTHandler={get(t,e){var r=GOT[e];return r||(r=GOT[e]=new WebAssembly.Global({value:"i32",mutable:!0})),currentModuleWeakSymbols.has(e)||(r.required=!0),r}},LE_HEAP_LOAD_F32=t=>HEAP_DATA_VIEW.getFloat32(t,!0),LE_HEAP_LOAD_F64=t=>HEAP_DATA_VIEW.getFloat64(t,!0),LE_HEAP_LOAD_I16=t=>HEAP_DATA_VIEW.getInt16(t,!0),LE_HEAP_LOAD_I32=t=>HEAP_DATA_VIEW.getInt32(t,!0),LE_HEAP_LOAD_U32=t=>HEAP_DATA_VIEW.getUint32(t,!0),LE_HEAP_STORE_F32=(t,e)=>HEAP_DATA_VIEW.setFloat32(t,e,!0),LE_HEAP_STORE_F64=(t,e)=>HEAP_DATA_VIEW.setFloat64(t,e,!0),LE_HEAP_STORE_I16=(t,e)=>HEAP_DATA_VIEW.setInt16(t,e,!0),LE_HEAP_STORE_I32=(t,e)=>HEAP_DATA_VIEW.setInt32(t,e,!0),LE_HEAP_STORE_U32=(t,e)=>HEAP_DATA_VIEW.setUint32(t,e,!0),callRuntimeCallbacks=t=>{for(;t.length>0;)t.shift()(Module)},UTF8Decoder=typeof TextDecoder<"u"?new TextDecoder:void 0,UTF8ArrayToString=(t,e,r)=>{for(var n=e+r,s=e;t[s]&&!(s>=n);)++s;if(s-e>16&&t.buffer&&UTF8Decoder)return UTF8Decoder.decode(t.subarray(e,s));for(var o="";e<s;){var a=t[e++];if(!(a&128)){o+=String.fromCharCode(a);continue}var l=t[e++]&63;if((a&224)==192){o+=String.fromCharCode((a&31)<<6|l);continue}var u=t[e++]&63;if((a&240)==224?a=(a&15)<<12|l<<6|u:a=(a&7)<<18|l<<12|u<<6|t[e++]&63,a<65536)o+=String.fromCharCode(a);else{var c=a-65536;o+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return o},getDylinkMetadata=t=>{var e=0,r=0;function n(){return t[e++]}function s(){for(var L=0,O=1;;){var S=t[e++];if(L+=(S&127)*O,O*=128,!(S&128))break}return L}function o(){var L=s();return e+=L,UTF8ArrayToString(t,e-L,L)}function a(L,O){if(L)throw new Error(O)}var l="dylink.0";if(t instanceof WebAssembly.Module){var u=WebAssembly.Module.customSections(t,l);u.length===0&&(l="dylink",u=WebAssembly.Module.customSections(t,l)),a(u.length===0,"need dylink section"),t=new Uint8Array(u[0]),r=t.length}else{var c=new Uint32Array(new Uint8Array(t.subarray(0,24)).buffer),d=c[0]==1836278016||c[0]==6386541;a(!d,"need to see wasm magic number"),a(t[8]!==0,"need the dylink section to be first"),e=9;var h=s();r=e+h,l=o()}var f={neededDynlibs:[],tlsExports:new Set,weakImports:new Set};if(l=="dylink"){f.memorySize=s(),f.memoryAlign=s(),f.tableSize=s(),f.tableAlign=s();for(var m=s(),g=0;g<m;++g){var y=o();f.neededDynlibs.push(y)}}else{a(l!=="dylink.0");for(var E=1,b=2,p=3,_=4,R=256,v=3,x=1;e<r;){var T=n(),w=s();if(T===E)f.memorySize=s(),f.memoryAlign=s(),f.tableSize=s(),f.tableAlign=s();else if(T===b)for(var m=s(),g=0;g<m;++g)y=o(),f.neededDynlibs.push(y);else if(T===p)for(var A=s();A--;){var U=o(),$=s();$&R&&f.tlsExports.add(U)}else if(T===_)for(var A=s();A--;){o();var U=o(),$=s();($&v)==x&&f.weakImports.add(U)}else e+=w}}return f};function getValue(t,e="i8"){switch(e.endsWith("*")&&(e="*"),e){case"i1":return HEAP8[t];case"i8":return HEAP8[t];case"i16":return LE_HEAP_LOAD_I16((t>>1)*2);case"i32":return LE_HEAP_LOAD_I32((t>>2)*4);case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return LE_HEAP_LOAD_F32((t>>2)*4);case"double":return LE_HEAP_LOAD_F64((t>>3)*8);case"*":return LE_HEAP_LOAD_U32((t>>2)*4);default:abort(`invalid type for getValue: ${e}`)}}var newDSO=(t,e,r)=>{var n={refcount:1/0,name:t,exports:r,global:!0};return LDSO.loadedLibsByName[t]=n,e!=null&&(LDSO.loadedLibsByHandle[e]=n),n},LDSO={loadedLibsByName:{},loadedLibsByHandle:{},init(){newDSO("__main__",0,wasmImports)}},___heap_base=78112,zeroMemory=(t,e)=>(HEAPU8.fill(0,t,t+e),t),alignMemory=(t,e)=>Math.ceil(t/e)*e,getMemory=t=>{if(runtimeInitialized)return zeroMemory(_malloc(t),t);var e=___heap_base,r=e+alignMemory(t,16);return ___heap_base=r,GOT.__heap_base.value=r,e},isInternalSym=t=>["__cpp_exception","__c_longjmp","__wasm_apply_data_relocs","__dso_handle","__tls_size","__tls_align","__set_stack_limits","_emscripten_tls_init","__wasm_init_tls","__wasm_call_ctors","__start_em_asm","__stop_em_asm","__start_em_js","__stop_em_js"].includes(t)||t.startsWith("__em_js__"),uleb128Encode=(t,e)=>{t<128?e.push(t):e.push(t%128|128,t>>7)},sigToWasmTypes=t=>{for(var e={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},r={parameters:[],results:t[0]=="v"?[]:[e[t[0]]]},n=1;n<t.length;++n)r.parameters.push(e[t[n]]);return r},generateFuncType=(t,e)=>{var r=t.slice(0,1),n=t.slice(1),s={i:127,p:127,j:126,f:125,d:124,e:111};e.push(96),uleb128Encode(n.length,e);for(var o=0;o<n.length;++o)e.push(s[n[o]]);r=="v"?e.push(0):e.push(1,s[r])},convertJsFunctionToWasm=(t,e)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(sigToWasmTypes(e),t);var r=[1];generateFuncType(e,r);var n=[0,97,115,109,1,0,0,0,1];uleb128Encode(r.length,n),n.push(...r),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var s=new WebAssembly.Module(new Uint8Array(n)),o=new WebAssembly.Instance(s,{e:{f:t}}),a=o.exports.f;return a},wasmTableMirror=[],wasmTable=new WebAssembly.Table({initial:28,element:"anyfunc"}),getWasmTableEntry=t=>{var e=wasmTableMirror[t];return e||(t>=wasmTableMirror.length&&(wasmTableMirror.length=t+1),wasmTableMirror[t]=e=wasmTable.get(t)),e},updateTableMap=(t,e)=>{if(functionsInTableMap)for(var r=t;r<t+e;r++){var n=getWasmTableEntry(r);n&&functionsInTableMap.set(n,r)}},functionsInTableMap,getFunctionAddress=t=>(functionsInTableMap||(functionsInTableMap=new WeakMap,updateTableMap(0,wasmTable.length)),functionsInTableMap.get(t)||0),freeTableIndexes=[],getEmptyTableSlot=()=>{if(freeTableIndexes.length)return freeTableIndexes.pop();try{wasmTable.grow(1)}catch(t){throw t instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":t}return wasmTable.length-1},setWasmTableEntry=(t,e)=>{wasmTable.set(t,e),wasmTableMirror[t]=wasmTable.get(t)},addFunction=(t,e)=>{var r=getFunctionAddress(t);if(r)return r;var n=getEmptyTableSlot();try{setWasmTableEntry(n,t)}catch(o){if(!(o instanceof TypeError))throw o;var s=convertJsFunctionToWasm(t,e);setWasmTableEntry(n,s)}return functionsInTableMap.set(t,n),n},updateGOT=(t,e)=>{for(var r in t)if(!isInternalSym(r)){var n=t[r];r.startsWith("orig$")&&(r=r.split("$")[1],e=!0),GOT[r]||=new WebAssembly.Global({value:"i32",mutable:!0}),(e||GOT[r].value==0)&&(typeof n=="function"?GOT[r].value=addFunction(n):typeof n=="number"?GOT[r].value=n:err(`unhandled export type for '${r}': ${typeof n}`))}},relocateExports=(t,e,r)=>{var n={};for(var s in t){var o=t[s];typeof o=="object"&&(o=o.value),typeof o=="number"&&(o+=e),n[s]=o}return updateGOT(n,r),n},isSymbolDefined=t=>{var e=wasmImports[t];return!(!e||e.stub)},dynCallLegacy=(t,e,r)=>{t=t.replace(/p/g,"i");var n=Module["dynCall_"+t];return n(e,...r)},dynCall=(t,e,r=[])=>{if(t.includes("j"))return dynCallLegacy(t,e,r);var n=getWasmTableEntry(e)(...r);return n},stackSave=()=>_emscripten_stack_get_current(),stackRestore=t=>__emscripten_stack_restore(t),createInvokeFunction=t=>(e,...r)=>{var n=stackSave();try{return dynCall(t,e,r)}catch(s){if(stackRestore(n),s!==s+0)throw s;_setThrew(1,0)}},resolveGlobalSymbol=(t,e=!1)=>{var r;return e&&"orig$"+t in wasmImports&&(t="orig$"+t),isSymbolDefined(t)?r=wasmImports[t]:t.startsWith("invoke_")&&(r=wasmImports[t]=createInvokeFunction(t.split("_")[1])),{sym:r,name:t}},UTF8ToString=(t,e)=>t?UTF8ArrayToString(HEAPU8,t,e):"",loadWebAssemblyModule=(binary,flags,libName,localScope,handle)=>{var metadata=getDylinkMetadata(binary);currentModuleWeakSymbols=metadata.weakImports;function loadModule(){var memAlign=Math.pow(2,metadata.memoryAlign),memoryBase=metadata.memorySize?alignMemory(getMemory(metadata.memorySize+memAlign),memAlign):0,tableBase=metadata.tableSize?wasmTable.length:0,tableGrowthNeeded=tableBase+metadata.tableSize-wasmTable.length;tableGrowthNeeded>0&&wasmTable.grow(tableGrowthNeeded);var moduleExports;function resolveSymbol(t){var e=resolveGlobalSymbol(t).sym;return!e&&localScope&&(e=localScope[t]),e||(e=moduleExports[t]),e}var proxyHandler={get(t,e){switch(e){case"__memory_base":return memoryBase;case"__table_base":return tableBase}if(e in wasmImports&&!wasmImports[e].stub)return wasmImports[e];if(!(e in t)){var r;t[e]=(...n)=>(r||=resolveSymbol(e),r(...n))}return t[e]}},proxy=new Proxy({},proxyHandler),info={"GOT.mem":new Proxy({},GOTHandler),"GOT.func":new Proxy({},GOTHandler),env:proxy,wasi_snapshot_preview1:proxy};function postInstantiation(module,instance){updateTableMap(tableBase,metadata.tableSize),moduleExports=relocateExports(instance.exports,memoryBase),flags.allowUndefined||reportUndefinedSymbols();function addEmAsm(addr,body){for(var args=[],arity=0;arity<16&&body.indexOf("$"+arity)!=-1;arity++)args.push("$"+arity);args=args.join(",");var func=`(${args}) => { ${body} };`;eval(func)}if("__start_em_asm"in moduleExports)for(var start=moduleExports.__start_em_asm,stop=moduleExports.__stop_em_asm;start<stop;){var jsString=UTF8ToString(start);addEmAsm(start,jsString),start=HEAPU8.indexOf(0,start)+1}function addEmJs(name,cSig,body){var jsArgs=[];if(cSig=cSig.slice(1,-1),cSig!="void"){cSig=cSig.split(",");for(var i in cSig){var jsArg=cSig[i].split(" ").pop();jsArgs.push(jsArg.replace("*",""))}}var func=`(${jsArgs}) => ${body};`;moduleExports[name]=eval(func)}for(var name in moduleExports)if(name.startsWith("__em_js__")){var start=moduleExports[name],jsString=UTF8ToString(start),parts=jsString.split("<::>");addEmJs(name.replace("__em_js__",""),parts[0],parts[1]),delete moduleExports[name]}var applyRelocs=moduleExports.__wasm_apply_data_relocs;applyRelocs&&(runtimeInitialized?applyRelocs():__RELOC_FUNCS__.push(applyRelocs));var init=moduleExports.__wasm_call_ctors;return init&&(runtimeInitialized?init():__ATINIT__.push(init)),moduleExports}if(flags.loadAsync){if(binary instanceof WebAssembly.Module){var instance=new WebAssembly.Instance(binary,info);return Promise.resolve(postInstantiation(binary,instance))}return WebAssembly.instantiate(binary,info).then(t=>postInstantiation(t.module,t.instance))}var module=binary instanceof WebAssembly.Module?binary:new WebAssembly.Module(binary),instance=new WebAssembly.Instance(module,info);return postInstantiation(module,instance)}return flags.loadAsync?metadata.neededDynlibs.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,flags,localScope)),Promise.resolve()).then(loadModule):(metadata.neededDynlibs.forEach(t=>loadDynamicLibrary(t,flags,localScope)),loadModule())},mergeLibSymbols=(t,e)=>{for(var[r,n]of Object.entries(t)){const s=a=>{isSymbolDefined(a)||(wasmImports[a]=n)};s(r);const o="__main_argc_argv";r=="main"&&s(o),r==o&&s("main"),r.startsWith("dynCall_")&&!Module.hasOwnProperty(r)&&(Module[r]=n)}},asyncLoad=(t,e,r,n)=>{var s=`al ${t}`;readAsync(t).then(o=>{e(new Uint8Array(o)),s&&removeRunDependency()},o=>{if(r)r();else throw`Loading data file "${t}" failed.`}),s&&addRunDependency()};function loadDynamicLibrary(t,e={global:!0,nodelete:!0},r,n){var s=LDSO.loadedLibsByName[t];if(s)return e.global&&(s.global||(s.global=!0,mergeLibSymbols(s.exports))),e.nodelete&&s.refcount!==1/0&&(s.refcount=1/0),s.refcount++,e.loadAsync?Promise.resolve(!0):!0;s=newDSO(t,n,"loading"),s.refcount=e.nodelete?1/0:1,s.global=e.global;function o(){var u=locateFile(t);if(e.loadAsync)return new Promise(function(c,d){asyncLoad(u,c,d)});if(!readBinary)throw new Error(`${u}: file not found, and synchronous loading of external files is not available`);return readBinary(u)}function a(){return e.loadAsync?o().then(u=>loadWebAssemblyModule(u,e,t,r)):loadWebAssemblyModule(o(),e,t,r)}function l(u){s.global&&mergeLibSymbols(u),s.exports=u}return e.loadAsync?a().then(u=>(l(u),!0)):(l(a()),!0)}var reportUndefinedSymbols=()=>{for(var[t,e]of Object.entries(GOT))if(e.value==0){var r=resolveGlobalSymbol(t,!0).sym;if(!r&&!e.required)continue;if(typeof r=="function")e.value=addFunction(r,r.sig);else if(typeof r=="number")e.value=r;else throw new Error(`bad export type for '${t}': ${typeof r}`)}},loadDylibs=()=>{if(!dynamicLibraries.length){reportUndefinedSymbols();return}addRunDependency(),dynamicLibraries.reduce((t,e)=>t.then(()=>loadDynamicLibrary(e,{loadAsync:!0,global:!0,nodelete:!0,allowUndefined:!0})),Promise.resolve()).then(()=>{reportUndefinedSymbols(),removeRunDependency()})};Module.noExitRuntime;function setValue(t,e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":HEAP8[t]=e;break;case"i8":HEAP8[t]=e;break;case"i16":LE_HEAP_STORE_I16((t>>1)*2,e);break;case"i32":LE_HEAP_STORE_I32((t>>2)*4,e);break;case"i64":abort("to do setValue(i64) use WASM_BIGINT");case"float":LE_HEAP_STORE_F32((t>>2)*4,e);break;case"double":LE_HEAP_STORE_F64((t>>3)*8,e);break;case"*":LE_HEAP_STORE_U32((t>>2)*4,e);break;default:abort(`invalid type for setValue: ${r}`)}}var ___memory_base=new WebAssembly.Global({value:"i32",mutable:!1},1024),___stack_pointer=new WebAssembly.Global({value:"i32",mutable:!0},78112),___table_base=new WebAssembly.Global({value:"i32",mutable:!1},1),__abort_js=()=>{abort("")};__abort_js.sig="v";var nowIsMonotonic=1,__emscripten_get_now_is_monotonic=()=>nowIsMonotonic;__emscripten_get_now_is_monotonic.sig="i";var __emscripten_memcpy_js=(t,e,r)=>HEAPU8.copyWithin(t,e,e+r);__emscripten_memcpy_js.sig="vppp";var _emscripten_get_now;_emscripten_get_now=()=>performance.now(),_emscripten_get_now.sig="d";var getHeapMax=()=>2147483648,growMemory=t=>{var e=wasmMemory.buffer,r=(t-e.byteLength+65535)/65536;try{return wasmMemory.grow(r),updateMemoryViews(),1}catch{}},_emscripten_resize_heap=t=>{var e=HEAPU8.length;t>>>=0;var r=getHeapMax();if(t>r)return!1;for(var n=(u,c)=>u+(c-u%c)%c,s=1;s<=4;s*=2){var o=e*(1+.2/s);o=Math.min(o,t+100663296);var a=Math.min(r,n(Math.max(t,o),65536)),l=growMemory(a);if(l)return!0}return!1};_emscripten_resize_heap.sig="ip";var _fd_close=t=>52;_fd_close.sig="ii";function _fd_seek(t,e,r,n,s){return 70}_fd_seek.sig="iiiiip";var printCharBuffers=[null,[],[]],printChar=(t,e)=>{var r=printCharBuffers[t];e===0||e===10?((t===1?out:err)(UTF8ArrayToString(r,0)),r.length=0):r.push(e)},_fd_write=(t,e,r,n)=>{for(var s=0,o=0;o<r;o++){var a=LE_HEAP_LOAD_U32((e>>2)*4),l=LE_HEAP_LOAD_U32((e+4>>2)*4);e+=8;for(var u=0;u<l;u++)printChar(t,HEAPU8[a+u]);s+=l}return LE_HEAP_STORE_U32((n>>2)*4,s),0};_fd_write.sig="iippp";function _tree_sitter_log_callback(t,e){if(currentLogCallback){const r=UTF8ToString(e);currentLogCallback(r,t!==0)}}function _tree_sitter_parse_callback(t,e,r,n,s){const a=currentParseCallback(e,{row:r,column:n});typeof a=="string"?(setValue(s,a.length,"i32"),stringToUTF16(a,t,10240)):setValue(s,0,"i32")}var _proc_exit=t=>{EXITSTATUS=t,quit_(t,new ExitStatus(t))};_proc_exit.sig="vi";var exitJS=(t,e)=>{EXITSTATUS=t,_proc_exit(t)},handleException=t=>{if(t instanceof ExitStatus||t=="unwind")return EXITSTATUS;quit_(1,t)},lengthBytesUTF8=t=>{for(var e=0,r=0;r<t.length;++r){var n=t.charCodeAt(r);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++r):e+=3}return e},stringToUTF8Array=(t,e,r,n)=>{if(!(n>0))return 0;for(var s=r,o=r+n-1,a=0;a<t.length;++a){var l=t.charCodeAt(a);if(l>=55296&&l<=57343){var u=t.charCodeAt(++a);l=65536+((l&1023)<<10)|u&1023}if(l<=127){if(r>=o)break;e[r++]=l}else if(l<=2047){if(r+1>=o)break;e[r++]=192|l>>6,e[r++]=128|l&63}else if(l<=65535){if(r+2>=o)break;e[r++]=224|l>>12,e[r++]=128|l>>6&63,e[r++]=128|l&63}else{if(r+3>=o)break;e[r++]=240|l>>18,e[r++]=128|l>>12&63,e[r++]=128|l>>6&63,e[r++]=128|l&63}}return e[r]=0,r-s},stringToUTF8=(t,e,r)=>stringToUTF8Array(t,HEAPU8,e,r),stackAlloc=t=>__emscripten_stack_alloc(t),stringToUTF8OnStack=t=>{var e=lengthBytesUTF8(t)+1,r=stackAlloc(e);return stringToUTF8(t,r,e),r},stringToUTF16=(t,e,r)=>{if(r??=2147483647,r<2)return 0;r-=2;for(var n=e,s=r<t.length*2?r/2:t.length,o=0;o<s;++o){var a=t.charCodeAt(o);LE_HEAP_STORE_I16((e>>1)*2,a),e+=2}return LE_HEAP_STORE_I16((e>>1)*2,0),e-n},AsciiToString=t=>{for(var e="";;){var r=HEAPU8[t++];if(!r)return e;e+=String.fromCharCode(r)}},wasmImports={__heap_base:___heap_base,__indirect_function_table:wasmTable,__memory_base:___memory_base,__stack_pointer:___stack_pointer,__table_base:___table_base,_abort_js:__abort_js,_emscripten_get_now_is_monotonic:__emscripten_get_now_is_monotonic,_emscripten_memcpy_js:__emscripten_memcpy_js,emscripten_get_now:_emscripten_get_now,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,memory:wasmMemory,tree_sitter_log_callback:_tree_sitter_log_callback,tree_sitter_parse_callback:_tree_sitter_parse_callback},wasmExports=createWasm(),_malloc=Module._malloc=t=>(_malloc=Module._malloc=wasmExports.malloc)(t);Module._calloc=(t,e)=>(Module._calloc=wasmExports.calloc)(t,e),Module._realloc=(t,e)=>(Module._realloc=wasmExports.realloc)(t,e),Module._free=t=>(Module._free=wasmExports.free)(t),Module._ts_language_symbol_count=t=>(Module._ts_language_symbol_count=wasmExports.ts_language_symbol_count)(t),Module._ts_language_state_count=t=>(Module._ts_language_state_count=wasmExports.ts_language_state_count)(t),Module._ts_language_version=t=>(Module._ts_language_version=wasmExports.ts_language_version)(t),Module._ts_language_field_count=t=>(Module._ts_language_field_count=wasmExports.ts_language_field_count)(t),Module._ts_language_next_state=(t,e,r)=>(Module._ts_language_next_state=wasmExports.ts_language_next_state)(t,e,r),Module._ts_language_symbol_name=(t,e)=>(Module._ts_language_symbol_name=wasmExports.ts_language_symbol_name)(t,e),Module._ts_language_symbol_for_name=(t,e,r,n)=>(Module._ts_language_symbol_for_name=wasmExports.ts_language_symbol_for_name)(t,e,r,n),Module._strncmp=(t,e,r)=>(Module._strncmp=wasmExports.strncmp)(t,e,r),Module._ts_language_symbol_type=(t,e)=>(Module._ts_language_symbol_type=wasmExports.ts_language_symbol_type)(t,e),Module._ts_language_field_name_for_id=(t,e)=>(Module._ts_language_field_name_for_id=wasmExports.ts_language_field_name_for_id)(t,e),Module._ts_lookahead_iterator_new=(t,e)=>(Module._ts_lookahead_iterator_new=wasmExports.ts_lookahead_iterator_new)(t,e),Module._ts_lookahead_iterator_delete=t=>(Module._ts_lookahead_iterator_delete=wasmExports.ts_lookahead_iterator_delete)(t),Module._ts_lookahead_iterator_reset_state=(t,e)=>(Module._ts_lookahead_iterator_reset_state=wasmExports.ts_lookahead_iterator_reset_state)(t,e),Module._ts_lookahead_iterator_reset=(t,e,r)=>(Module._ts_lookahead_iterator_reset=wasmExports.ts_lookahead_iterator_reset)(t,e,r),Module._ts_lookahead_iterator_next=t=>(Module._ts_lookahead_iterator_next=wasmExports.ts_lookahead_iterator_next)(t),Module._ts_lookahead_iterator_current_symbol=t=>(Module._ts_lookahead_iterator_current_symbol=wasmExports.ts_lookahead_iterator_current_symbol)(t),Module._memset=(t,e,r)=>(Module._memset=wasmExports.memset)(t,e,r),Module._memcpy=(t,e,r)=>(Module._memcpy=wasmExports.memcpy)(t,e,r),Module._ts_parser_delete=t=>(Module._ts_parser_delete=wasmExports.ts_parser_delete)(t),Module._ts_parser_reset=t=>(Module._ts_parser_reset=wasmExports.ts_parser_reset)(t),Module._ts_parser_set_language=(t,e)=>(Module._ts_parser_set_language=wasmExports.ts_parser_set_language)(t,e),Module._ts_parser_timeout_micros=t=>(Module._ts_parser_timeout_micros=wasmExports.ts_parser_timeout_micros)(t),Module._ts_parser_set_timeout_micros=(t,e,r)=>(Module._ts_parser_set_timeout_micros=wasmExports.ts_parser_set_timeout_micros)(t,e,r),Module._ts_parser_set_included_ranges=(t,e,r)=>(Module._ts_parser_set_included_ranges=wasmExports.ts_parser_set_included_ranges)(t,e,r),Module._memmove=(t,e,r)=>(Module._memmove=wasmExports.memmove)(t,e,r),Module._memcmp=(t,e,r)=>(Module._memcmp=wasmExports.memcmp)(t,e,r),Module._ts_query_new=(t,e,r,n,s)=>(Module._ts_query_new=wasmExports.ts_query_new)(t,e,r,n,s),Module._ts_query_delete=t=>(Module._ts_query_delete=wasmExports.ts_query_delete)(t),Module._iswspace=t=>(Module._iswspace=wasmExports.iswspace)(t),Module._iswalnum=t=>(Module._iswalnum=wasmExports.iswalnum)(t),Module._ts_query_pattern_count=t=>(Module._ts_query_pattern_count=wasmExports.ts_query_pattern_count)(t),Module._ts_query_capture_count=t=>(Module._ts_query_capture_count=wasmExports.ts_query_capture_count)(t),Module._ts_query_string_count=t=>(Module._ts_query_string_count=wasmExports.ts_query_string_count)(t),Module._ts_query_capture_name_for_id=(t,e,r)=>(Module._ts_query_capture_name_for_id=wasmExports.ts_query_capture_name_for_id)(t,e,r),Module._ts_query_string_value_for_id=(t,e,r)=>(Module._ts_query_string_value_for_id=wasmExports.ts_query_string_value_for_id)(t,e,r),Module._ts_query_predicates_for_pattern=(t,e,r)=>(Module._ts_query_predicates_for_pattern=wasmExports.ts_query_predicates_for_pattern)(t,e,r),Module._ts_query_disable_capture=(t,e,r)=>(Module._ts_query_disable_capture=wasmExports.ts_query_disable_capture)(t,e,r),Module._ts_tree_copy=t=>(Module._ts_tree_copy=wasmExports.ts_tree_copy)(t),Module._ts_tree_delete=t=>(Module._ts_tree_delete=wasmExports.ts_tree_delete)(t),Module._ts_init=()=>(Module._ts_init=wasmExports.ts_init)(),Module._ts_parser_new_wasm=()=>(Module._ts_parser_new_wasm=wasmExports.ts_parser_new_wasm)(),Module._ts_parser_enable_logger_wasm=(t,e)=>(Module._ts_parser_enable_logger_wasm=wasmExports.ts_parser_enable_logger_wasm)(t,e),Module._ts_parser_parse_wasm=(t,e,r,n,s)=>(Module._ts_parser_parse_wasm=wasmExports.ts_parser_parse_wasm)(t,e,r,n,s),Module._ts_parser_included_ranges_wasm=t=>(Module._ts_parser_included_ranges_wasm=wasmExports.ts_parser_included_ranges_wasm)(t),Module._ts_language_type_is_named_wasm=(t,e)=>(Module._ts_language_type_is_named_wasm=wasmExports.ts_language_type_is_named_wasm)(t,e),Module._ts_language_type_is_visible_wasm=(t,e)=>(Module._ts_language_type_is_visible_wasm=wasmExports.ts_language_type_is_visible_wasm)(t,e),Module._ts_tree_root_node_wasm=t=>(Module._ts_tree_root_node_wasm=wasmExports.ts_tree_root_node_wasm)(t),Module._ts_tree_root_node_with_offset_wasm=t=>(Module._ts_tree_root_node_with_offset_wasm=wasmExports.ts_tree_root_node_with_offset_wasm)(t),Module._ts_tree_edit_wasm=t=>(Module._ts_tree_edit_wasm=wasmExports.ts_tree_edit_wasm)(t),Module._ts_tree_included_ranges_wasm=t=>(Module._ts_tree_included_ranges_wasm=wasmExports.ts_tree_included_ranges_wasm)(t),Module._ts_tree_get_changed_ranges_wasm=(t,e)=>(Module._ts_tree_get_changed_ranges_wasm=wasmExports.ts_tree_get_changed_ranges_wasm)(t,e),Module._ts_tree_cursor_new_wasm=t=>(Module._ts_tree_cursor_new_wasm=wasmExports.ts_tree_cursor_new_wasm)(t),Module._ts_tree_cursor_delete_wasm=t=>(Module._ts_tree_cursor_delete_wasm=wasmExports.ts_tree_cursor_delete_wasm)(t),Module._ts_tree_cursor_reset_wasm=t=>(Module._ts_tree_cursor_reset_wasm=wasmExports.ts_tree_cursor_reset_wasm)(t),Module._ts_tree_cursor_reset_to_wasm=(t,e)=>(Module._ts_tree_cursor_reset_to_wasm=wasmExports.ts_tree_cursor_reset_to_wasm)(t,e),Module._ts_tree_cursor_goto_first_child_wasm=t=>(Module._ts_tree_cursor_goto_first_child_wasm=wasmExports.ts_tree_cursor_goto_first_child_wasm)(t),Module._ts_tree_cursor_goto_last_child_wasm=t=>(Module._ts_tree_cursor_goto_last_child_wasm=wasmExports.ts_tree_cursor_goto_last_child_wasm)(t),Module._ts_tree_cursor_goto_first_child_for_index_wasm=t=>(Module._ts_tree_cursor_goto_first_child_for_index_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_index_wasm)(t),Module._ts_tree_cursor_goto_first_child_for_position_wasm=t=>(Module._ts_tree_cursor_goto_first_child_for_position_wasm=wasmExports.ts_tree_cursor_goto_first_child_for_position_wasm)(t),Module._ts_tree_cursor_goto_next_sibling_wasm=t=>(Module._ts_tree_cursor_goto_next_sibling_wasm=wasmExports.ts_tree_cursor_goto_next_sibling_wasm)(t),Module._ts_tree_cursor_goto_previous_sibling_wasm=t=>(Module._ts_tree_cursor_goto_previous_sibling_wasm=wasmExports.ts_tree_cursor_goto_previous_sibling_wasm)(t),Module._ts_tree_cursor_goto_descendant_wasm=(t,e)=>(Module._ts_tree_cursor_goto_descendant_wasm=wasmExports.ts_tree_cursor_goto_descendant_wasm)(t,e),Module._ts_tree_cursor_goto_parent_wasm=t=>(Module._ts_tree_cursor_goto_parent_wasm=wasmExports.ts_tree_cursor_goto_parent_wasm)(t),Module._ts_tree_cursor_current_node_type_id_wasm=t=>(Module._ts_tree_cursor_current_node_type_id_wasm=wasmExports.ts_tree_cursor_current_node_type_id_wasm)(t),Module._ts_tree_cursor_current_node_state_id_wasm=t=>(Module._ts_tree_cursor_current_node_state_id_wasm=wasmExports.ts_tree_cursor_current_node_state_id_wasm)(t),Module._ts_tree_cursor_current_node_is_named_wasm=t=>(Module._ts_tree_cursor_current_node_is_named_wasm=wasmExports.ts_tree_cursor_current_node_is_named_wasm)(t),Module._ts_tree_cursor_current_node_is_missing_wasm=t=>(Module._ts_tree_cursor_current_node_is_missing_wasm=wasmExports.ts_tree_cursor_current_node_is_missing_wasm)(t),Module._ts_tree_cursor_current_node_id_wasm=t=>(Module._ts_tree_cursor_current_node_id_wasm=wasmExports.ts_tree_cursor_current_node_id_wasm)(t),Module._ts_tree_cursor_start_position_wasm=t=>(Module._ts_tree_cursor_start_position_wasm=wasmExports.ts_tree_cursor_start_position_wasm)(t),Module._ts_tree_cursor_end_position_wasm=t=>(Module._ts_tree_cursor_end_position_wasm=wasmExports.ts_tree_cursor_end_position_wasm)(t),Module._ts_tree_cursor_start_index_wasm=t=>(Module._ts_tree_cursor_start_index_wasm=wasmExports.ts_tree_cursor_start_index_wasm)(t),Module._ts_tree_cursor_end_index_wasm=t=>(Module._ts_tree_cursor_end_index_wasm=wasmExports.ts_tree_cursor_end_index_wasm)(t),Module._ts_tree_cursor_current_field_id_wasm=t=>(Module._ts_tree_cursor_current_field_id_wasm=wasmExports.ts_tree_cursor_current_field_id_wasm)(t),Module._ts_tree_cursor_current_depth_wasm=t=>(Module._ts_tree_cursor_current_depth_wasm=wasmExports.ts_tree_cursor_current_depth_wasm)(t),Module._ts_tree_cursor_current_descendant_index_wasm=t=>(Module._ts_tree_cursor_current_descendant_index_wasm=wasmExports.ts_tree_cursor_current_descendant_index_wasm)(t),Module._ts_tree_cursor_current_node_wasm=t=>(Module._ts_tree_cursor_current_node_wasm=wasmExports.ts_tree_cursor_current_node_wasm)(t),Module._ts_node_symbol_wasm=t=>(Module._ts_node_symbol_wasm=wasmExports.ts_node_symbol_wasm)(t),Module._ts_node_field_name_for_child_wasm=(t,e)=>(Module._ts_node_field_name_for_child_wasm=wasmExports.ts_node_field_name_for_child_wasm)(t,e),Module._ts_node_children_by_field_id_wasm=(t,e)=>(Module._ts_node_children_by_field_id_wasm=wasmExports.ts_node_children_by_field_id_wasm)(t,e),Module._ts_node_first_child_for_byte_wasm=t=>(Module._ts_node_first_child_for_byte_wasm=wasmExports.ts_node_first_child_for_byte_wasm)(t),Module._ts_node_first_named_child_for_byte_wasm=t=>(Module._ts_node_first_named_child_for_byte_wasm=wasmExports.ts_node_first_named_child_for_byte_wasm)(t),Module._ts_node_grammar_symbol_wasm=t=>(Module._ts_node_grammar_symbol_wasm=wasmExports.ts_node_grammar_symbol_wasm)(t),Module._ts_node_child_count_wasm=t=>(Module._ts_node_child_count_wasm=wasmExports.ts_node_child_count_wasm)(t),Module._ts_node_named_child_count_wasm=t=>(Module._ts_node_named_child_count_wasm=wasmExports.ts_node_named_child_count_wasm)(t),Module._ts_node_child_wasm=(t,e)=>(Module._ts_node_child_wasm=wasmExports.ts_node_child_wasm)(t,e),Module._ts_node_named_child_wasm=(t,e)=>(Module._ts_node_named_child_wasm=wasmExports.ts_node_named_child_wasm)(t,e),Module._ts_node_child_by_field_id_wasm=(t,e)=>(Module._ts_node_child_by_field_id_wasm=wasmExports.ts_node_child_by_field_id_wasm)(t,e),Module._ts_node_next_sibling_wasm=t=>(Module._ts_node_next_sibling_wasm=wasmExports.ts_node_next_sibling_wasm)(t),Module._ts_node_prev_sibling_wasm=t=>(Module._ts_node_prev_sibling_wasm=wasmExports.ts_node_prev_sibling_wasm)(t),Module._ts_node_next_named_sibling_wasm=t=>(Module._ts_node_next_named_sibling_wasm=wasmExports.ts_node_next_named_sibling_wasm)(t),Module._ts_node_prev_named_sibling_wasm=t=>(Module._ts_node_prev_named_sibling_wasm=wasmExports.ts_node_prev_named_sibling_wasm)(t),Module._ts_node_descendant_count_wasm=t=>(Module._ts_node_descendant_count_wasm=wasmExports.ts_node_descendant_count_wasm)(t),Module._ts_node_parent_wasm=t=>(Module._ts_node_parent_wasm=wasmExports.ts_node_parent_wasm)(t),Module._ts_node_descendant_for_index_wasm=t=>(Module._ts_node_descendant_for_index_wasm=wasmExports.ts_node_descendant_for_index_wasm)(t),Module._ts_node_named_descendant_for_index_wasm=t=>(Module._ts_node_named_descendant_for_index_wasm=wasmExports.ts_node_named_descendant_for_index_wasm)(t),Module._ts_node_descendant_for_position_wasm=t=>(Module._ts_node_descendant_for_position_wasm=wasmExports.ts_node_descendant_for_position_wasm)(t),Module._ts_node_named_descendant_for_position_wasm=t=>(Module._ts_node_named_descendant_for_position_wasm=wasmExports.ts_node_named_descendant_for_position_wasm)(t),Module._ts_node_start_point_wasm=t=>(Module._ts_node_start_point_wasm=wasmExports.ts_node_start_point_wasm)(t),Module._ts_node_end_point_wasm=t=>(Module._ts_node_end_point_wasm=wasmExports.ts_node_end_point_wasm)(t),Module._ts_node_start_index_wasm=t=>(Module._ts_node_start_index_wasm=wasmExports.ts_node_start_index_wasm)(t),Module._ts_node_end_index_wasm=t=>(Module._ts_node_end_index_wasm=wasmExports.ts_node_end_index_wasm)(t),Module._ts_node_to_string_wasm=t=>(Module._ts_node_to_string_wasm=wasmExports.ts_node_to_string_wasm)(t),Module._ts_node_children_wasm=t=>(Module._ts_node_children_wasm=wasmExports.ts_node_children_wasm)(t),Module._ts_node_named_children_wasm=t=>(Module._ts_node_named_children_wasm=wasmExports.ts_node_named_children_wasm)(t),Module._ts_node_descendants_of_type_wasm=(t,e,r,n,s,o,a)=>(Module._ts_node_descendants_of_type_wasm=wasmExports.ts_node_descendants_of_type_wasm)(t,e,r,n,s,o,a),Module._ts_node_is_named_wasm=t=>(Module._ts_node_is_named_wasm=wasmExports.ts_node_is_named_wasm)(t),Module._ts_node_has_changes_wasm=t=>(Module._ts_node_has_changes_wasm=wasmExports.ts_node_has_changes_wasm)(t),Module._ts_node_has_error_wasm=t=>(Module._ts_node_has_error_wasm=wasmExports.ts_node_has_error_wasm)(t),Module._ts_node_is_error_wasm=t=>(Module._ts_node_is_error_wasm=wasmExports.ts_node_is_error_wasm)(t),Module._ts_node_is_missing_wasm=t=>(Module._ts_node_is_missing_wasm=wasmExports.ts_node_is_missing_wasm)(t),Module._ts_node_is_extra_wasm=t=>(Module._ts_node_is_extra_wasm=wasmExports.ts_node_is_extra_wasm)(t),Module._ts_node_parse_state_wasm=t=>(Module._ts_node_parse_state_wasm=wasmExports.ts_node_parse_state_wasm)(t),Module._ts_node_next_parse_state_wasm=t=>(Module._ts_node_next_parse_state_wasm=wasmExports.ts_node_next_parse_state_wasm)(t),Module._ts_query_matches_wasm=(t,e,r,n,s,o,a,l,u,c,d)=>(Module._ts_query_matches_wasm=wasmExports.ts_query_matches_wasm)(t,e,r,n,s,o,a,l,u,c,d),Module._ts_query_captures_wasm=(t,e,r,n,s,o,a,l,u,c,d)=>(Module._ts_query_captures_wasm=wasmExports.ts_query_captures_wasm)(t,e,r,n,s,o,a,l,u,c,d),Module._iswalpha=t=>(Module._iswalpha=wasmExports.iswalpha)(t),Module._iswblank=t=>(Module._iswblank=wasmExports.iswblank)(t),Module._iswdigit=t=>(Module._iswdigit=wasmExports.iswdigit)(t),Module._iswlower=t=>(Module._iswlower=wasmExports.iswlower)(t),Module._iswupper=t=>(Module._iswupper=wasmExports.iswupper)(t),Module._iswxdigit=t=>(Module._iswxdigit=wasmExports.iswxdigit)(t),Module._memchr=(t,e,r)=>(Module._memchr=wasmExports.memchr)(t,e,r),Module._strlen=t=>(Module._strlen=wasmExports.strlen)(t),Module._strcmp=(t,e)=>(Module._strcmp=wasmExports.strcmp)(t,e),Module._strncat=(t,e,r)=>(Module._strncat=wasmExports.strncat)(t,e,r),Module._strncpy=(t,e,r)=>(Module._strncpy=wasmExports.strncpy)(t,e,r),Module._towlower=t=>(Module._towlower=wasmExports.towlower)(t),Module._towupper=t=>(Module._towupper=wasmExports.towupper)(t);var _setThrew=(t,e)=>(_setThrew=wasmExports.setThrew)(t,e),__emscripten_stack_restore=t=>(__emscripten_stack_restore=wasmExports._emscripten_stack_restore)(t),__emscripten_stack_alloc=t=>(__emscripten_stack_alloc=wasmExports._emscripten_stack_alloc)(t),_emscripten_stack_get_current=()=>(_emscripten_stack_get_current=wasmExports.emscripten_stack_get_current)();Module.dynCall_jiji=(t,e,r,n,s)=>(Module.dynCall_jiji=wasmExports.dynCall_jiji)(t,e,r,n,s),Module._orig$ts_parser_timeout_micros=t=>(Module._orig$ts_parser_timeout_micros=wasmExports.orig$ts_parser_timeout_micros)(t),Module._orig$ts_parser_set_timeout_micros=(t,e)=>(Module._orig$ts_parser_set_timeout_micros=wasmExports.orig$ts_parser_set_timeout_micros)(t,e),Module.AsciiToString=AsciiToString,Module.stringToUTF16=stringToUTF16;var calledRun;dependenciesFulfilled=function t(){calledRun||run(),calledRun||(dependenciesFulfilled=t)};function callMain(t=[]){var e=resolveGlobalSymbol("main").sym;if(e){t.unshift(thisProgram);var r=t.length,n=stackAlloc((r+1)*4),s=n;t.forEach(a=>{LE_HEAP_STORE_U32((s>>2)*4,stringToUTF8OnStack(a)),s+=4}),LE_HEAP_STORE_U32((s>>2)*4,0);try{var o=e(r,n);return exitJS(o,!0),o}catch(a){return handleException(a)}}}function run(t=arguments_){if(runDependencies>0||(preRun(),runDependencies>0))return;function e(){calledRun||(calledRun=!0,Module.calledRun=!0,!ABORT&&(initRuntime(),preMain(),Module.onRuntimeInitialized?.(),shouldRunNow&&callMain(t),postRun()))}Module.setStatus?(Module.setStatus("Running..."),setTimeout(function(){setTimeout(function(){Module.setStatus("")},1),e()},1)):e()}if(Module.preInit)for(typeof Module.preInit=="function"&&(Module.preInit=[Module.preInit]);Module.preInit.length>0;)Module.preInit.pop()();var shouldRunNow=!0;Module.noInitialRun&&(shouldRunNow=!1),run();const C=Module,INTERNAL={},SIZE_OF_INT=4,SIZE_OF_CURSOR=4*SIZE_OF_INT,SIZE_OF_NODE=5*SIZE_OF_INT,SIZE_OF_POINT=2*SIZE_OF_INT,SIZE_OF_RANGE=2*SIZE_OF_INT+2*SIZE_OF_POINT,ZERO_POINT={row:0,column:0},QUERY_WORD_REGEX=/[\w-.]*/g,PREDICATE_STEP_TYPE_CAPTURE=1,PREDICATE_STEP_TYPE_STRING=2,LANGUAGE_FUNCTION_REGEX=/^_?tree_sitter_\w+/;let VERSION,MIN_COMPATIBLE_VERSION,TRANSFER_BUFFER,currentParseCallback,currentLogCallback;class ParserImpl{static init(){TRANSFER_BUFFER=C._ts_init(),VERSION=getValue(TRANSFER_BUFFER,"i32"),MIN_COMPATIBLE_VERSION=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}initialize(){C._ts_parser_new_wasm(),this[0]=getValue(TRANSFER_BUFFER,"i32"),this[1]=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32")}delete(){C._ts_parser_delete(this[0]),C._free(this[1]),this[0]=0,this[1]=0}setLanguage(e){let r;if(!e)r=0,e=null;else if(e.constructor===Language){r=e[0];const n=C._ts_language_version(r);if(n<MIN_COMPATIBLE_VERSION||VERSION<n)throw new Error(`Incompatible language version ${n}. Compatibility range ${MIN_COMPATIBLE_VERSION} through ${VERSION}.`)}else throw new Error("Argument must be a Language");return this.language=e,C._ts_parser_set_language(this[0],r),this}getLanguage(){return this.language}parse(e,r,n){if(typeof e=="string")currentParseCallback=(u,c)=>e.slice(u);else if(typeof e=="function")currentParseCallback=e;else throw new Error("Argument must be a string or a function");this.logCallback?(currentLogCallback=this.logCallback,C._ts_parser_enable_logger_wasm(this[0],1)):(currentLogCallback=null,C._ts_parser_enable_logger_wasm(this[0],0));let s=0,o=0;if(n?.includedRanges){s=n.includedRanges.length,o=C._calloc(s,SIZE_OF_RANGE);let u=o;for(let c=0;c<s;c++)marshalRange(u,n.includedRanges[c]),u+=SIZE_OF_RANGE}const a=C._ts_parser_parse_wasm(this[0],this[1],r?r[0]:0,o,s);if(!a)throw currentParseCallback=null,currentLogCallback=null,new Error("Parsing failed");const l=new Tree(INTERNAL,a,this.language,currentParseCallback);return currentParseCallback=null,currentLogCallback=null,l}reset(){C._ts_parser_reset(this[0])}getIncludedRanges(){C._ts_parser_included_ranges_wasm(this[0]);const e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let s=r;for(let o=0;o<e;o++)n[o]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(r)}return n}getTimeoutMicros(){return C._ts_parser_timeout_micros(this[0])}setTimeoutMicros(e){C._ts_parser_set_timeout_micros(this[0],e)}setLogger(e){if(!e)e=null;else if(typeof e!="function")throw new Error("Logger callback must be a function");return this.logCallback=e,this}getLogger(){return this.logCallback}}class Tree{constructor(e,r,n,s){assertInternal(e),this[0]=r,this.language=n,this.textCallback=s}copy(){const e=C._ts_tree_copy(this[0]);return new Tree(INTERNAL,e,this.language,this.textCallback)}delete(){C._ts_tree_delete(this[0]),this[0]=0}edit(e){marshalEdit(e),C._ts_tree_edit_wasm(this[0])}get rootNode(){return C._ts_tree_root_node_wasm(this[0]),unmarshalNode(this)}rootNodeWithOffset(e,r){const n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),marshalPoint(n+SIZE_OF_INT,r),C._ts_tree_root_node_with_offset_wasm(this[0]),unmarshalNode(this)}getLanguage(){return this.language}walk(){return this.rootNode.walk()}getChangedRanges(e){if(e.constructor!==Tree)throw new TypeError("Argument must be a Tree");C._ts_tree_get_changed_ranges_wasm(this[0],e[0]);const r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),s=new Array(r);if(r>0){let o=n;for(let a=0;a<r;a++)s[a]=unmarshalRange(o),o+=SIZE_OF_RANGE;C._free(n)}return s}getIncludedRanges(){C._ts_tree_included_ranges_wasm(this[0]);const e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),n=new Array(e);if(e>0){let s=r;for(let o=0;o<e;o++)n[o]=unmarshalRange(s),s+=SIZE_OF_RANGE;C._free(r)}return n}}class Node{constructor(e,r){assertInternal(e),this.tree=r}get typeId(){return marshalNode(this),C._ts_node_symbol_wasm(this.tree[0])}get grammarId(){return marshalNode(this),C._ts_node_grammar_symbol_wasm(this.tree[0])}get type(){return this.tree.language.types[this.typeId]||"ERROR"}get grammarType(){return this.tree.language.types[this.grammarId]||"ERROR"}get endPosition(){return marshalNode(this),C._ts_node_end_point_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endIndex(){return marshalNode(this),C._ts_node_end_index_wasm(this.tree[0])}get text(){return getText(this.tree,this.startIndex,this.endIndex)}get parseState(){return marshalNode(this),C._ts_node_parse_state_wasm(this.tree[0])}get nextParseState(){return marshalNode(this),C._ts_node_next_parse_state_wasm(this.tree[0])}get isNamed(){return marshalNode(this),C._ts_node_is_named_wasm(this.tree[0])===1}get hasError(){return marshalNode(this),C._ts_node_has_error_wasm(this.tree[0])===1}get hasChanges(){return marshalNode(this),C._ts_node_has_changes_wasm(this.tree[0])===1}get isError(){return marshalNode(this),C._ts_node_is_error_wasm(this.tree[0])===1}get isMissing(){return marshalNode(this),C._ts_node_is_missing_wasm(this.tree[0])===1}get isExtra(){return marshalNode(this),C._ts_node_is_extra_wasm(this.tree[0])===1}equals(e){return this.id===e.id}child(e){return marshalNode(this),C._ts_node_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}namedChild(e){return marshalNode(this),C._ts_node_named_child_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldId(e){return marshalNode(this),C._ts_node_child_by_field_id_wasm(this.tree[0],e),unmarshalNode(this.tree)}childForFieldName(e){const r=this.tree.language.fields.indexOf(e);return r!==-1?this.childForFieldId(r):null}fieldNameForChild(e){marshalNode(this);const r=C._ts_node_field_name_for_child_wasm(this.tree[0],e);return r?AsciiToString(r):null}childrenForFieldName(e){const r=this.tree.language.fields.indexOf(e);return r!==-1&&r!==0?this.childrenForFieldId(r):[]}childrenForFieldId(e){marshalNode(this),C._ts_node_children_by_field_id_wasm(this.tree[0],e);const r=getValue(TRANSFER_BUFFER,"i32"),n=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),s=new Array(r);if(r>0){let o=n;for(let a=0;a<r;a++)s[a]=unmarshalNode(this.tree,o),o+=SIZE_OF_NODE;C._free(n)}return s}firstChildForIndex(e){marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}firstNamedChildForIndex(e){marshalNode(this);const r=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(r,e,"i32"),C._ts_node_first_named_child_for_byte_wasm(this.tree[0]),unmarshalNode(this.tree)}get childCount(){return marshalNode(this),C._ts_node_child_count_wasm(this.tree[0])}get namedChildCount(){return marshalNode(this),C._ts_node_named_child_count_wasm(this.tree[0])}get firstChild(){return this.child(0)}get firstNamedChild(){return this.namedChild(0)}get lastChild(){return this.child(this.childCount-1)}get lastNamedChild(){return this.namedChild(this.namedChildCount-1)}get children(){if(!this._children){marshalNode(this),C._ts_node_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._children=new Array(e),e>0){let n=r;for(let s=0;s<e;s++)this._children[s]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._children}get namedChildren(){if(!this._namedChildren){marshalNode(this),C._ts_node_named_children_wasm(this.tree[0]);const e=getValue(TRANSFER_BUFFER,"i32"),r=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32");if(this._namedChildren=new Array(e),e>0){let n=r;for(let s=0;s<e;s++)this._namedChildren[s]=unmarshalNode(this.tree,n),n+=SIZE_OF_NODE;C._free(r)}}return this._namedChildren}descendantsOfType(e,r,n){Array.isArray(e)||(e=[e]),r||(r=ZERO_POINT),n||(n=ZERO_POINT);const s=[],o=this.tree.language.types;for(let d=0,h=o.length;d<h;d++)e.includes(o[d])&&s.push(d);const a=C._malloc(SIZE_OF_INT*s.length);for(let d=0,h=s.length;d<h;d++)setValue(a+d*SIZE_OF_INT,s[d],"i32");marshalNode(this),C._ts_node_descendants_of_type_wasm(this.tree[0],a,s.length,r.row,r.column,n.row,n.column);const l=getValue(TRANSFER_BUFFER,"i32"),u=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),c=new Array(l);if(l>0){let d=u;for(let h=0;h<l;h++)c[h]=unmarshalNode(this.tree,d),d+=SIZE_OF_NODE}return C._free(u),C._free(a),c}get nextSibling(){return marshalNode(this),C._ts_node_next_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousSibling(){return marshalNode(this),C._ts_node_prev_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get nextNamedSibling(){return marshalNode(this),C._ts_node_next_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get previousNamedSibling(){return marshalNode(this),C._ts_node_prev_named_sibling_wasm(this.tree[0]),unmarshalNode(this.tree)}get descendantCount(){return marshalNode(this),C._ts_node_descendant_count_wasm(this.tree[0])}get parent(){return marshalNode(this),C._ts_node_parent_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);const n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForIndex(e,r=e){if(typeof e!="number"||typeof r!="number")throw new Error("Arguments must be numbers");marshalNode(this);const n=TRANSFER_BUFFER+SIZE_OF_NODE;return setValue(n,e,"i32"),setValue(n+SIZE_OF_INT,r,"i32"),C._ts_node_named_descendant_for_index_wasm(this.tree[0]),unmarshalNode(this.tree)}descendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}namedDescendantForPosition(e,r=e){if(!isPoint(e)||!isPoint(r))throw new Error("Arguments must be {row, column} objects");marshalNode(this);const n=TRANSFER_BUFFER+SIZE_OF_NODE;return marshalPoint(n,e),marshalPoint(n+SIZE_OF_POINT,r),C._ts_node_named_descendant_for_position_wasm(this.tree[0]),unmarshalNode(this.tree)}walk(){return marshalNode(this),C._ts_tree_cursor_new_wasm(this.tree[0]),new TreeCursor(INTERNAL,this.tree)}toString(){marshalNode(this);const e=C._ts_node_to_string_wasm(this.tree[0]),r=AsciiToString(e);return C._free(e),r}}class TreeCursor{constructor(e,r){assertInternal(e),this.tree=r,unmarshalTreeCursor(this)}delete(){marshalTreeCursor(this),C._ts_tree_cursor_delete_wasm(this.tree[0]),this[0]=this[1]=this[2]=0}reset(e){marshalNode(e),marshalTreeCursor(this,TRANSFER_BUFFER+SIZE_OF_NODE),C._ts_tree_cursor_reset_wasm(this.tree[0]),unmarshalTreeCursor(this)}resetTo(e){marshalTreeCursor(this,TRANSFER_BUFFER),marshalTreeCursor(e,TRANSFER_BUFFER+SIZE_OF_CURSOR),C._ts_tree_cursor_reset_to_wasm(this.tree[0],e.tree[0]),unmarshalTreeCursor(this)}get nodeType(){return this.tree.language.types[this.nodeTypeId]||"ERROR"}get nodeTypeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_type_id_wasm(this.tree[0])}get nodeStateId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_state_id_wasm(this.tree[0])}get nodeId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_id_wasm(this.tree[0])}get nodeIsNamed(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_named_wasm(this.tree[0])===1}get nodeIsMissing(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_is_missing_wasm(this.tree[0])===1}get nodeText(){marshalTreeCursor(this);const e=C._ts_tree_cursor_start_index_wasm(this.tree[0]),r=C._ts_tree_cursor_end_index_wasm(this.tree[0]);return getText(this.tree,e,r)}get startPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_start_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get endPosition(){return marshalTreeCursor(this),C._ts_tree_cursor_end_position_wasm(this.tree[0]),unmarshalPoint(TRANSFER_BUFFER)}get startIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_start_index_wasm(this.tree[0])}get endIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_end_index_wasm(this.tree[0])}get currentNode(){return marshalTreeCursor(this),C._ts_tree_cursor_current_node_wasm(this.tree[0]),unmarshalNode(this.tree)}get currentFieldId(){return marshalTreeCursor(this),C._ts_tree_cursor_current_field_id_wasm(this.tree[0])}get currentFieldName(){return this.tree.language.fields[this.currentFieldId]}get currentDepth(){return marshalTreeCursor(this),C._ts_tree_cursor_current_depth_wasm(this.tree[0])}get currentDescendantIndex(){return marshalTreeCursor(this),C._ts_tree_cursor_current_descendant_index_wasm(this.tree[0])}gotoFirstChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_first_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoLastChild(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_last_child_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoFirstChildForIndex(e){marshalTreeCursor(this),setValue(TRANSFER_BUFFER+SIZE_OF_CURSOR,e,"i32");const r=C._ts_tree_cursor_goto_first_child_for_index_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoFirstChildForPosition(e){marshalTreeCursor(this),marshalPoint(TRANSFER_BUFFER+SIZE_OF_CURSOR,e);const r=C._ts_tree_cursor_goto_first_child_for_position_wasm(this.tree[0]);return unmarshalTreeCursor(this),r===1}gotoNextSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_next_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoPreviousSibling(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_previous_sibling_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}gotoDescendant(e){marshalTreeCursor(this),C._ts_tree_cursor_goto_descendant_wasm(this.tree[0],e),unmarshalTreeCursor(this)}gotoParent(){marshalTreeCursor(this);const e=C._ts_tree_cursor_goto_parent_wasm(this.tree[0]);return unmarshalTreeCursor(this),e===1}}class Language{constructor(e,r){assertInternal(e),this[0]=r,this.types=new Array(C._ts_language_symbol_count(this[0]));for(let n=0,s=this.types.length;n<s;n++)C._ts_language_symbol_type(this[0],n)<2&&(this.types[n]=UTF8ToString(C._ts_language_symbol_name(this[0],n)));this.fields=new Array(C._ts_language_field_count(this[0])+1);for(let n=0,s=this.fields.length;n<s;n++){const o=C._ts_language_field_name_for_id(this[0],n);o!==0?this.fields[n]=UTF8ToString(o):this.fields[n]=null}}get version(){return C._ts_language_version(this[0])}get fieldCount(){return this.fields.length-1}get stateCount(){return C._ts_language_state_count(this[0])}fieldIdForName(e){const r=this.fields.indexOf(e);return r!==-1?r:null}fieldNameForId(e){return this.fields[e]||null}idForNodeType(e,r){const n=lengthBytesUTF8(e),s=C._malloc(n+1);stringToUTF8(e,s,n+1);const o=C._ts_language_symbol_for_name(this[0],s,n,r);return C._free(s),o||null}get nodeTypeCount(){return C._ts_language_symbol_count(this[0])}nodeTypeForId(e){const r=C._ts_language_symbol_name(this[0],e);return r?UTF8ToString(r):null}nodeTypeIsNamed(e){return!!C._ts_language_type_is_named_wasm(this[0],e)}nodeTypeIsVisible(e){return!!C._ts_language_type_is_visible_wasm(this[0],e)}nextState(e,r){return C._ts_language_next_state(this[0],e,r)}lookaheadIterator(e){const r=C._ts_lookahead_iterator_new(this[0],e);return r?new LookaheadIterable(INTERNAL,r,this):null}query(e){const r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1);const s=C._ts_query_new(this[0],n,r,TRANSFER_BUFFER,TRANSFER_BUFFER+SIZE_OF_INT);if(!s){const y=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),E=getValue(TRANSFER_BUFFER,"i32"),b=UTF8ToString(n,E).length,p=e.substr(b,100).split(`
`)[0];let _=p.match(QUERY_WORD_REGEX)[0],R;switch(y){case 2:R=new RangeError(`Bad node name '${_}'`);break;case 3:R=new RangeError(`Bad field name '${_}'`);break;case 4:R=new RangeError(`Bad capture name @${_}`);break;case 5:R=new TypeError(`Bad pattern structure at offset ${b}: '${p}'...`),_="";break;default:R=new SyntaxError(`Bad syntax at offset ${b}: '${p}'...`),_="";break}throw R.index=b,R.length=_.length,C._free(n),R}const o=C._ts_query_string_count(s),a=C._ts_query_capture_count(s),l=C._ts_query_pattern_count(s),u=new Array(a),c=new Array(o);for(let y=0;y<a;y++){const E=C._ts_query_capture_name_for_id(s,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");u[y]=UTF8ToString(E,b)}for(let y=0;y<o;y++){const E=C._ts_query_string_value_for_id(s,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");c[y]=UTF8ToString(E,b)}const d=new Array(l),h=new Array(l),f=new Array(l),m=new Array(l),g=new Array(l);for(let y=0;y<l;y++){const E=C._ts_query_predicates_for_pattern(s,y,TRANSFER_BUFFER),b=getValue(TRANSFER_BUFFER,"i32");m[y]=[],g[y]=[];const p=[];let _=E;for(let R=0;R<b;R++){const v=getValue(_,"i32");_+=SIZE_OF_INT;const x=getValue(_,"i32");if(_+=SIZE_OF_INT,v===PREDICATE_STEP_TYPE_CAPTURE)p.push({type:"capture",name:u[x]});else if(v===PREDICATE_STEP_TYPE_STRING)p.push({type:"string",value:c[x]});else if(p.length>0){if(p[0].type!=="string")throw new Error("Predicates must begin with a literal value");const T=p[0].value;let w=!0,A=!0,U;switch(T){case"any-not-eq?":case"not-eq?":w=!1;case"any-eq?":case"eq?":if(p.length!==3)throw new Error(`Wrong number of arguments to \`#${T}\` predicate. Expected 2, got ${p.length-1}`);if(p[1].type!=="capture")throw new Error(`First argument of \`#${T}\` predicate must be a capture. Got "${p[1].value}"`);if(A=!T.startsWith("any-"),p[2].type==="capture"){const S=p[1].name,N=p[2].name;g[y].push(P=>{const k=[],H=[];for(const F of P)F.name===S&&k.push(F.node),F.name===N&&H.push(F.node);const V=(F,I,B)=>B?F.text===I.text:F.text!==I.text;return A?k.every(F=>H.some(I=>V(F,I,w))):k.some(F=>H.some(I=>V(F,I,w)))})}else{U=p[1].name;const S=p[2].value,N=k=>k.text===S,P=k=>k.text!==S;g[y].push(k=>{const H=[];for(const F of k)F.name===U&&H.push(F.node);const V=w?N:P;return A?H.every(V):H.some(V)})}break;case"any-not-match?":case"not-match?":w=!1;case"any-match?":case"match?":if(p.length!==3)throw new Error(`Wrong number of arguments to \`#${T}\` predicate. Expected 2, got ${p.length-1}.`);if(p[1].type!=="capture")throw new Error(`First argument of \`#${T}\` predicate must be a capture. Got "${p[1].value}".`);if(p[2].type!=="string")throw new Error(`Second argument of \`#${T}\` predicate must be a string. Got @${p[2].value}.`);U=p[1].name;const $=new RegExp(p[2].value);A=!T.startsWith("any-"),g[y].push(S=>{const N=[];for(const k of S)k.name===U&&N.push(k.node.text);const P=(k,H)=>H?$.test(k):!$.test(k);return N.length===0?!w:A?N.every(k=>P(k,w)):N.some(k=>P(k,w))});break;case"set!":if(p.length<2||p.length>3)throw new Error(`Wrong number of arguments to \`#set!\` predicate. Expected 1 or 2. Got ${p.length-1}.`);if(p.some(S=>S.type!=="string"))throw new Error('Arguments to `#set!` predicate must be a strings.".');d[y]||(d[y]={}),d[y][p[1].value]=p[2]?p[2].value:null;break;case"is?":case"is-not?":if(p.length<2||p.length>3)throw new Error(`Wrong number of arguments to \`#${T}\` predicate. Expected 1 or 2. Got ${p.length-1}.`);if(p.some(S=>S.type!=="string"))throw new Error(`Arguments to \`#${T}\` predicate must be a strings.".`);const L=T==="is?"?h:f;L[y]||(L[y]={}),L[y][p[1].value]=p[2]?p[2].value:null;break;case"not-any-of?":w=!1;case"any-of?":if(p.length<2)throw new Error(`Wrong number of arguments to \`#${T}\` predicate. Expected at least 1. Got ${p.length-1}.`);if(p[1].type!=="capture")throw new Error(`First argument of \`#${T}\` predicate must be a capture. Got "${p[1].value}".`);for(let S=2;S<p.length;S++)if(p[S].type!=="string")throw new Error(`Arguments to \`#${T}\` predicate must be a strings.".`);U=p[1].name;const O=p.slice(2).map(S=>S.value);g[y].push(S=>{const N=[];for(const P of S)P.name===U&&N.push(P.node.text);return N.length===0?!w:N.every(P=>O.includes(P))===w});break;default:m[y].push({operator:T,operands:p.slice(1)})}p.length=0}}Object.freeze(d[y]),Object.freeze(h[y]),Object.freeze(f[y])}return C._free(n),new Query(INTERNAL,s,u,g,m,Object.freeze(d),Object.freeze(h),Object.freeze(f))}static load(e){let r;if(e instanceof Uint8Array)r=Promise.resolve(e);else{const n=e;if(typeof process<"u"&&process.versions&&process.versions.node){const s=require$$0;r=Promise.resolve(s.readFileSync(n))}else r=fetch(n).then(s=>s.arrayBuffer().then(o=>{if(s.ok)return new Uint8Array(o);{const a=new TextDecoder("utf-8").decode(o);throw new Error(`Language.load failed with status ${s.status}.

${a}`)}}))}return r.then(n=>loadWebAssemblyModule(n,{loadAsync:!0})).then(n=>{const s=Object.keys(n),o=s.find(l=>LANGUAGE_FUNCTION_REGEX.test(l)&&!l.includes("external_scanner_"));o||console.log(`Couldn't find language function in WASM file. Symbols:
${JSON.stringify(s,null,2)}`);const a=n[o]();return new Language(INTERNAL,a)})}}class LookaheadIterable{constructor(e,r,n){assertInternal(e),this[0]=r,this.language=n}get currentTypeId(){return C._ts_lookahead_iterator_current_symbol(this[0])}get currentType(){return this.language.types[this.currentTypeId]||"ERROR"}delete(){C._ts_lookahead_iterator_delete(this[0]),this[0]=0}resetState(e){return C._ts_lookahead_iterator_reset_state(this[0],e)}reset(e,r){return C._ts_lookahead_iterator_reset(this[0],e[0],r)?(this.language=e,!0):!1}[Symbol.iterator](){const e=this;return{next(){return C._ts_lookahead_iterator_next(e[0])?{done:!1,value:e.currentType}:{done:!0,value:""}}}}}class Query{constructor(e,r,n,s,o,a,l,u){assertInternal(e),this[0]=r,this.captureNames=n,this.textPredicates=s,this.predicates=o,this.setProperties=a,this.assertedProperties=l,this.refutedProperties=u,this.exceededMatchLimit=!1}delete(){C._ts_query_delete(this[0]),this[0]=0}matches(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:s=0,endIndex:o=0,matchLimit:a=4294967295,maxStartDepth:l=4294967295,timeoutMicros:u=0}={}){if(typeof a!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_matches_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,s,o,a,l,u);const c=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=new Array(c);this.exceededMatchLimit=!!h;let m=0,g=d;for(let y=0;y<c;y++){const E=getValue(g,"i32");g+=SIZE_OF_INT;const b=getValue(g,"i32");g+=SIZE_OF_INT;const p=new Array(b);if(g=unmarshalCaptures(this,e.tree,g,p),this.textPredicates[E].every(_=>_(p))){f[m]={pattern:E,captures:p};const _=this.setProperties[E];_&&(f[m].setProperties=_);const R=this.assertedProperties[E];R&&(f[m].assertedProperties=R);const v=this.refutedProperties[E];v&&(f[m].refutedProperties=v),m++}}return f.length=m,C._free(d),f}captures(e,{startPosition:r=ZERO_POINT,endPosition:n=ZERO_POINT,startIndex:s=0,endIndex:o=0,matchLimit:a=4294967295,maxStartDepth:l=4294967295,timeoutMicros:u=0}={}){if(typeof a!="number")throw new Error("Arguments must be numbers");marshalNode(e),C._ts_query_captures_wasm(this[0],e.tree[0],r.row,r.column,n.row,n.column,s,o,a,l,u);const c=getValue(TRANSFER_BUFFER,"i32"),d=getValue(TRANSFER_BUFFER+SIZE_OF_INT,"i32"),h=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),f=[];this.exceededMatchLimit=!!h;const m=[];let g=d;for(let y=0;y<c;y++){const E=getValue(g,"i32");g+=SIZE_OF_INT;const b=getValue(g,"i32");g+=SIZE_OF_INT;const p=getValue(g,"i32");if(g+=SIZE_OF_INT,m.length=b,g=unmarshalCaptures(this,e.tree,g,m),this.textPredicates[E].every(_=>_(m))){const _=m[p],R=this.setProperties[E];R&&(_.setProperties=R);const v=this.assertedProperties[E];v&&(_.assertedProperties=v);const x=this.refutedProperties[E];x&&(_.refutedProperties=x),f.push(_)}}return C._free(d),f}predicatesForPattern(e){return this.predicates[e]}disableCapture(e){const r=lengthBytesUTF8(e),n=C._malloc(r+1);stringToUTF8(e,n,r+1),C._ts_query_disable_capture(this[0],n,r),C._free(n)}didExceedMatchLimit(){return this.exceededMatchLimit}}function getText(t,e,r){const n=r-e;let s=t.textCallback(e,null,r);for(e+=s.length;e<r;){const o=t.textCallback(e,null,r);if(o&&o.length>0)e+=o.length,s+=o;else break}return e>r&&(s=s.slice(0,n)),s}function unmarshalCaptures(t,e,r,n){for(let s=0,o=n.length;s<o;s++){const a=getValue(r,"i32");r+=SIZE_OF_INT;const l=unmarshalNode(e,r);r+=SIZE_OF_NODE,n[s]={name:t.captureNames[a],node:l}}return r}function assertInternal(t){if(t!==INTERNAL)throw new Error("Illegal constructor")}function isPoint(t){return t&&typeof t.row=="number"&&typeof t.column=="number"}function marshalNode(t){let e=TRANSFER_BUFFER;setValue(e,t.id,"i32"),e+=SIZE_OF_INT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.row,"i32"),e+=SIZE_OF_INT,setValue(e,t.startPosition.column,"i32"),e+=SIZE_OF_INT,setValue(e,t[0],"i32")}function unmarshalNode(t,e=TRANSFER_BUFFER){const r=getValue(e,"i32");if(e+=SIZE_OF_INT,r===0)return null;const n=getValue(e,"i32");e+=SIZE_OF_INT;const s=getValue(e,"i32");e+=SIZE_OF_INT;const o=getValue(e,"i32");e+=SIZE_OF_INT;const a=getValue(e,"i32"),l=new Node(INTERNAL,t);return l.id=r,l.startIndex=n,l.startPosition={row:s,column:o},l[0]=a,l}function marshalTreeCursor(t,e=TRANSFER_BUFFER){setValue(e+0*SIZE_OF_INT,t[0],"i32"),setValue(e+1*SIZE_OF_INT,t[1],"i32"),setValue(e+2*SIZE_OF_INT,t[2],"i32"),setValue(e+3*SIZE_OF_INT,t[3],"i32")}function unmarshalTreeCursor(t){t[0]=getValue(TRANSFER_BUFFER+0*SIZE_OF_INT,"i32"),t[1]=getValue(TRANSFER_BUFFER+1*SIZE_OF_INT,"i32"),t[2]=getValue(TRANSFER_BUFFER+2*SIZE_OF_INT,"i32"),t[3]=getValue(TRANSFER_BUFFER+3*SIZE_OF_INT,"i32")}function marshalPoint(t,e){setValue(t,e.row,"i32"),setValue(t+SIZE_OF_INT,e.column,"i32")}function unmarshalPoint(t){return{row:getValue(t,"i32")>>>0,column:getValue(t+SIZE_OF_INT,"i32")>>>0}}function marshalRange(t,e){marshalPoint(t,e.startPosition),t+=SIZE_OF_POINT,marshalPoint(t,e.endPosition),t+=SIZE_OF_POINT,setValue(t,e.startIndex,"i32"),t+=SIZE_OF_INT,setValue(t,e.endIndex,"i32"),t+=SIZE_OF_INT}function unmarshalRange(t){const e={};return e.startPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.endPosition=unmarshalPoint(t),t+=SIZE_OF_POINT,e.startIndex=getValue(t,"i32")>>>0,t+=SIZE_OF_INT,e.endIndex=getValue(t,"i32")>>>0,e}function marshalEdit(t){let e=TRANSFER_BUFFER;marshalPoint(e,t.startPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.oldEndPosition),e+=SIZE_OF_POINT,marshalPoint(e,t.newEndPosition),e+=SIZE_OF_POINT,setValue(e,t.startIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.oldEndIndex,"i32"),e+=SIZE_OF_INT,setValue(e,t.newEndIndex,"i32"),e+=SIZE_OF_INT}for(const t of Object.getOwnPropertyNames(ParserImpl.prototype))Object.defineProperty(Parser.prototype,t,{value:ParserImpl.prototype[t],enumerable:!1,writable:!1});Parser.Language=Language,Module.onRuntimeInitialized=()=>{ParserImpl.init(),resolveInitPromise()}}))}}return Parser}();module.exports=TreeSitter}(treeSitter)),treeSitter.exports}var treeSitterExports=requireTreeSitter();const Parser=getDefaultExportFromCjs(treeSitterExports);await Parser.init({locateFile(t,e){return"/"+t}});const Bash=await Parser.Language.load("/tree-sitter-bash.wasm"),parser=new Parser;parser.setLanguage(Bash);function warnf(t,e){t.warnings.push(e)}function underline(t,e,r,n){e===r&&r++;let s=e;e>0&&(s=n.lastIndexOf(`
`,e-1)+1);let o=r-e,a=n.indexOf(`
`,e);a===-1?a=n.length:a<r&&(o=a-e+1);const l=n.slice(s,a),u=" ".repeat(e-s)+"^".repeat(o);return l+`
`+u}function underlineCursor(t,e){return underline(t,t.startIndex,t.endIndex,e)}function underlineNode(t,e){const r=t.tree.rootNode;let n=t.startIndex,s=t.endIndex;return e||(e=r.text,n-=r.startIndex,s-=r.startIndex),underline(t,n,s,e)}function warnIfPartsIgnored(t,e,r){t.urls.length>1&&!r?.multipleUrls&&e.push(["multiple-urls","found "+t.urls.length+" URLs, only the first one will be used: "+t.urls.map(n=>JSON.stringify(n.originalUrl.toString())).join(", ")]),t.dataReadsFile&&!r?.dataReadsFile&&e.push(["unsafe-data","the generated data content is wrong, "+JSON.stringify("@"+t.dataReadsFile)+" means read the file "+JSON.stringify(t.dataReadsFile)]),t.urls[0].queryReadsFile&&!r?.queryReadsFile&&e.push(["unsafe-query","the generated URL query string is wrong, "+JSON.stringify("@"+t.urls[0].queryReadsFile)+" means read the file "+JSON.stringify(t.urls[0].queryReadsFile)]),t.cookieFiles&&!r?.cookieFiles&&e.push(["cookie-files","passing a file for --cookie/-b is not supported: "+t.cookieFiles.map(n=>JSON.stringify(n.toString())).join(", ")])}const BACKSLASHES=/\\./gs;function removeBackslash(t){return t.charAt(1)===`
`?"":t.charAt(1)}function removeBackslashes(t){return t.replace(BACKSLASHES,removeBackslash)}const DOUBLE_QUOTE_BACKSLASHES=/\\[\\$`"\n]/gs;function removeDoubleQuoteBackslashes(t){return t.replace(DOUBLE_QUOTE_BACKSLASHES,removeBackslash)}const ANSI_BACKSLASHES=/\\(\\|a|b|e|E|f|n|r|t|v|'|"|\?|[0-7]{1,3}|x[0-9A-Fa-f]{1,2}|u[0-9A-Fa-f]{1,4}|U[0-9A-Fa-f]{1,8}|c.)/gs;function removeAnsiCBackslashes(t){function e(r){switch(r.charAt(1)){case"\\":return"\\";case"a":return"\x07";case"b":return"\b";case"e":case"E":return"\x1B";case"f":return"\f";case"n":return`
`;case"r":return"\r";case"t":return"	";case"v":return"\v";case"'":return"'";case'"':return'"';case"?":return"?";case"c":if(r.codePointAt(2)>127)throw new CCError('non-ASCII control character in ANSI-C quoted string: "\\u{'+r.codePointAt(2).toString(16)+'}"');return r[2]==="?"?"":String.fromCodePoint(r[2].toUpperCase().codePointAt(0)&31);case"x":case"u":case"U":return String.fromCodePoint(parseInt(r.slice(2),16));case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":return String.fromCodePoint(parseInt(r.slice(1),8)%256);default:throw new CCError("unhandled character in ANSI-C escape code: "+JSON.stringify(r))}}return t.replace(ANSI_BACKSLASHES,e)}function toTokens(t,e,r){let n=[];switch(t.type){case"$":return["$"];case"word":case"number":return[removeBackslashes(t.text)];case"raw_string":return[t.text.slice(1,-1)];case"ansi_c_string":return[removeAnsiCBackslashes(t.text.slice(2,-1))];case"string":case"translated_string":{let s="";for(const o of t.namedChildren)if(o.type==="string_content")s+=removeDoubleQuoteBackslashes(o.text);else{const a=toTokens(o,e,r);typeof a=="string"?s+=a:(s&&(n.push(s),s=""),n=n.concat(a))}return(s||n.length===0)&&n.push(s),n}case"simple_expansion":return r.push(["expansion",`found environment variable
`+underlineNode(t,e)]),t.firstNamedChild&&t.firstNamedChild.type==="special_variable_name"&&r.push(["special_variable_name",t.text+` is a special Bash variable
`+underlineNode(t.firstNamedChild,e)]),[{type:"variable",value:t.text.slice(1),text:t.text,syntaxNode:t}];case"expansion":return r.push(["expansion",`found expansion expression
`+underlineNode(t,e)]),[{type:"variable",value:t.text.slice(2,-1),text:t.text,syntaxNode:t}];case"command_substitution":return r.push(["expansion",`found command substitution expression
`+underlineNode(t,e)]),[{type:"command",value:t.text.slice(t.text.startsWith("$(")?2:1,-1),text:t.text,syntaxNode:t}];case"concatenation":{let s=0,o="";for(const a of t.children){o+=t.text.slice(s,a.startIndex-t.startIndex),s=a.endIndex-t.startIndex;const l=toTokens(a,e,r);typeof l=="string"?o+=l:(o&&(n.push(o),o=""),n=n.concat(l))}return o+=t.text.slice(s),(o||n.length===0)&&n.push(o),n}default:throw new CCError("unexpected syntax node type "+JSON.stringify(t.type)+`. Must be one of "word", "number", "string", "raw_string", "ansi_c_string", "expansion", "simple_expansion", "translated_string", "command_substitution" or "concatenation"
`+underlineNode(t,e))}}function toWord(t,e,r){return new Word(toTokens(t,e,r))}function*traverseLookingForBadNodes(t){const e=t.walk();let r=!1;for(;!r;){if((e.nodeType==="ERROR"||e.nodeIsMissing)&&(yield e),e.gotoFirstChild()||e.gotoNextSibling())continue;let n=!0;for(;n;)e.gotoParent()||(n=!1,r=!0),e.gotoNextSibling()&&(n=!1)}}function warnAboutBadNodes(t,e,r){let s=0;for(const a of traverseLookingForBadNodes(t)){if(s<3){let l="";try{l=`:
`+underlineCursor(a,e)}catch{}const u=a.startPosition.row,c=a.startPosition.column;r.push(["bash",`Bash parsing error on line ${u+1}`+(c!==0?`, column ${c+1}`:"")+l])}s+=1}const o=s-3;o>0&&r.push(["bash",`${o} more Bash parsing error${o>1?"s":""} omitted`])}function warnAboutUselessBackslash(t,e,r){const n=e[t.endPosition.row],s=n.match(/\\\s+$/);s&&e.length>t.endPosition.row+1&&s.index!==void 0&&r.push(["unescaped-newline","The trailling '\\' on line "+(t.endPosition.row+1)+` is followed by whitespace, so it won't escape the newline after it:
`+n+`
`+" ".repeat(s.index)+"^".repeat(s[0].length)])}function extractRedirect(t,e,r){if(!t.namedChildCount)throw new CCError('got empty "redirected_statement" AST node');let n,s;const[o,...a]=t.namedChildren;if(o.type!=="command")throw new CCError('got "redirected_statement" AST node whose first child is not a "command", got '+o.type+` instead
`+underlineNode(o,e));if(t.childCount<2)throw new CCError('got "redirected_statement" AST node with only one child - no redirect');a.length>1&&r.push(["multiple-redirects","found "+a.length+` redirect nodes. Only the first one will be used:
`+underlineNode(a[1],e)]);const l=a[0];if(l.type==="file_redirect"){const u=l.childForFieldName("destination");if(!u)throw new CCError('got "file_redirect" AST node with no "destination" child');s=toWord(u,e,r)}else if(l.type==="heredoc_redirect"){const u=l.descendantsOfType("heredoc_body")[0];if(!u)throw new CCError('got "redirected_statement" AST node without heredoc_body');n=new Word(u.text)}else if(l.type==="herestring_redirect"){if(l.namedChildCount<1||!l.firstNamedChild)throw new CCError('got "redirected_statement" AST node with empty herestring');n=toWord(l.firstNamedChild,e,r)}else throw new CCError('got "redirected_statement" AST node whose second child is not one of "file_redirect", "heredoc_redirect" or "herestring_redirect", got '+o.type+" instead");return[o,n,s]}function _findCurlInPipeline(t,e,r){let n,s,o;for(const a of t.namedChildren)if(a.type==="command"){const l=a.namedChildren[0];if(l.type!=="command_name")throw new CCError('got "command" AST node whose first child is not a "command_name", got '+l.type+` instead
`+underlineNode(l,e));const u=l.namedChildren[0];if(u.type!=="word")throw new CCError('got "command_name" AST node whose first child is not a "word", got '+u.type+` instead
`+underlineNode(u,e));u.text==="curl"&&(n?r.push(["multiple-curl-in-pipeline",`found multiple curl commands in pipeline:
`+underlineNode(a,e)]):n=a)}else if(a.type==="redirected_statement"){const[l,u,c]=extractRedirect(a,e,r);l.namedChildren[0].text==="curl"&&(n?r.push(["multiple-curl-in-pipeline",`found multiple curl commands in pipeline:
`+underlineNode(l,e)]):[n,s,o]=[l,u,c])}else if(a.type==="pipeline"){const[l,u,c]=_findCurlInPipeline(a,e,r);if(!l)continue;l.namedChildren[0].text==="curl"&&(n?r.push(["multiple-curl-in-pipeline",`found multiple curl commands in pipeline:
`+underlineNode(l,e)]):[n,s,o]=[l,u,c])}return[n,s,o]}function findCurlInPipeline(t,e,r){const[n,s,o]=_findCurlInPipeline(t,e,r);if(!n)throw new CCError(`could not find curl command in pipeline
`+underlineNode(t,e));return[n,s,o]}function extractCommandNodes(t,e,r){if(t.rootNode.type!=="program")throw new CCError('expected a "program" top-level AST node, got '+t.rootNode.type+" instead");if(t.rootNode.namedChildCount<1||!t.rootNode.namedChildren)throw new CCError('empty "program" node');const n=e.split(`
`);let s=!1;const o=[];for(const a of t.rootNode.namedChildren)switch(a.type){case"comment":s=!0;continue;case"command":o.push([a,void 0,void 0]),warnAboutUselessBackslash(a,n,r);break;case"redirected_statement":o.push(extractRedirect(a,e,r)),warnAboutUselessBackslash(a,n,r);break;case"pipeline":o.push(findCurlInPipeline(a,e,r)),warnAboutUselessBackslash(a,n,r);break;case"heredoc_body":continue;case"ERROR":throw new CCError(`Bash parsing error on line ${a.startPosition.row+1}:
`+underlineNode(a,e));default:throw new CCError("found "+JSON.stringify(a.type)+` AST node, only "command", "pipeline" or "redirected_statement" are supported
`+underlineNode(a,e))}if(!o.length)throw new CCError('expected a "command" or "redirected_statement" AST node'+(s?', only found "comment" nodes':""));return o}function toNameAndArgv(t,e,r){if(t.childCount<1)throw new CCError(`empty "command" node
`+underlineNode(t,e));const n=t.childForFieldName("name"),s=t.childrenForFieldName("argument");if(!n)throw new CCError(`found "command" AST node with no "command_name" child
`+underlineNode(t,e));return[n,s]}function nameToWord(t,e,r){if(t.childCount<1||!t.firstChild)throw new CCError(`found empty "command_name" AST node
`+underlineNode(t,e));t.childCount>1&&r.push(["extra-command_name-children",'expected "command_name" node to only have one child but it has '+t.childCount]);const n=t.firstChild,s=toWord(n,e,r),o=s.toString(),a=firstShellToken(s);if(a){if(o!=="$curl")throw new CCError("expected command name to be a simple value but found a "+a.type+`
`+underlineNode(a.syntaxNode,e))}else if(o.trim()!=="curl"){const l=o.trim();throw l?new CCError('command should begin with "curl" but instead begins with '+JSON.stringify(clip(l))+`
`+underlineNode(n,e)):new CCError(`found command without a command_name
`+underlineNode(n,e))}return s}function tokenize(t,e=[]){const r=parser.parse(t);warnAboutBadNodes(r,t,e);const n=extractCommandNodes(r,t,e),s=[];for(const[o,a,l]of n){const[u,c]=toNameAndArgv(o,t);s.push([[nameToWord(u,t,e),...c.map(d=>toWord(d,t,e))],a,l])}return s}const CURLAUTH_BASIC=1,CURLAUTH_DIGEST=2,CURLAUTH_NEGOTIATE=4,CURLAUTH_NTLM=8,CURLAUTH_NTLM_WB=32,CURLAUTH_BEARER=64,CURLAUTH_AWS_SIGV4=128,CURLAUTH_ANY=-17;function pickAuth(t){if(t===CURLAUTH_ANY)return"basic";const e=[[CURLAUTH_NEGOTIATE,"negotiate"],[CURLAUTH_BEARER,"bearer"],[CURLAUTH_DIGEST,"digest"],[CURLAUTH_NTLM,"ntlm"],[CURLAUTH_NTLM_WB,"ntlm-wb"],[CURLAUTH_BASIC,"basic"],[CURLAUTH_AWS_SIGV4,"aws-sigv4"]];for(const[r,n]of e)if(t&r)return n;return"none"}const curlLongOpts={url:{type:"string",name:"url"},"dns-ipv4-addr":{type:"string",name:"dns-ipv4-addr"},"dns-ipv6-addr":{type:"string",name:"dns-ipv6-addr"},"random-file":{type:"string",name:"random-file"},"egd-file":{type:"string",name:"egd-file"},"oauth2-bearer":{type:"string",name:"oauth2-bearer"},"connect-timeout":{type:"string",name:"connect-timeout"},"doh-url":{type:"string",name:"doh-url"},ciphers:{type:"string",name:"ciphers"},"dns-interface":{type:"string",name:"dns-interface"},"disable-epsv":{type:"bool",name:"disable-epsv"},"no-disable-epsv":{type:"bool",name:"disable-epsv",expand:!1},"disallow-username-in-url":{type:"bool",name:"disallow-username-in-url"},"no-disallow-username-in-url":{type:"bool",name:"disallow-username-in-url",expand:!1},epsv:{type:"bool",name:"epsv"},"no-epsv":{type:"bool",name:"epsv",expand:!1},"dns-servers":{type:"string",name:"dns-servers"},trace:{type:"string",name:"trace"},npn:{type:"bool",name:"npn"},"no-npn":{type:"bool",name:"npn",expand:!1},"trace-ascii":{type:"string",name:"trace-ascii"},alpn:{type:"bool",name:"alpn"},"no-alpn":{type:"bool",name:"alpn",expand:!1},"limit-rate":{type:"string",name:"limit-rate"},rate:{type:"string",name:"rate"},compressed:{type:"bool",name:"compressed"},"no-compressed":{type:"bool",name:"compressed",expand:!1},"tr-encoding":{type:"bool",name:"tr-encoding"},"no-tr-encoding":{type:"bool",name:"tr-encoding",expand:!1},digest:{type:"bool",name:"digest"},"no-digest":{type:"bool",name:"digest",expand:!1},negotiate:{type:"bool",name:"negotiate"},"no-negotiate":{type:"bool",name:"negotiate",expand:!1},ntlm:{type:"bool",name:"ntlm"},"no-ntlm":{type:"bool",name:"ntlm",expand:!1},"ntlm-wb":{type:"bool",name:"ntlm-wb"},"no-ntlm-wb":{type:"bool",name:"ntlm-wb",expand:!1},basic:{type:"bool",name:"basic"},"no-basic":{type:"bool",name:"basic",expand:!1},anyauth:{type:"bool",name:"anyauth"},"no-anyauth":{type:"bool",name:"anyauth",expand:!1},wdebug:{type:"bool",name:"wdebug"},"no-wdebug":{type:"bool",name:"wdebug",expand:!1},"ftp-create-dirs":{type:"bool",name:"ftp-create-dirs"},"no-ftp-create-dirs":{type:"bool",name:"ftp-create-dirs",expand:!1},"create-dirs":{type:"bool",name:"create-dirs"},"no-create-dirs":{type:"bool",name:"create-dirs",expand:!1},"create-file-mode":{type:"string",name:"create-file-mode"},"max-redirs":{type:"string",name:"max-redirs"},"proxy-ntlm":{type:"bool",name:"proxy-ntlm"},"no-proxy-ntlm":{type:"bool",name:"proxy-ntlm",expand:!1},crlf:{type:"bool",name:"crlf"},"no-crlf":{type:"bool",name:"crlf",expand:!1},stderr:{type:"string",name:"stderr"},"aws-sigv4":{type:"string",name:"aws-sigv4"},interface:{type:"string",name:"interface"},krb:{type:"string",name:"krb"},krb4:{type:"string",name:"krb"},"haproxy-protocol":{type:"bool",name:"haproxy-protocol"},"no-haproxy-protocol":{type:"bool",name:"haproxy-protocol",expand:!1},"haproxy-clientip":{type:"string",name:"haproxy-clientip"},"max-filesize":{type:"string",name:"max-filesize"},"disable-eprt":{type:"bool",name:"disable-eprt"},"no-disable-eprt":{type:"bool",name:"disable-eprt",expand:!1},eprt:{type:"bool",name:"eprt"},"no-eprt":{type:"bool",name:"eprt",expand:!1},xattr:{type:"bool",name:"xattr"},"no-xattr":{type:"bool",name:"xattr",expand:!1},"ftp-ssl":{type:"bool",name:"ssl"},"no-ftp-ssl":{type:"bool",name:"ssl",expand:!1},ssl:{type:"bool",name:"ssl"},"no-ssl":{type:"bool",name:"ssl",expand:!1},"ftp-pasv":{type:"bool",name:"ftp-pasv"},"no-ftp-pasv":{type:"bool",name:"ftp-pasv",expand:!1},socks5:{type:"string",name:"socks5"},"tcp-nodelay":{type:"bool",name:"tcp-nodelay"},"no-tcp-nodelay":{type:"bool",name:"tcp-nodelay",expand:!1},"proxy-digest":{type:"bool",name:"proxy-digest"},"no-proxy-digest":{type:"bool",name:"proxy-digest",expand:!1},"proxy-basic":{type:"bool",name:"proxy-basic"},"no-proxy-basic":{type:"bool",name:"proxy-basic",expand:!1},retry:{type:"string",name:"retry"},"retry-connrefused":{type:"bool",name:"retry-connrefused"},"no-retry-connrefused":{type:"bool",name:"retry-connrefused",expand:!1},"retry-delay":{type:"string",name:"retry-delay"},"retry-max-time":{type:"string",name:"retry-max-time"},"proxy-negotiate":{type:"bool",name:"proxy-negotiate"},"no-proxy-negotiate":{type:"bool",name:"proxy-negotiate",expand:!1},"form-escape":{type:"bool",name:"form-escape"},"no-form-escape":{type:"bool",name:"form-escape",expand:!1},"ftp-account":{type:"string",name:"ftp-account"},"proxy-anyauth":{type:"bool",name:"proxy-anyauth"},"no-proxy-anyauth":{type:"bool",name:"proxy-anyauth",expand:!1},"trace-time":{type:"bool",name:"trace-time"},"no-trace-time":{type:"bool",name:"trace-time",expand:!1},"ignore-content-length":{type:"bool",name:"ignore-content-length"},"no-ignore-content-length":{type:"bool",name:"ignore-content-length",expand:!1},"ftp-skip-pasv-ip":{type:"bool",name:"ftp-skip-pasv-ip"},"no-ftp-skip-pasv-ip":{type:"bool",name:"ftp-skip-pasv-ip",expand:!1},"ftp-method":{type:"string",name:"ftp-method"},"local-port":{type:"string",name:"local-port"},socks4:{type:"string",name:"socks4"},socks4a:{type:"string",name:"socks4a"},"ftp-alternative-to-user":{type:"string",name:"ftp-alternative-to-user"},"ftp-ssl-reqd":{type:"bool",name:"ssl-reqd"},"no-ftp-ssl-reqd":{type:"bool",name:"ssl-reqd",expand:!1},"ssl-reqd":{type:"bool",name:"ssl-reqd"},"no-ssl-reqd":{type:"bool",name:"ssl-reqd",expand:!1},sessionid:{type:"bool",name:"sessionid"},"no-sessionid":{type:"bool",name:"sessionid",expand:!1},"ftp-ssl-control":{type:"bool",name:"ftp-ssl-control"},"no-ftp-ssl-control":{type:"bool",name:"ftp-ssl-control",expand:!1},"ftp-ssl-ccc":{type:"bool",name:"ftp-ssl-ccc"},"no-ftp-ssl-ccc":{type:"bool",name:"ftp-ssl-ccc",expand:!1},"ftp-ssl-ccc-mode":{type:"string",name:"ftp-ssl-ccc-mode"},libcurl:{type:"string",name:"libcurl"},raw:{type:"bool",name:"raw"},"no-raw":{type:"bool",name:"raw",expand:!1},post301:{type:"bool",name:"post301"},"no-post301":{type:"bool",name:"post301",expand:!1},keepalive:{type:"bool",name:"keepalive"},"no-keepalive":{type:"bool",name:"keepalive",expand:!1},"socks5-hostname":{type:"string",name:"socks5-hostname"},"keepalive-time":{type:"string",name:"keepalive-time"},post302:{type:"bool",name:"post302"},"no-post302":{type:"bool",name:"post302",expand:!1},noproxy:{type:"string",name:"noproxy"},"socks5-gssapi-nec":{type:"bool",name:"socks5-gssapi-nec"},"no-socks5-gssapi-nec":{type:"bool",name:"socks5-gssapi-nec",expand:!1},"proxy1.0":{type:"string",name:"proxy1.0"},"tftp-blksize":{type:"string",name:"tftp-blksize"},"mail-from":{type:"string",name:"mail-from"},"mail-rcpt":{type:"string",name:"mail-rcpt"},"ftp-pret":{type:"bool",name:"ftp-pret"},"no-ftp-pret":{type:"bool",name:"ftp-pret",expand:!1},proto:{type:"string",name:"proto"},"proto-redir":{type:"string",name:"proto-redir"},resolve:{type:"string",name:"resolve"},delegation:{type:"string",name:"delegation"},"mail-auth":{type:"string",name:"mail-auth"},post303:{type:"bool",name:"post303"},"no-post303":{type:"bool",name:"post303",expand:!1},metalink:{type:"bool",name:"metalink"},"no-metalink":{type:"bool",name:"metalink",expand:!1},"sasl-authzid":{type:"string",name:"sasl-authzid"},"sasl-ir":{type:"bool",name:"sasl-ir"},"no-sasl-ir":{type:"bool",name:"sasl-ir",expand:!1},"test-event":{type:"bool",name:"test-event"},"no-test-event":{type:"bool",name:"test-event",expand:!1},"unix-socket":{type:"string",name:"unix-socket"},"path-as-is":{type:"bool",name:"path-as-is"},"no-path-as-is":{type:"bool",name:"path-as-is",expand:!1},"socks5-gssapi-service":{type:"string",name:"proxy-service-name"},"proxy-service-name":{type:"string",name:"proxy-service-name"},"service-name":{type:"string",name:"service-name"},"proto-default":{type:"string",name:"proto-default"},"expect100-timeout":{type:"string",name:"expect100-timeout"},"tftp-no-options":{type:"bool",name:"tftp-no-options"},"no-tftp-no-options":{type:"bool",name:"tftp-no-options",expand:!1},"connect-to":{type:"string",name:"connect-to"},"abstract-unix-socket":{type:"string",name:"abstract-unix-socket"},"tls-max":{type:"string",name:"tls-max"},"suppress-connect-headers":{type:"bool",name:"suppress-connect-headers"},"no-suppress-connect-headers":{type:"bool",name:"suppress-connect-headers",expand:!1},"compressed-ssh":{type:"bool",name:"compressed-ssh"},"no-compressed-ssh":{type:"bool",name:"compressed-ssh",expand:!1},"happy-eyeballs-timeout-ms":{type:"string",name:"happy-eyeballs-timeout-ms"},"retry-all-errors":{type:"bool",name:"retry-all-errors"},"no-retry-all-errors":{type:"bool",name:"retry-all-errors",expand:!1},"trace-ids":{type:"bool",name:"trace-ids"},"no-trace-ids":{type:"bool",name:"trace-ids",expand:!1},"http1.0":{type:"bool",name:"http1.0"},"http1.1":{type:"bool",name:"http1.1"},http2:{type:"bool",name:"http2"},"http2-prior-knowledge":{type:"bool",name:"http2-prior-knowledge"},http3:{type:"bool",name:"http3"},"http3-only":{type:"bool",name:"http3-only"},"http0.9":{type:"bool",name:"http0.9"},"no-http0.9":{type:"bool",name:"http0.9",expand:!1},"proxy-http2":{type:"bool",name:"proxy-http2"},"no-proxy-http2":{type:"bool",name:"proxy-http2",expand:!1},tlsv1:{type:"bool",name:"tlsv1"},"tlsv1.0":{type:"bool",name:"tlsv1.0"},"tlsv1.1":{type:"bool",name:"tlsv1.1"},"tlsv1.2":{type:"bool",name:"tlsv1.2"},"tlsv1.3":{type:"bool",name:"tlsv1.3"},"tls13-ciphers":{type:"string",name:"tls13-ciphers"},"proxy-tls13-ciphers":{type:"string",name:"proxy-tls13-ciphers"},sslv2:{type:"bool",name:"sslv2"},sslv3:{type:"bool",name:"sslv3"},ipv4:{type:"bool",name:"ipv4"},ipv6:{type:"bool",name:"ipv6"},append:{type:"bool",name:"append"},"no-append":{type:"bool",name:"append",expand:!1},"user-agent":{type:"string",name:"user-agent"},cookie:{type:"string",name:"cookie"},"alt-svc":{type:"string",name:"alt-svc"},hsts:{type:"string",name:"hsts"},"use-ascii":{type:"bool",name:"use-ascii"},"no-use-ascii":{type:"bool",name:"use-ascii",expand:!1},"cookie-jar":{type:"string",name:"cookie-jar"},"continue-at":{type:"string",name:"continue-at"},data:{type:"string",name:"data"},"data-raw":{type:"string",name:"data-raw"},"data-ascii":{type:"string",name:"data-ascii"},"data-binary":{type:"string",name:"data-binary"},"data-urlencode":{type:"string",name:"data-urlencode"},json:{type:"string",name:"json"},"url-query":{type:"string",name:"url-query"},"dump-header":{type:"string",name:"dump-header"},referer:{type:"string",name:"referer"},cert:{type:"string",name:"cert"},cacert:{type:"string",name:"cacert"},"cert-type":{type:"string",name:"cert-type"},key:{type:"string",name:"key"},"key-type":{type:"string",name:"key-type"},pass:{type:"string",name:"pass"},engine:{type:"string",name:"engine"},"ca-native":{type:"bool",name:"ca-native"},"no-ca-native":{type:"bool",name:"ca-native",expand:!1},"proxy-ca-native":{type:"bool",name:"proxy-ca-native"},"no-proxy-ca-native":{type:"bool",name:"proxy-ca-native",expand:!1},capath:{type:"string",name:"capath"},pubkey:{type:"string",name:"pubkey"},hostpubmd5:{type:"string",name:"hostpubmd5"},hostpubsha256:{type:"string",name:"hostpubsha256"},crlfile:{type:"string",name:"crlfile"},tlsuser:{type:"string",name:"tlsuser"},tlspassword:{type:"string",name:"tlspassword"},tlsauthtype:{type:"string",name:"tlsauthtype"},"ssl-allow-beast":{type:"bool",name:"ssl-allow-beast"},"no-ssl-allow-beast":{type:"bool",name:"ssl-allow-beast",expand:!1},"ssl-auto-client-cert":{type:"bool",name:"ssl-auto-client-cert"},"no-ssl-auto-client-cert":{type:"bool",name:"ssl-auto-client-cert",expand:!1},"proxy-ssl-auto-client-cert":{type:"bool",name:"proxy-ssl-auto-client-cert"},"no-proxy-ssl-auto-client-cert":{type:"bool",name:"proxy-ssl-auto-client-cert",expand:!1},pinnedpubkey:{type:"string",name:"pinnedpubkey"},"proxy-pinnedpubkey":{type:"string",name:"proxy-pinnedpubkey"},"cert-status":{type:"bool",name:"cert-status"},"no-cert-status":{type:"bool",name:"cert-status",expand:!1},"doh-cert-status":{type:"bool",name:"doh-cert-status"},"no-doh-cert-status":{type:"bool",name:"doh-cert-status",expand:!1},"false-start":{type:"bool",name:"false-start"},"no-false-start":{type:"bool",name:"false-start",expand:!1},"ssl-no-revoke":{type:"bool",name:"ssl-no-revoke"},"no-ssl-no-revoke":{type:"bool",name:"ssl-no-revoke",expand:!1},"ssl-revoke-best-effort":{type:"bool",name:"ssl-revoke-best-effort"},"no-ssl-revoke-best-effort":{type:"bool",name:"ssl-revoke-best-effort",expand:!1},"tcp-fastopen":{type:"bool",name:"tcp-fastopen"},"no-tcp-fastopen":{type:"bool",name:"tcp-fastopen",expand:!1},"proxy-tlsuser":{type:"string",name:"proxy-tlsuser"},"proxy-tlspassword":{type:"string",name:"proxy-tlspassword"},"proxy-tlsauthtype":{type:"string",name:"proxy-tlsauthtype"},"proxy-cert":{type:"string",name:"proxy-cert"},"proxy-cert-type":{type:"string",name:"proxy-cert-type"},"proxy-key":{type:"string",name:"proxy-key"},"proxy-key-type":{type:"string",name:"proxy-key-type"},"proxy-pass":{type:"string",name:"proxy-pass"},"proxy-ciphers":{type:"string",name:"proxy-ciphers"},"proxy-crlfile":{type:"string",name:"proxy-crlfile"},"proxy-ssl-allow-beast":{type:"bool",name:"proxy-ssl-allow-beast"},"no-proxy-ssl-allow-beast":{type:"bool",name:"proxy-ssl-allow-beast",expand:!1},"login-options":{type:"string",name:"login-options"},"proxy-cacert":{type:"string",name:"proxy-cacert"},"proxy-capath":{type:"string",name:"proxy-capath"},"proxy-insecure":{type:"bool",name:"proxy-insecure"},"no-proxy-insecure":{type:"bool",name:"proxy-insecure",expand:!1},"proxy-tlsv1":{type:"bool",name:"proxy-tlsv1"},"socks5-basic":{type:"bool",name:"socks5-basic"},"no-socks5-basic":{type:"bool",name:"socks5-basic",expand:!1},"socks5-gssapi":{type:"bool",name:"socks5-gssapi"},"no-socks5-gssapi":{type:"bool",name:"socks5-gssapi",expand:!1},"etag-save":{type:"string",name:"etag-save"},"etag-compare":{type:"string",name:"etag-compare"},curves:{type:"string",name:"curves"},fail:{type:"bool",name:"fail"},"no-fail":{type:"bool",name:"fail",expand:!1},"fail-early":{type:"bool",name:"fail-early"},"no-fail-early":{type:"bool",name:"fail-early",expand:!1},"styled-output":{type:"bool",name:"styled-output"},"no-styled-output":{type:"bool",name:"styled-output",expand:!1},"mail-rcpt-allowfails":{type:"bool",name:"mail-rcpt-allowfails"},"no-mail-rcpt-allowfails":{type:"bool",name:"mail-rcpt-allowfails",expand:!1},"fail-with-body":{type:"bool",name:"fail-with-body"},"no-fail-with-body":{type:"bool",name:"fail-with-body",expand:!1},"remove-on-error":{type:"bool",name:"remove-on-error"},"no-remove-on-error":{type:"bool",name:"remove-on-error",expand:!1},form:{type:"string",name:"form"},"form-string":{type:"string",name:"form-string"},globoff:{type:"bool",name:"globoff"},"no-globoff":{type:"bool",name:"globoff",expand:!1},get:{type:"bool",name:"get"},"no-get":{type:"bool",name:"get",expand:!1},"request-target":{type:"string",name:"request-target"},help:{type:"bool",name:"help"},"no-help":{type:"bool",name:"help",expand:!1},header:{type:"string",name:"header"},"proxy-header":{type:"string",name:"proxy-header"},include:{type:"bool",name:"include"},"no-include":{type:"bool",name:"include",expand:!1},head:{type:"bool",name:"head"},"no-head":{type:"bool",name:"head",expand:!1},"junk-session-cookies":{type:"bool",name:"junk-session-cookies"},"no-junk-session-cookies":{type:"bool",name:"junk-session-cookies",expand:!1},"remote-header-name":{type:"bool",name:"remote-header-name"},"no-remote-header-name":{type:"bool",name:"remote-header-name",expand:!1},insecure:{type:"bool",name:"insecure"},"no-insecure":{type:"bool",name:"insecure",expand:!1},"doh-insecure":{type:"bool",name:"doh-insecure"},"no-doh-insecure":{type:"bool",name:"doh-insecure",expand:!1},config:{type:"string",name:"config"},"list-only":{type:"bool",name:"list-only"},"no-list-only":{type:"bool",name:"list-only",expand:!1},location:{type:"bool",name:"location"},"no-location":{type:"bool",name:"location",expand:!1},"location-trusted":{type:"bool",name:"location-trusted"},"no-location-trusted":{type:"bool",name:"location-trusted",expand:!1},"max-time":{type:"string",name:"max-time"},manual:{type:"bool",name:"manual"},"no-manual":{type:"bool",name:"manual",expand:!1},netrc:{type:"bool",name:"netrc"},"no-netrc":{type:"bool",name:"netrc",expand:!1},"netrc-optional":{type:"bool",name:"netrc-optional"},"no-netrc-optional":{type:"bool",name:"netrc-optional",expand:!1},"netrc-file":{type:"string",name:"netrc-file"},buffer:{type:"bool",name:"buffer"},"no-buffer":{type:"bool",name:"buffer",expand:!1},output:{type:"string",name:"output"},"remote-name":{type:"bool",name:"remote-name"},"no-remote-name":{type:"bool",name:"remote-name",expand:!1},"remote-name-all":{type:"bool",name:"remote-name-all"},"no-remote-name-all":{type:"bool",name:"remote-name-all",expand:!1},"output-dir":{type:"string",name:"output-dir"},clobber:{type:"bool",name:"clobber"},"no-clobber":{type:"bool",name:"clobber",expand:!1},proxytunnel:{type:"bool",name:"proxytunnel"},"no-proxytunnel":{type:"bool",name:"proxytunnel",expand:!1},"ftp-port":{type:"string",name:"ftp-port"},disable:{type:"bool",name:"disable"},"no-disable":{type:"bool",name:"disable",expand:!1},quote:{type:"string",name:"quote"},range:{type:"string",name:"range"},"remote-time":{type:"bool",name:"remote-time"},"no-remote-time":{type:"bool",name:"remote-time",expand:!1},silent:{type:"bool",name:"silent"},"no-silent":{type:"bool",name:"silent",expand:!1},"show-error":{type:"bool",name:"show-error"},"no-show-error":{type:"bool",name:"show-error",expand:!1},"telnet-option":{type:"string",name:"telnet-option"},"upload-file":{type:"string",name:"upload-file"},user:{type:"string",name:"user"},"proxy-user":{type:"string",name:"proxy-user"},verbose:{type:"bool",name:"verbose"},"no-verbose":{type:"bool",name:"verbose",expand:!1},version:{type:"bool",name:"version"},"no-version":{type:"bool",name:"version",expand:!1},"write-out":{type:"string",name:"write-out"},proxy:{type:"string",name:"proxy"},preproxy:{type:"string",name:"preproxy"},request:{type:"string",name:"request"},"speed-limit":{type:"string",name:"speed-limit"},"speed-time":{type:"string",name:"speed-time"},"time-cond":{type:"string",name:"time-cond"},parallel:{type:"bool",name:"parallel"},"no-parallel":{type:"bool",name:"parallel",expand:!1},"parallel-max":{type:"string",name:"parallel-max"},"parallel-immediate":{type:"bool",name:"parallel-immediate"},"no-parallel-immediate":{type:"bool",name:"parallel-immediate",expand:!1},"progress-bar":{type:"bool",name:"progress-bar"},"no-progress-bar":{type:"bool",name:"progress-bar",expand:!1},"progress-meter":{type:"bool",name:"progress-meter"},"no-progress-meter":{type:"bool",name:"progress-meter",expand:!1},next:{type:"bool",name:"next"},port:{type:"string",name:"port",removed:"7.3"},"ftp-ascii":{type:"bool",name:"use-ascii",removed:"7.10.7"},"3p-url":{type:"string",name:"3p-url",removed:"7.16.0"},"3p-user":{type:"string",name:"3p-user",removed:"7.16.0"},"3p-quote":{type:"string",name:"3p-quote",removed:"7.16.0"},"http2.0":{type:"bool",name:"http2",removed:"7.36.0"},"no-http2.0":{type:"bool",name:"http2",removed:"7.36.0"},"telnet-options":{type:"string",name:"telnet-option",removed:"7.49.0"},"http-request":{type:"string",name:"request",removed:"7.49.0"},"capath ":{type:"string",name:"capath",removed:"7.49.0"},ftpport:{type:"string",name:"ftp-port",removed:"7.49.0"},environment:{type:"bool",name:"environment",removed:"7.54.1"},"no-tlsv1":{type:"bool",name:"tlsv1",removed:"7.54.1"},"no-tlsv1.2":{type:"bool",name:"tlsv1.2",removed:"7.54.1"},"no-http2-prior-knowledge":{type:"bool",name:"http2-prior-knowledge",removed:"7.54.1"},"no-ipv6":{type:"bool",name:"ipv6",removed:"7.54.1"},"no-ipv4":{type:"bool",name:"ipv4",removed:"7.54.1"},"no-sslv2":{type:"bool",name:"sslv2",removed:"7.54.1"},"no-tlsv1.0":{type:"bool",name:"tlsv1.0",removed:"7.54.1"},"no-tlsv1.1":{type:"bool",name:"tlsv1.1",removed:"7.54.1"},"no-sslv3":{type:"bool",name:"sslv3",removed:"7.54.1"},"no-http1.0":{type:"bool",name:"http1.0",removed:"7.54.1"},"no-next":{type:"bool",name:"next",removed:"7.54.1"},"no-tlsv1.3":{type:"bool",name:"tlsv1.3",removed:"7.54.1"},"no-environment":{type:"bool",name:"environment",removed:"7.54.1"},"no-http1.1":{type:"bool",name:"http1.1",removed:"7.54.1"},"no-proxy-tlsv1":{type:"bool",name:"proxy-tlsv1",removed:"7.54.1"},"no-http2":{type:"bool",name:"http2",removed:"7.54.1"}},curlLongOptsShortened={};for(const[t,e]of Object.entries(curlLongOpts)){const r="expand"in e?e.expand:!0,n="removed"in e?e.removed:!1;if(r&&!n)for(let s=1;s<t.length;s++){const o=t.slice(0,s);Object.prototype.hasOwnProperty.call(curlLongOptsShortened,o)?curlLongOptsShortened[o]=null:Object.prototype.hasOwnProperty.call(curlLongOpts,o)||(curlLongOptsShortened[o]=e)}}const COMMON_SUPPORTED_ARGS=["url","proto-default","globoff","disallow-username-in-url","request","get","head","no-head","header","user-agent","referer","range","time-cond","cookie","oauth2-bearer","user","basic","no-basic","data","data-raw","data-ascii","data-binary","data-urlencode","json","url-query"];function toBoolean(t){return t.startsWith("no-disable-")?!0:!(t.startsWith("disable-")||t.startsWith("no-"))}const curlShortOpts={0:"http1.0",1:"tlsv1",2:"sslv2",3:"sslv3",4:"ipv4",6:"ipv6",a:"append",A:"user-agent",b:"cookie",B:"use-ascii",c:"cookie-jar",C:"continue-at",d:"data",D:"dump-header",e:"referer",E:"cert",f:"fail",F:"form",g:"globoff",G:"get",h:"help",H:"header",i:"include",I:"head",j:"junk-session-cookies",J:"remote-header-name",k:"insecure",K:"config",l:"list-only",L:"location",m:"max-time",M:"manual",n:"netrc",N:"no-buffer",o:"output",O:"remote-name",p:"proxytunnel",P:"ftp-port",q:"disable",Q:"quote",r:"range",R:"remote-time",s:"silent",S:"show-error",t:"telnet-option",T:"upload-file",u:"user",U:"proxy-user",v:"verbose",V:"version",w:"write-out",x:"proxy",X:"request",Y:"speed-limit",y:"speed-time",z:"time-cond",Z:"parallel","#":"progress-bar",":":"next"},changedShortOpts={p:"used to be short for --port <port> (a since-deleted flag) until curl 7.3",t:"used to be short for --upload (a since-deleted boolean flag) until curl 7.7",c:"used to be short for --continue (a since-deleted boolean flag) until curl 7.9","@":"used to be short for --create-dirs until curl 7.10.7",Z:"used to be short for --max-redirs <num> until curl 7.10.7",9:"used to be short for --crlf until curl 7.10.8",8:"used to be short for --stderr <file> until curl 7.10.8",7:"used to be short for --interface <name> until curl 7.10.8",6:"used to be short for --krb <level> (which itself used to be --krb4 <level>) until curl 7.10.8",5:"used to be another way to specify the url until curl 7.10.8","*":"used to be another way to specify the url until curl 7.49.0","~":"used to be short for --xattr until curl 7.49.0"},canBeList=new Set(["connect-to","cookie","data","form","header","hsts","mail-rcpt","output","proxy-header","quote","resolve","telnet-option","upload-file","url-query","url"]);function checkSupported(t,e,r,n){n&&!n.has(r.name)&&warnf(t,[r.name,e+" is not a supported option"+(r.removed?", it was removed in curl "+r.removed:"")])}function pushProp(t,e,r){return Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(r),t}function pushArgValue(t,e,r,n){switch(r){case"data":case"data-ascii":return pushProp(e,"data",["data",n]);case"data-binary":return pushProp(e,"data",[n.startsWith("@")?"binary":"data",n]);case"data-raw":return pushProp(e,"data",[n.startsWith("@")?"raw":"data",n]);case"data-urlencode":return pushProp(e,"data",["urlencode",n]);case"json":return e.json=!0,pushProp(e,"data",["json",n]);case"url-query":return n.startsWith("+")?pushProp(e,"url-query",["raw",n.slice(1)]):pushProp(e,"url-query",["urlencode",n]);case"form":return pushProp(e,"form",{value:n,type:"form"});case"form-string":return pushProp(e,"form",{value:n,type:"string"});case"aws-sigv4":e.authtype|=CURLAUTH_AWS_SIGV4;break;case"oauth2-bearer":e.authtype|=CURLAUTH_BEARER;break;case"unix-socket":case"abstract-unix-socket":pushProp(e,"unix-socket",n);break;case"trace":case"trace-ascii":case"stderr":case"libcurl":case"config":case"parallel-max":t[r]=n;break;case"language":t[r]=n.toString();return}return pushProp(e,r,n)}function setArgValue(t,e,r,n){switch(r){case"digest":n?e.authtype|=CURLAUTH_DIGEST:e.authtype&=-3;break;case"proxy-digest":n?e.proxyauthtype|=CURLAUTH_DIGEST:e.proxyauthtype&=-3;break;case"negotiate":n?e.authtype|=CURLAUTH_NEGOTIATE:e.authtype&=-5;break;case"proxy-negotiate":n?e.proxyauthtype|=CURLAUTH_NEGOTIATE:e.proxyauthtype&=-5;break;case"ntlm":n?e.authtype|=CURLAUTH_NTLM:e.authtype&=-9;break;case"proxy-ntlm":n?e.proxyauthtype|=CURLAUTH_NTLM:e.proxyauthtype&=-9;break;case"ntlm-wb":n?e.authtype|=CURLAUTH_NTLM_WB:e.authtype&=-33;break;case"basic":n?e.authtype|=CURLAUTH_BASIC:e.authtype&=-2;break;case"proxy-basic":n?e.proxyauthtype|=CURLAUTH_BASIC:e.proxyauthtype&=-2;break;case"anyauth":n&&(e.authtype=CURLAUTH_ANY);break;case"proxy-anyauth":n&&(e.proxyauthtype=CURLAUTH_ANY);break;case"location":e.location=n;break;case"location-trusted":e.location=n,e["location-trusted"]=n;break;case"http1.0":e.httpVersion="1.0";break;case"http1.1":e.httpVersion="1.1";break;case"http2":e.httpVersion="2";break;case"http2-prior-knowledge":e.httpVersion="2-prior-knowledge";break;case"http3":e.httpVersion="3";break;case"http3-only":e.httpVersion="3-only";break;case"tlsv1":e.tlsVersion="1";break;case"tlsv1.0":e.tlsVersion="1.0";break;case"tlsv1.1":e.tlsVersion="1.1";break;case"tlsv1.2":e.tlsVersion="1.2";break;case"tlsv1.3":e.tlsVersion="1.3";break;case"verbose":case"version":case"trace-time":case"test-event":case"progress-bar":case"progress-meter":case"fail-early":case"styled-output":case"help":case"silent":case"show-error":case"parallel":case"parallel-immediate":case"stdin":t[r]=n;break;case"next":n&&e.url&&e.url.length>0&&e.url.length>=(e["upload-file"]||[]).length&&e.url.length>=(e.output||[]).length&&(e={authtype:CURLAUTH_BASIC,proxyauthtype:CURLAUTH_BASIC},t.configs.push(e));break;default:e[r]=n}return e}function parseArgs(t,e=curlLongOpts,r=curlLongOptsShortened,n=curlShortOpts,s,o=[]){let a={authtype:CURLAUTH_BASIC,proxyauthtype:CURLAUTH_BASIC};const l={configs:[a],warnings:o},u=[];for(let c=1,d=!0;c<t.length;c++){const h=t[c];if(d&&h.startsWith("-"))if(eq(h,"--"))d=!1;else if(h.startsWith("--")){const f=firstShellToken(h);if(f)throw new CCError("this "+f.type+" could "+(f.type==="command"?"return":"be")+` anything
`+underlineNode(f.syntaxNode));const m=h.toString(),g=m.slice(2);let y=r[g];if(typeof y>"u"&&(y=e[g]),y===null)throw new CCError("option "+m+": is ambiguous");if(typeof y>"u")throw new CCError("option "+m+": is unknown");if(y.type==="string"){if(c++,c>=t.length)throw new CCError("option "+m+": requires parameter");pushArgValue(l,a,y.name,t[c])}else a=setArgValue(l,a,y.name,toBoolean(m.slice(2)));checkSupported(l,m,y,s),u.push([y.name,m])}else{if(h.length===1)if(Object.prototype.hasOwnProperty.call(n,"")){const f=n[""],m=e[f];if(m===null)throw new CCError("option -: is unknown");a=setArgValue(l,a,m.name,toBoolean(f)),u.push([m.name,"-"])}else throw new CCError("option -: is unknown");for(let f=1;f<h.length;f++){const m=h.get(f);if(typeof m!="string")throw new CCError("this "+m.type+" could "+(m.type==="command"?"return":"be")+` anything
`+underlineNode(m.syntaxNode));if(!has(n,m))throw has(changedShortOpts,m)?new CCError("option "+h+": "+changedShortOpts[m]):new CCError("option "+h+": is unknown");const g=m,y=n[g],E=e[y];if(E===null)throw new CCError("ambiguous short option -"+m);if(E.type==="string"){let b;if(f+1<h.length)b=h.slice(f+1),f=h.length;else if(c+1<t.length)c++,b=t[c];else throw new CCError("option "+h.toString()+": requires parameter");pushArgValue(l,a,E.name,b)}else a=setArgValue(l,a,E.name,toBoolean(y));g&&(checkSupported(l,"-"+g,E,s),u.push([E.name,"-"+g]))}}else{if(typeof h!="string"&&h.tokens.length&&typeof h.tokens[0]!="string"){const f=h.tokens.length===1?"is":"begins with";o.push(["ambiguous argument","argument "+f+" a "+h.tokens[0].type+`, assuming it's a URL
`+underlineNode(h.tokens[0].syntaxNode)])}pushArgValue(l,a,"url",h),u.push(["url","--url"])}}for(const c of l.configs)for(const[d,h]of Object.entries(c))Array.isArray(h)&&!canBeList.has(d)&&(c[d]=h[h.length-1]);return[l,u]}const COMMA_SEPARATED=new Set(["A-IM","Accept","Accept-Charset","Accept-Encoding","Accept-Language","Access-Control-Request-Headers","Cache-Control","Connection","Content-Encoding","Expect","Forwarded","If-Match","If-None-Match","Range","TE","Trailer","Transfer-Encoding","Upgrade","Via","Warning"].map(t=>t.toLowerCase())),SEMICOLON_SEPARATED=new Set(["Content-Type","Cookie","Prefer"].map(t=>t.toLowerCase()));class Headers{constructor(e,r=[],n="--header/H"){let s=[];if(e)for(const a of e){if(a.startsWith("@")){r.push(["header-file","passing a file for "+n+" is not supported: "+JSON.stringify(a.toString())]);continue}if(a.includes(":")){const[l,u]=a.split(":",2),d=u&&(eq(l,"Host")?u:u.trim()).toBool()?u.removeFirstChar(" "):null;s.push([l,d])}else if(a.includes(";")){const[l]=a.split(";",2);s.push([l,new Word])}}this.lowercase=s.length>0&&s.every(a=>eq(a[0],a[0].toLowerCase()));const o={};for(const[a,l]of s){const u=a.toLowerCase().toString();o[u]||(o[u]=[]),o[u].push([a,l])}s=[];for(const[a,l]of Object.entries(o)){if(l.length===1){s.push(l[0]);continue}if(l.every(d=>d[1]===null)){const d=l[l.length-1];new Set(l.map(h=>h[0])).size>1&&r.push(["repeated-header",`"${d[0]}" header unset ${l.length} times`]),s.push(d);continue}const u=l.filter(d=>d[1]!==null);if(u.length===1){s.push(u[0]);continue}let c="";if(COMMA_SEPARATED.has(a)?c=", ":SEMICOLON_SEPARATED.has(a)&&(c="; "),c){const d=joinWords(u.map(h=>h[1]),c);r.push(["repeated-header",`merged ${u.length} "${u[u.length-1][0]}" headers together with "${c.trim()}"`]),s.push([u[0][0],d]);continue}r.push(["repeated-header",`found ${u.length} "${u[u.length-1][0]}" headers, only the last one will be sent`]),s=s.concat(u)}this.headers=s}get length(){return this.headers.length}*[Symbol.iterator](){for(const e of this.headers)yield e}get(e){const r=e.toLowerCase();for(const[n,s]of this.headers)if(n.toLowerCase().toString()===r)return s}getContentType(){const e=this.get("content-type");return e&&e.split(";")[0].trim().toString()}has(e){const r=e.toLowerCase();for(const n of this.headers)if(eq(n[0].toLowerCase(),r))return!0;return!1}setIfMissing(e,r){if(this.has(e))return!1;this.lowercase&&(e=e.toLowerCase());const n=typeof e=="string"?new Word(e):e,s=typeof r=="string"?new Word(r):r;return this.headers.push([n,s]),!0}prependIfMissing(e,r){if(this.has(e))return!1;this.lowercase&&(e=e.toLowerCase());const n=typeof e=="string"?new Word(e):e,s=typeof r=="string"?new Word(r):r;return this.headers.unshift([n,s]),!0}set(e,r){this.lowercase&&(e=e.toLowerCase());const n=typeof e=="string"?new Word(e):e,s=typeof r=="string"?new Word(r):r,o=n.toLowerCase().toString();for(let a=0;a<this.headers.length;a++)if(eq(this.headers[a][0].toLowerCase(),o)){this.headers[a][1]=s;return}this.headers.push([n,s])}delete(e){const r=e.toLowerCase();for(let n=this.headers.length-1;n>=0;n--)this.headers[n][0].toLowerCase().toString()===r&&this.headers.splice(n,1)}clearNulls(){for(let e=this.headers.length-1;e>=0;e--)this.headers[e][1]===null&&this.headers.splice(e,1)}count(e){let r=0;const n=e.toLowerCase();for(const s of this.headers||[])s[0].toLowerCase().toString()===n&&(r+=1);return r}toBool(){return this.headers.length>0&&this.headers.some(e=>e[1]!==null)}}function parseCookiesStrict(t){const e=[];for(let r of t.split(";")){r=r.replace(/^ /,"");const[n,s]=r.split("=",2);if(s===void 0)return null;e.push([n,s])}return new Set(e.map(r=>r[0])).size!==e.length?null:e}function parseCookies(t){const e=[];for(let r of t.split(";")){if(r=r.trim(),!r)continue;const[n,s]=r.split("=",2);e.push([n.trim(),(s||"").trim()])}return new Set(e.map(r=>r[0])).size!==e.length?null:e}const MAX_IP6LEN=128;function isIpv6(t){return t.length>MAX_IP6LEN?!1:!t.includes("-")}function warnAboutGlobs(t,e){let r="";for(let n=0;n<e.length;n++){const s=e[n];if(s==="["&&r!=="\\"){let o=n+1;for(;o<e.length&&e[o]!=="]";)o++;if(o<e.length&&e[o]==="]"){const a=e.slice(n,o+1);isIpv6(a)||warnf(t,["glob-in-url",`globs in the URL are not supported:
${e}
`+" ".repeat(n)+"^".repeat(a.length)]),r=""}else{warnf(t,["unbalanced-glob",`bracket doesn't have a closing bracket:
${e}
${" ".repeat(n)}^`]);return}}else if(s==="{"&&r!=="\\"){let o=n+1;for(;o<e.length&&e[o]!=="}";)o++;if(o<e.length&&e[o]==="}"){const a=e.slice(n,o+1);warnf(t,["glob-in-url",`globs in the URL are not supported:
${e}
`+" ".repeat(n)+"^".repeat(a.length)]),r=""}else{warnf(t,["unbalanced-glob",`bracket doesn't have a closing bracket:
${e}
${" ".repeat(n)}^`]);return}}r=s}}function parseurl(t,e,r){var n;const s={scheme:new Word,host:new Word,port:new Word,path:new Word,query:new Word,fragment:new Word};e.globoff||(r.isString()&&warnAboutGlobs(t,r.toString()),r=r.replace(/\\([[\]{}])/g,"$1"));let o=null;if(r.tokens.length&&typeof r.tokens[0]=="string"&&(o=r.tokens[0].match(/^([a-zA-Z0-9+-.]*):\/\/*/)),o){const[u,c]=o;s.scheme=new Word(c.toLowerCase()),r=r.slice(u.length)}else s.scheme=(n=e["proto-default"])!==null&&n!==void 0?n:new Word("http");!eq(s.scheme,"http")&&!eq(s.scheme,"https")&&warnf(t,["bad-scheme",`Protocol "${s.scheme}" not supported`]);const a=r.indexOfFirstChar("/?#");if(a!==-1){s.host=r.slice(0,a),s.path=r.slice(a);const u=s.path.indexOf("#"),c=s.path.indexOf("?");u!==-1?(s.fragment=s.path.slice(u),c!==-1&&c<u?(s.query=s.path.slice(c,u),s.path=s.path.slice(0,c)):s.path=s.path.slice(0,u)):c!==-1&&(s.query=s.path.slice(c),s.path=s.path.slice(0,c))}else s.host=r;const l=s.host.indexOf("@");if(l!==-1){const u=s.host.slice(0,l);s.host=s.host.slice(l+1),e["disallow-username-in-url"]?warnf(t,["login-denied",`Found auth in URL but --disallow-username-in-url was passed: ${u.toString()}`]):(s.auth=u,u.includes(":")?[s.user,s.password]=u.split(":",2):(s.user=u,s.password=new Word))}return s}function _percentEncode(t){return[...UTF8encoder.encode(t)].map(e=>e>=65&&e<=90||e>=97&&e<=122||e>=48&&e<=57||e===45||e===46||e===95||e===126?String.fromCharCode(e):"%"+e.toString(16).toUpperCase().padStart(2,"0")).join("")}function percentEncode(t){const e=[];for(const r of t.tokens)typeof r=="string"?e.push(_percentEncode(r)):e.push(r);return new Word(e)}function percentEncodePlus(t){const e=[];for(const r of t.tokens)typeof r=="string"?e.push(_percentEncode(r).replace(/%20/g,"+")):e.push(r);return new Word(e)}function wordDecodeURIComponent(t){const e=[];for(const r of t.tokens)typeof r=="string"?e.push(decodeURIComponent(r)):e.push(r);return new Word(e)}function parseQueryString(t){if(!t||t.isEmpty())return[null,null];const e=[];for(const a of t.split("&")){if(!a.includes("="))return[null,null];const[l,u]=a.split("=",2);let c,d;try{c=wordDecodeURIComponent(l.replace(/\+/g," ")),d=wordDecodeURIComponent(u.replace(/\+/g," "))}catch(m){if(m instanceof URIError)return[null,null];throw m}const h=percentEncode(c),f=percentEncode(d);if(!eq(h,l)&&!eq(h.replace(/%20/g,"+"),l)||!eq(f,u)&&!eq(f.replace(/%20/g,"+"),u))return[null,null];e.push([c,d])}const r={},n={};let s=null;for(const[a,l]of e){const u=a.toString();if(s===u)n[u].push(l);else if(!Object.prototype.hasOwnProperty.call(n,u))n[u]=[l],r[u]=a;else return[e,null];s=u}const o=[];for(const[a,l]of Object.entries(n))o.push([r[a],l.length===1?l[0]:l]);return[e,o]}function parseDetails(t,e,r,n,s){for(;r<e.length&&e.charAt(r)===";";){for(r+=1;r<e.length&&isSpace(e.charAt(r));)r+=1;if(r>=e.length)return t;const o=e.slice(r);if(o.startsWith("type="))[t.contentType,r]=getParamWord(e,r+5,s);else if(o.startsWith("filename=")){const[a,l]=getParamWord(e,r+9,s);r=l,n.filename?t.filename=a:s.push(["unsupported-form-detail","Field file name not allowed here: "+a.toString()])}else if(o.startsWith("encoder=")){const[a,l]=getParamWord(e,r+8,s);r=l,n.encoder?t.encoder=a:s.push(["unsupported-form-detail","Field encoder not allowed here: "+a.toString()])}else if(o.startsWith("headers=")){const[a,l]=getParamWord(e,r+8,s);r=l,n.headers?a.startsWith("@")?(t.headerFiles===void 0&&(t.headerFiles=[]),t.headerFiles.push(a.slice(1))):(t.headers===void 0&&(t.headers=[]),t.headers.push(a)):s.push(["unsupported-form-detail","Field headers not allowed here: "+a.toString()])}else r=getParamWord(e,r,s)[1],s.push(["unknown-form-detail","skip unknown form field: "+o.toString()])}return t}function isSpace(t){return typeof t=="string"&&(t===" "||t==="	"||t>=`
`&&t<="\r")}function getParamWord(t,e,r){let n=e;if(t.charAt(n)==='"'){n+=1;const o=[];for(;n<t.length;){let a=t.charAt(n);if(a==="\\"){if(n+1<t.length){const l=t.charAt(n+1);(l==='"'||l==="\\")&&(n+=1,a=t.charAt(n))}}else if(a==='"'){n+=1;let l=!1;for(;n<t.length&&t.charAt(n)!==";";)isSpace(t.charAt(n))||(l=!0),n+=1;return l&&r.push(["trailing-form-data","Trailing data after quoted form parameter"]),[new Word(o),n]}o.push(a),n+=1}}let s=t.indexOf(";",e);return s===-1&&(s=t.length),[t.slice(e,s),s]}function getParamPart(t,e,r,n,s){for(;r<e.length&&isSpace(e.charAt(r));)r+=1;const[o,a]=getParamWord(e,r,s);return t.content=o,parseDetails(t,e,a,n,s),t}function parseForm(t,e){const r=[];let n=0;for(const s of t){const o=s.type==="string";if(!s.value.includes("="))throw new CCError('invalid value for --form/-F, missing "=": '+JSON.stringify(s.value.toString()));const[a,l]=s.value.split("=",2),u={name:a};if(!o&&l.charAt(0)==="(")n+=1,e.push(["nested-form",'Nested form data with "=(" is not supported, it will be flattened']),getParamPart(u,l,1,{headers:!0},e);else if(!o&&a.length===0&&eq(l,")")){if(n-=1,n<0)throw new CCError("no multipart to terminate: "+JSON.stringify(s.value.toString()))}else!o&&l.charAt(0)==="@"?(getParamPart(u,l,1,{filename:!0,encoder:!0,headers:!0},e),u.contentFile=u.content,delete u.content,(u.filename===null||u.filename===void 0)&&(u.filename=u.contentFile),u.contentType===null||u.contentType):!o&&l.charAt(0)==="<"?(getParamPart(u,l,1,{encoder:!0,headers:!0},e),u.contentFile=u.content,delete u.content,u.contentType===null||u.contentType):o?u.content=l:getParamPart(u,l,0,{filename:!0,encoder:!0,headers:!0},e);r.push(u)}return r}function buildURL(t,e,r,n,s,o,a){const l=r,u=parseurl(t,e,r);n&&(u.path.isEmpty()?u.path=n.prepend("/"):u.path.endsWith("/")&&(u.path=u.path.add(n)),e.get&&warnf(t,["data-ignored","curl doesn't let you pass --get and --upload-file together"]));const c=mergeWords(u.scheme,"://",u.host,u.path,u.query,u.fragment);let d=null,h=null,f=null;if(u.query.toBool()||e["url-query"]&&e["url-query"].length){let R=null,v=[];u.query.toBool()&&(v.push(["raw",u.query.slice(1)]),[h,R,f]=buildData(v,o,a),d=h),e["url-query"]&&(v=v.concat(e["url-query"]),[h,R,f]=buildData(v,o,a)),u.query=new Word,R&&R.toBool()&&(u.query=R.prepend("?"))}const m=mergeWords(u.scheme,"://",u.host,u.path,u.fragment);r=mergeWords(u.scheme,"://",u.host,u.path,u.query,u.fragment);let g=r,[y,E]=parseQueryString(u.query.toBool()?u.query.slice(1):new Word);y&&y.length?g=mergeWords(u.scheme,"://",u.host,u.path,u.fragment):(y=null,E=null);let b=new Word("GET");e.request&&!eq(e.request,"null")?b=e.request:e.head?b=new Word("HEAD"):n&&n.toBool()?b=new Word("PUT"):!e.get&&(has(e,"data")||has(e,"form"))&&(b=new Word("POST"));const p={originalUrl:l,urlWithoutQueryList:g,url:r,urlObj:u,urlWithOriginalQuery:c,urlWithoutQueryArray:m,method:b};f&&(p.queryReadsFile=f),y&&(p.queryList=y,E&&(p.queryDict=E)),h&&(p.queryArray=h),d&&(p.urlQueryArray=d),n&&(eq(n,"-")||eq(n,".")?a?p.uploadFile=a:(o&&warnf(t,["upload-file-with-stdin-content","--upload-file with stdin content is not supported"]),p.uploadFile=n):p.uploadFile=n),s&&(p.output=s);const _=e.user||u.auth;if(_){const[R,v]=_.split(":",2);p.auth=[R,v||new Word]}return p}function buildData(t,e,r){const n=[];let s=new Word;for(const[l,u]of t.entries()){const c=u[0];let d=u[1],h=null;if(l>0&&c!=="json"&&(s=s.append("&")),c==="urlencode"){const m=d.includes("=")||!d.includes("@")?"=":"@";if((d.includes("@")||d.includes("="))&&([h,d]=d.split(m,2)),m==="="){h&&h.toBool()&&(s=s.add(h).append("=")),s=s.add(percentEncodePlus(d));continue}h=h&&h.toBool()?h:null,d=d.prepend("@")}let f=null;if(c!=="raw"&&d.startsWith("@")&&(f=d.slice(1),eq(f,"-")))if(e!==void 0){switch(c){case"binary":case"json":d=e;break;case"urlencode":d=mergeWords(h&&h.length?h.append("="):new Word,percentEncodePlus(e));break;default:d=e.replace(/[\n\r]/g,"")}f=null}else r!==void 0&&(f=r);if(f!==null){s.toBool()&&(n.push(s),s=new Word);const m={filetype:c,filename:f};h&&(m.name=h),n.push(m)}else s=s.add(d)}s.toBool()&&n.push(s);let o=null;const a=mergeWords(...n.map(l=>l instanceof Word?l:(o||(o=l.filename.toString()),l.name?mergeWords(l.name,"=@",l.filename):l.filename.prepend("@"))));return[n,a,o]}function parseContentType(t){if(!t.includes(";"))return[t,[]];const e=t.indexOf(";"),r=t.slice(0,e),n=t.slice(e),s=n.match(/;\s*([^;=]+)=(?:("[^"]*")|([^()<>@,;:\\"/[\]?.=]*))/g);if(n.trim()&&!s)return null;const o=[];for(const a of s||[]){const l=a.match(/;\s*([^;=]+)=(?:("[^"]*")|([^()<>@,;:\\"/[\]?.=]*))/);if(!l)return null;const u=l[1],c=l[3]||l[2].slice(1,-1);o.push([u,c])}return[r,o]}function parseBoundary(t){const e=parseContentType(t);if(!e)return null;for(const[r,n]of e[1])if(r==="boundary")return n;return null}function parseRawForm(t,e){const r=`\r
--`+e+`--\r
`;if(!t.endsWith(r)||(t=t.slice(0,-r.length),e="--"+e+`\r
`,t&&!t.startsWith(e)))return null;t=t.slice(e.length);const n=t.split(`\r
`+e),s=[];let o=!0;for(const a of n){const l=a.split(`\r
`);if(l.length<2)return null;const u={name:new Word,content:new Word};let c=!1;const d=[];let h=0;for(;h<l.length&&l[h].length!==0;h++){const[f,m]=l[h].split(": ",2);if(f===void 0||m===void 0)return null;if(f.toLowerCase()==="content-disposition"){if(c)return null;const g=parseContentType(m);if(!g)return null;const[y,E]=g;if(y!=="form-data")return null;let b=0;for(const[p,_]of E)switch(p){case"name":u.name=new Word(_);break;case"filename":u.filename=new Word(_);break;default:b++;break}b&&(o=!1),c=!0}else f.toLowerCase()==="content-type"?u.contentType=new Word(m):d.push(new Word(l[h]))}if(d.length&&(u.headers=d),!c||h===l.length||u.name.isEmpty())return null;u.content=new Word(l.slice(h+1).join(`
`)),s.push(u)}return[s,o]}function buildRequest(t,e,r,n){var s,o;if(!e.url||!e.url.length)throw new CCError("no URL specified!");const a=new Headers(e.header,t.warnings),l=new Headers(e["proxy-header"],t.warnings,"--proxy-header");let u;const c=[],d=a.get("cookie");if(d){const x=parseCookiesStrict(d);x&&(u=x)}else if(d===void 0&&e.cookie){const x=[];for(const T of e.cookie)T.includes("=")?x.push(T):c.push(T);if(x.length){const T=joinWords(e.cookie,"; ");a.setIfMissing("Cookie",T);const w=parseCookies(T);w&&(u=w)}}let h=!1;if(e["user-agent"]&&a.setIfMissing("User-Agent",e["user-agent"]),e.referer){e.referer.includes(";auto")&&(h=!0);const x=e.referer.replace(/;auto$/,"");x.length&&a.setIfMissing("Referer",x)}if(e.range){let x=e.range.prepend("bytes=");x.includes("-")||(x=x.append("-")),a.setIfMissing("Range",x)}if(e["time-cond"]){let x=e["time-cond"],T="If-Modified-Since";switch(x.charAt(0)){case"+":x=x.slice(1);break;case"-":x=x.slice(1),T="If-Unmodified-Since";break;case"=":x=x.slice(1),T="Last-Modified";break}a.setIfMissing(T,x)}let f,m,g,y;e.data&&e.data.length&&(e.get?(e["url-query"]=e.data,delete e.data):[f,m,g]=buildData(e.data,r,n)),e["url-query"]&&([y]=buildData(e["url-query"],r,n));const E=[],b=e["upload-file"]||[],p=e.output||[];for(const[x,T]of e.url.entries())E.push(buildURL(t,e,T,b[x],p[x],r,n));e.get&&e.data&&delete e.data,(e["upload-file"]||[]).length>e.url.length&&warnf(t,["too-many-upload-files","Got more --upload-file/-T options than URLs: "+((s=e["upload-file"])===null||s===void 0?void 0:s.map(x=>JSON.stringify(x.toString())).join(", "))]),(e.output||[]).length>e.url.length&&warnf(t,["too-many-output-files","Got more --output/-o options than URLs: "+((o=e.output)===null||o===void 0?void 0:o.map(x=>JSON.stringify(x.toString())).join(", "))]);const _={urls:E,authType:pickAuth(e.authtype),proxyAuthType:pickAuth(e.proxyauthtype),headers:a,proxyHeaders:l};r&&(_.stdin=r),n&&(_.stdinFile=n),Object.prototype.hasOwnProperty.call(e,"globoff")&&(_.globoff=e.globoff),Object.prototype.hasOwnProperty.call(e,"disallow-username-in-url")&&(_.disallowUsernameInUrl=e["disallow-username-in-url"]),Object.prototype.hasOwnProperty.call(e,"path-as-is")&&(_.pathAsIs=e["path-as-is"]),h&&(_.refererAuto=!0),u&&(_.cookies=u),c.length&&(_.cookieFiles=c),e["cookie-jar"]&&(_.cookieJar=e["cookie-jar"]),Object.prototype.hasOwnProperty.call(e,"junk-session-cookies")&&(_.junkSessionCookies=e["junk-session-cookies"]),Object.prototype.hasOwnProperty.call(e,"compressed")&&(_.compressed=e.compressed),Object.prototype.hasOwnProperty.call(e,"tr-encoding")&&(_.transferEncoding=e["tr-encoding"]),e.include&&(_.include=!0),e.json?(a.setIfMissing("Content-Type","application/json"),a.setIfMissing("Accept","application/json")):e.data?a.setIfMissing("Content-Type","application/x-www-form-urlencoded"):e.form&&(_.multipartUploads=parseForm(e.form,t.warnings));const R=a.getContentType(),v=a.get("Content-Type");if(e.data&&!g&&m&&m.isString()&&!e.form&&!_.multipartUploads&&R==="multipart/form-data"&&v&&v.isString()){const x=parseBoundary(v.toString());if(x){const T=parseRawForm(m.toString(),x);if(T){const[w,A]=T;_.multipartUploads=w,A||(_.multipartUploadsDoesntRoundtrip=!0)}}}if(Object.prototype.hasOwnProperty.call(e,"form-escape")&&(_.formEscape=e["form-escape"]),e["aws-sigv4"]&&(_.authType="aws-sigv4",_.awsSigV4=e["aws-sigv4"]),_.authType==="bearer"&&e["oauth2-bearer"]){const x=e["oauth2-bearer"].prepend("Bearer ");a.setIfMissing("Authorization",x),_.oauth2Bearer=e["oauth2-bearer"]}if(e.delegation&&(_.delegation=e.delegation),e.krb&&(_.krb=e.krb),e["sasl-authzid"]&&(_.saslAuthzid=e["sasl-authzid"]),Object.prototype.hasOwnProperty.call(e,"sasl-ir")&&(_.saslIr=e["sasl-ir"]),e.negotiate&&(_.authType="negotiate"),e["service-name"]&&(_.serviceName=e["service-name"]),a.clearNulls(),e.data&&e.data.length&&(_.data=m,g&&(_.dataReadsFile=g),_.dataArray=f,_.isDataRaw=!1,_.isDataBinary=(f||[]).some(x=>!(x instanceof Word)&&x.filetype==="binary")),y&&(_.queryArray=y),Object.prototype.hasOwnProperty.call(e,"ipv4")&&(_.ipv4=e.ipv4),Object.prototype.hasOwnProperty.call(e,"ipv6")&&(_.ipv6=e.ipv6),e.proto&&(_.proto=e.proto),e["proto-redir"]&&(_.protoRedir=e["proto-redir"]),e["proto-default"]&&(_.protoDefault=e["proto-default"]),e["tcp-fastopen"]&&(_.tcpFastopen=e["tcp-fastopen"]),e["local-port"]){const[x,T]=e["local-port"].split("-",1);T&&T.toBool()?_.localPort=[x,T]:_.localPort=[e["local-port"],null]}if(Object.prototype.hasOwnProperty.call(e,"ignore-content-length")&&(_.ignoreContentLength=e["ignore-content-length"]),e.interface&&(_.interface=e.interface),e.ciphers&&(_.ciphers=e.ciphers),e.curves&&(_.curves=e.curves),e.insecure&&(_.insecure=!0),Object.prototype.hasOwnProperty.call(e,"cert-status")&&(_.certStatus=e["cert-status"]),e.cert)if(e.cert.startsWith("pkcs11:")||!e.cert.match(/[:\\]/))_.cert=[e.cert,null];else{let x=-1;try{x=e.cert.search(/(?<!\\)(?:\\\\)*:/)}catch{x=e.cert.search(/:/)}if(x===-1)_.cert=[e.cert,null];else{const T=e.cert.slice(0,x),w=e.cert.slice(x+1);w.toBool()?_.cert=[T,w]:_.cert=[T,null]}}if(e["cert-type"]){const x=e["cert-type"];_.certType=x,x.isString()&&!["PEM","DER","ENG","P12"].includes(x.toString().toUpperCase())&&warnf(t,["cert-type-unknown","not supported file type "+JSON.stringify(x.toString())+" for certificate"])}return e.key&&(_.key=e.key),e["key-type"]&&(_.keyType=e["key-type"]),e.pass&&(_.pass=e.pass),e.cacert&&(_.cacert=e.cacert),Object.prototype.hasOwnProperty.call(e,"ca-native")&&(_.caNative=e["ca-native"]),Object.prototype.hasOwnProperty.call(e,"ssl-allow-beast")&&(_.sslAllowBeast=e["ssl-allow-beast"]),e.capath&&(_.capath=e.capath),e.crlfile&&(_.crlfile=e.crlfile),e.pinnedpubkey&&(_.pinnedpubkey=e.pinnedpubkey),e["random-file"]&&(_.randomFile=e["random-file"]),e["egd-file"]&&(_.egdFile=e["egd-file"]),e.hsts&&(_.hsts=e.hsts),Object.prototype.hasOwnProperty.call(e,"alpn")&&(_.alpn=e.alpn),e.tlsVersion&&(_.tlsVersion=e.tlsVersion),e["tls-max"]&&(_.tlsMax=e["tls-max"]),e["tls13-ciphers"]&&(_.tls13Ciphers=e["tls13-ciphers"]),e.tlsauthtype&&(_.tlsauthtype=e.tlsauthtype),e.tlspassword&&(_.tlspassword=e.tlspassword),e.tlsuser&&(_.tlsuser=e.tlsuser),Object.prototype.hasOwnProperty.call(e,"ssl-allow-beast")&&(_.sslAllowBeast=e["ssl-allow-beast"]),Object.prototype.hasOwnProperty.call(e,"ssl-auto-client-cert")&&(_.sslAutoClientCert=e["ssl-auto-client-cert"]),Object.prototype.hasOwnProperty.call(e,"ssl-no-revoke")&&(_.sslNoRevoke=e["ssl-no-revoke"]),Object.prototype.hasOwnProperty.call(e,"ssl-reqd")&&(_.sslReqd=e["ssl-reqd"]),Object.prototype.hasOwnProperty.call(e,"ssl-revoke-best-effort")&&(_.sslRevokeBestEffort=e["ssl-revoke-best-effort"]),Object.prototype.hasOwnProperty.call(e,"ssl")&&(_.ssl=e.ssl),Object.prototype.hasOwnProperty.call(e,"sslv2")&&(_.sslv2=e.sslv2),Object.prototype.hasOwnProperty.call(e,"sslv3")&&(_.sslv3=e.sslv3),e["doh-url"]&&(_.dohUrl=e["doh-url"]),Object.prototype.hasOwnProperty.call(e,"doh-insecure")&&(_.dohInsecure=e["doh-insecure"]),Object.prototype.hasOwnProperty.call(e,"doh-cert-status")&&(_.dohCertStatus=e["doh-cert-status"]),e.proxy&&(_.proxy=e.proxy,_.proxyType&&_.proxyType!=="http2"&&delete _.proxyType,e["proxy-user"]&&(_.proxyAuth=e["proxy-user"])),Object.prototype.hasOwnProperty.call(e,"proxytunnel")&&(_.proxytunnel=e.proxytunnel),e.noproxy&&(_.noproxy=e.noproxy),e.preproxy&&(_.preproxy=e.preproxy),Object.prototype.hasOwnProperty.call(e,"proxy-anyauth")&&(_.proxyAnyauth=e["proxy-anyauth"]),Object.prototype.hasOwnProperty.call(e,"proxy-basic")&&(_.proxyBasic=e["proxy-basic"]),Object.prototype.hasOwnProperty.call(e,"proxy-digest")&&(_.proxyDigest=e["proxy-digest"]),Object.prototype.hasOwnProperty.call(e,"proxy-negotiate")&&(_.proxyNegotiate=e["proxy-negotiate"]),Object.prototype.hasOwnProperty.call(e,"proxy-ntlm")&&(_.proxyNtlm=e["proxy-ntlm"]),Object.prototype.hasOwnProperty.call(e,"proxy-ca-native")&&(_.proxyCaNative=e["proxy-ca-native"]),e["proxy-cacert"]&&(_.proxyCacert=e["proxy-cacert"]),e["proxy-capath"]&&(_.proxyCapath=e["proxy-capath"]),e["proxy-cert-type"]&&(_.proxyCertType=e["proxy-cert-type"]),e["proxy-cert"]&&(_.proxyCert=e["proxy-cert"]),e["proxy-ciphers"]&&(_.proxyCiphers=e["proxy-ciphers"]),e["proxy-crlfile"]&&(_.proxyCrlfile=e["proxy-crlfile"]),e["proxy-http2"]&&(_.proxyType="http2"),e["proxy1.0"]&&(_.proxy=e["proxy1.0"],_.proxyType="http1"),Object.prototype.hasOwnProperty.call(e,"proxy-insecure")&&(_.proxyInsecure=e["proxy-insecure"]),e["proxy-key"]&&(_.proxyKey=e["proxy-key"]),e["proxy-key-type"]&&(_.proxyKeyType=e["proxy-key-type"]),e["proxy-pass"]&&(_.proxyPass=e["proxy-pass"]),e["proxy-pinnedpubkey"]&&(_.proxyPinnedpubkey=e["proxy-pinnedpubkey"]),e["proxy-pinnedpubkey"]&&(_.proxyPinnedpubkey=e["proxy-pinnedpubkey"]),e["proxy-service-name"]&&(_.proxyServiceName=e["proxy-service-name"]),Object.prototype.hasOwnProperty.call(e,"proxy-ssl-allow-beast")&&(_.proxySslAllowBeast=e["proxy-ssl-allow-beast"]),Object.prototype.hasOwnProperty.call(e,"proxy-ssl-auto-client-cert")&&(_.proxySslAutoClientCert=e["proxy-ssl-auto-client-cert"]),e["proxy-tls13-ciphers"]&&(_.proxyTls13Ciphers=e["proxy-tls13-ciphers"]),e["proxy-tlsauthtype"]&&(_.proxyTlsauthtype=e["proxy-tlsauthtype"],_.proxyTlsauthtype.isString()&&!eq(_.proxyTlsauthtype,"SRP")&&warnf(t,["proxy-tlsauthtype","proxy-tlsauthtype is not supported: "+_.proxyTlsauthtype])),e["proxy-tlspassword"]&&(_.proxyTlspassword=e["proxy-tlspassword"]),e["proxy-tlsuser"]&&(_.proxyTlsuser=e["proxy-tlsuser"]),Object.prototype.hasOwnProperty.call(e,"proxy-tlsv1")&&(_.proxyTlsv1=e["proxy-tlsv1"]),e["proxy-user"]&&(_.proxyUser=e["proxy-user"]),Object.prototype.hasOwnProperty.call(e,"proxytunnel")&&(_.proxytunnel=e.proxytunnel),e.socks4&&(_.proxy=e.socks4,_.proxyType="socks4"),e.socks4a&&(_.proxy=e.socks4a,_.proxyType="socks4a"),e.socks5&&(_.proxy=e.socks5,_.proxyType="socks5"),e["socks5-hostname"]&&(_.proxy=e["socks5-hostname"],_.proxyType="socks5-hostname"),Object.prototype.hasOwnProperty.call(e,"socks5-basic")&&(_.socks5Basic=e["socks5-basic"]),Object.prototype.hasOwnProperty.call(e,"socks5-gssapi-nec")&&(_.socks5GssapiNec=e["socks5-gssapi-nec"]),e["socks5-gssapi-service"]&&(_.socks5GssapiService=e["socks5-gssapi-service"]),Object.prototype.hasOwnProperty.call(e,"socks5-gssapi")&&(_.socks5Gssapi=e["socks5-gssapi"]),e["haproxy-clientip"]&&(_.haproxyClientIp=e["haproxy-clientip"]),Object.prototype.hasOwnProperty.call(e,"haproxy-protocol")&&(_.haproxyProtocol=e["haproxy-protocol"]),e["max-time"]&&(_.timeout=e["max-time"],e["max-time"].isString()&&isNaN(parseFloat(e["max-time"].toString()))&&warnf(t,["max-time-not-number","option --max-time: expected a proper numerical parameter: "+JSON.stringify(e["max-time"].toString())])),e["connect-timeout"]&&(_.connectTimeout=e["connect-timeout"],e["connect-timeout"].isString()&&isNaN(parseFloat(e["connect-timeout"].toString()))&&warnf(t,["connect-timeout-not-number","option --connect-timeout: expected a proper numerical parameter: "+JSON.stringify(e["connect-timeout"].toString())])),e["expect100-timeout"]&&(_.expect100Timeout=e["expect100-timeout"],e["expect100-timeout"].isString()&&isNaN(parseFloat(e["expect100-timeout"].toString()))&&warnf(t,["expect100-timeout-not-number","option --expect100-timeout: expected a proper numerical parameter: "+JSON.stringify(e["expect100-timeout"].toString())])),e["happy-eyeballs-timeout-ms"]&&(_.happyEyeballsTimeoutMs=e["happy-eyeballs-timeout-ms"]),e["speed-limit"]&&(_.speedLimit=e["speed-limit"]),e["speed-time"]&&(_.speedTime=e["speed-time"]),e["limit-rate"]&&(_.limitRate=e["limit-rate"]),e["max-filesize"]&&(_.maxFilesize=e["max-filesize"]),Object.prototype.hasOwnProperty.call(e,"keepalive")&&(_.keepAlive=e.keepalive),e["keepalive-time"]&&(_.keepAliveTime=e["keepalive-time"]),e["alt-svc"]&&(_.altSvc=e["alt-svc"]),Object.prototype.hasOwnProperty.call(e,"location")&&(_.followRedirects=e.location),e["location-trusted"]&&(_.followRedirectsTrusted=e["location-trusted"]),e["max-redirs"]&&(_.maxRedirects=e["max-redirs"].trim(),e["max-redirs"].isString()&&!isInt(e["max-redirs"].toString())&&warnf(t,["max-redirs-not-int","option --max-redirs: expected a proper numerical parameter: "+JSON.stringify(e["max-redirs"].toString())])),Object.prototype.hasOwnProperty.call(e,"post301")&&(_.post301=e.post301),Object.prototype.hasOwnProperty.call(e,"post302")&&(_.post302=e.post302),Object.prototype.hasOwnProperty.call(e,"post303")&&(_.post303=e.post303),e.fail&&(_.fail=e.fail),e.retry&&(_.retry=e.retry),e["retry-max-time"]&&(_.retryMaxTime=e["retry-max-time"]),Object.prototype.hasOwnProperty.call(e,"ftp-skip-pasv-ip")&&(_.ftpSkipPasvIp=e["ftp-skip-pasv-ip"]),e.httpVersion&&((e.httpVersion==="2"||e.httpVersion==="2-prior-knowledge")&&(_.http2=!0),(e.httpVersion==="3"||e.httpVersion==="3-only")&&(_.http3=!0),_.httpVersion=e.httpVersion),Object.prototype.hasOwnProperty.call(e,"http0.9")&&(_.http0_9=e["http0.9"]),e.resolve&&e.resolve.length&&(_.resolve=e.resolve),e["connect-to"]&&e["connect-to"].length&&(_.connectTo=e["connect-to"]),e["unix-socket"]&&(_.unixSocket=e["unix-socket"]),e["abstract-unix-socket"]&&(_.abstractUnixSocket=e["abstract-unix-socket"]),e["netrc-optional"]?_.netrc="optional":e.netrc||e["netrc-file"]?_.netrc="required":e.netrc===!1&&(_.netrc="ignored"),e["netrc-file"]&&(_.netrcFile=e["netrc-file"]),e["use-ascii"]&&(_.useAscii=e["use-ascii"]),e["continue-at"]&&(_.continueAt=e["continue-at"]),Object.prototype.hasOwnProperty.call(e,"crlf")&&(_.crlf=e.crlf),Object.prototype.hasOwnProperty.call(e,"clobber")&&(_.clobber=e.clobber),Object.prototype.hasOwnProperty.call(e,"remote-time")&&(_.remoteTime=e["remote-time"]),Object.prototype.hasOwnProperty.call(t,"verbose")&&(_.verbose=t.verbose),Object.prototype.hasOwnProperty.call(t,"silent")&&(_.silent=t.silent),_}function buildRequests(t,e,r){return t.configs.length||warnf(t,["no-configs","got empty config object"]),t.configs.map(n=>buildRequest(t,n,e,r))}function getFirst(t,e,r){t.length>1&&e.push(["next","got "+t.length+" curl requests, only converting the first one"]);const n=t[0];return warnIfPartsIgnored(n,e,r),n}function clip(t,e=30){return t.length>e?t.slice(0,e-3)+"...":t}function findCommands(t,e){if(typeof t=="string")return tokenize(t,e);if(t.length===0)throw new CCError("no arguments provided");if(t[0].trim()!=="curl")throw new CCError('command should begin with "curl" but instead begins with '+JSON.stringify(clip(t[0])));return[[t.map(r=>new Word(r)),void 0,void 0]]}function parse$1(t,e,r=[]){let n=[];const s=findCommands(t,r);for(const[o,a,l]of s){const[u]=parseArgs(o,curlLongOpts,curlLongOptsShortened,curlShortOpts,e,r);n=n.concat(buildRequests(u,a,l))}return n}var Pattern_1,hasRequiredPattern;function requirePattern(){if(hasRequiredPattern)return Pattern_1;hasRequiredPattern=1;var t;return t=function(){e.prototype.regex=null,e.prototype.rawRegex=null,e.prototype.cleanedRegex=null,e.prototype.mapping=null;function e(r,n){var s,o,a,l,u,c,d,h,f;for(n==null&&(n=""),a="",u=r.length,c=null,o=0,l=0;l<u;){if(s=r.charAt(l),s==="\\")a+=r.slice(l,+(l+1)+1||9e9),l++;else if(s==="(")if(l<u-2)if(h=r.slice(l,+(l+2)+1||9e9),h==="(?:")l+=2,a+=h;else if(h==="(?<")for(o++,l+=2,d="";l+1<u;){if(f=r.charAt(l+1),f===">"){a+="(",l++,d.length>0&&(c==null&&(c={}),c[d]=o);break}else d+=f;l++}else a+=s,o++;else a+=s;else a+=s;l++}this.rawRegex=r,this.cleanedRegex=a,this.regex=new RegExp(this.cleanedRegex,"g"+n.replace("g","")),this.mapping=c}return e.prototype.exec=function(r){var n,s,o,a;if(this.regex.lastIndex=0,s=this.regex.exec(r),s==null)return null;if(this.mapping!=null){a=this.mapping;for(o in a)n=a[o],s[o]=s[n]}return s},e.prototype.test=function(r){return this.regex.lastIndex=0,this.regex.test(r)},e.prototype.replace=function(r,n){return this.regex.lastIndex=0,r.replace(this.regex,n)},e.prototype.replaceAll=function(r,n,s){var o;for(s==null&&(s=0),this.regex.lastIndex=0,o=0;this.regex.test(r)&&(s===0||o<s);)this.regex.lastIndex=0,r=r.replace(this.regex,n),o++;return[r,o]},e}(),Pattern_1=t,Pattern_1}function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Utils_1,hasRequiredUtils;function requireUtils(){if(hasRequiredUtils)return Utils_1;hasRequiredUtils=1;var t,e,r={}.hasOwnProperty;return t=requirePattern(),e=function(){function n(){}return n.REGEX_LEFT_TRIM_BY_CHAR={},n.REGEX_RIGHT_TRIM_BY_CHAR={},n.REGEX_SPACES=/\s+/g,n.REGEX_DIGITS=/^\d+$/,n.REGEX_OCTAL=/[^0-7]/gi,n.REGEX_HEXADECIMAL=/[^a-f0-9]/gi,n.PATTERN_DATE=new t("^(?<year>[0-9][0-9][0-9][0-9])-(?<month>[0-9][0-9]?)-(?<day>[0-9][0-9]?)(?:(?:[Tt]|[ 	]+)(?<hour>[0-9][0-9]?):(?<minute>[0-9][0-9]):(?<second>[0-9][0-9])(?:.(?<fraction>[0-9]*))?(?:[ 	]*(?<tz>Z|(?<tz_sign>[-+])(?<tz_hour>[0-9][0-9]?)(?::(?<tz_minute>[0-9][0-9]))?))?)?$","i"),n.LOCAL_TIMEZONE_OFFSET=new Date().getTimezoneOffset()*60*1e3,n.trim=function(s,o){var a,l;return o==null&&(o="\\s"),a=this.REGEX_LEFT_TRIM_BY_CHAR[o],a==null&&(this.REGEX_LEFT_TRIM_BY_CHAR[o]=a=new RegExp("^"+o+o+"*")),a.lastIndex=0,l=this.REGEX_RIGHT_TRIM_BY_CHAR[o],l==null&&(this.REGEX_RIGHT_TRIM_BY_CHAR[o]=l=new RegExp(o+""+o+"*$")),l.lastIndex=0,s.replace(a,"").replace(l,"")},n.ltrim=function(s,o){var a;return o==null&&(o="\\s"),a=this.REGEX_LEFT_TRIM_BY_CHAR[o],a==null&&(this.REGEX_LEFT_TRIM_BY_CHAR[o]=a=new RegExp("^"+o+o+"*")),a.lastIndex=0,s.replace(a,"")},n.rtrim=function(s,o){var a;return o==null&&(o="\\s"),a=this.REGEX_RIGHT_TRIM_BY_CHAR[o],a==null&&(this.REGEX_RIGHT_TRIM_BY_CHAR[o]=a=new RegExp(o+""+o+"*$")),a.lastIndex=0,s.replace(a,"")},n.isEmpty=function(s){return!s||s===""||s==="0"||s instanceof Array&&s.length===0||this.isEmptyObject(s)},n.isEmptyObject=function(s){var o;return s instanceof Object&&function(){var a;a=[];for(o in s)r.call(s,o)&&a.push(o);return a}().length===0},n.subStrCount=function(s,o,a,l){var u,c,d,h,f,m;for(u=0,s=""+s,o=""+o,a!=null&&(s=s.slice(a)),l!=null&&(s=s.slice(0,l)),h=s.length,m=o.length,c=d=0,f=h;0<=f?d<f:d>f;c=0<=f?++d:--d)o===s.slice(c,m)&&(u++,c+=m-1);return u},n.isDigits=function(s){return this.REGEX_DIGITS.lastIndex=0,this.REGEX_DIGITS.test(s)},n.octDec=function(s){return this.REGEX_OCTAL.lastIndex=0,parseInt((s+"").replace(this.REGEX_OCTAL,""),8)},n.hexDec=function(s){return this.REGEX_HEXADECIMAL.lastIndex=0,s=this.trim(s),(s+"").slice(0,2)==="0x"&&(s=(s+"").slice(2)),parseInt((s+"").replace(this.REGEX_HEXADECIMAL,""),16)},n.utf8chr=function(s){var o;return o=String.fromCharCode,128>(s%=2097152)?o(s):2048>s?o(192|s>>6)+o(128|s&63):65536>s?o(224|s>>12)+o(128|s>>6&63)+o(128|s&63):o(240|s>>18)+o(128|s>>12&63)+o(128|s>>6&63)+o(128|s&63)},n.parseBoolean=function(s,o){var a;return o==null&&(o=!0),typeof s=="string"?(a=s.toLowerCase(),!(!o&&a==="no"||a==="0"||a==="false"||a==="")):!!s},n.isNumeric=function(s){return this.REGEX_SPACES.lastIndex=0,typeof s=="number"||typeof s=="string"&&!isNaN(s)&&s.replace(this.REGEX_SPACES,"")!==""},n.stringToDate=function(s){var o,a,l,u,c,d,h,f,m,g,y,E;if(!s?.length||(c=this.PATTERN_DATE.exec(s),!c))return null;if(E=parseInt(c.year,10),h=parseInt(c.month,10)-1,a=parseInt(c.day,10),c.hour==null)return o=new Date(Date.UTC(E,h,a)),o;if(u=parseInt(c.hour,10),d=parseInt(c.minute,10),f=parseInt(c.second,10),c.fraction!=null){for(l=c.fraction.slice(0,3);l.length<3;)l+="0";l=parseInt(l,10)}else l=0;return c.tz!=null&&(m=parseInt(c.tz_hour,10),c.tz_minute!=null?g=parseInt(c.tz_minute,10):g=0,y=(m*60+g)*6e4,c.tz_sign==="-"&&(y*=-1)),o=new Date(Date.UTC(E,h,a,u,d,f,l)),y&&o.setTime(o.getTime()-y),o},n.strRepeat=function(s,o){var a,l;for(l="",a=0;a<o;)l+=s,a++;return l},n.getStringFromFile=function(s,o){var a,l,u,c,d,h,f,m;if(o==null&&(o=null),m=null,typeof window<"u"&&window!==null){if(window.XMLHttpRequest)m=new XMLHttpRequest;else if(window.ActiveXObject)for(h=["Msxml2.XMLHTTP.6.0","Msxml2.XMLHTTP.3.0","Msxml2.XMLHTTP","Microsoft.XMLHTTP"],u=0,c=h.length;u<c;u++){d=h[u];try{m=new ActiveXObject(d)}catch{}}}return m!=null?o!=null?(m.onreadystatechange=function(){if(m.readyState===4)return m.status===200||m.status===0?o(m.responseText):o(null)},m.open("GET",s,!0),m.send(null)):(m.open("GET",s,!1),m.send(null),m.status===200||m.status===0?m.responseText:null):(f=commonjsRequire,l=f("fs"),o!=null?l.readFile(s,function(g,y){return o(g?null:String(y))}):(a=l.readFileSync(s),a!=null?String(a):null))},n}(),Utils_1=e,Utils_1}var Unescaper_1,hasRequiredUnescaper;function requireUnescaper(){if(hasRequiredUnescaper)return Unescaper_1;hasRequiredUnescaper=1;var t,e,r;return r=requireUtils(),t=requirePattern(),e=function(){function n(){}return n.PATTERN_ESCAPED_CHARACTER=new t('\\\\([0abt	nvfre "\\/\\\\N_LP]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})'),n.unescapeSingleQuotedString=function(s){return s.replace(/\'\'/g,"'")},n.unescapeDoubleQuotedString=function(s){return this._unescapeCallback==null&&(this._unescapeCallback=function(o){return function(a){return o.unescapeCharacter(a)}}(this)),this.PATTERN_ESCAPED_CHARACTER.replace(s,this._unescapeCallback)},n.unescapeCharacter=function(s){var o;switch(o=String.fromCharCode,s.charAt(1)){case"0":return o(0);case"a":return o(7);case"b":return o(8);case"t":return"	";case"	":return"	";case"n":return`
`;case"v":return o(11);case"f":return o(12);case"r":return o(13);case"e":return o(27);case" ":return" ";case'"':return'"';case"/":return"/";case"\\":return"\\";case"N":return o(133);case"_":return o(160);case"L":return o(8232);case"P":return o(8233);case"x":return r.utf8chr(r.hexDec(s.substr(2,2)));case"u":return r.utf8chr(r.hexDec(s.substr(2,4)));case"U":return r.utf8chr(r.hexDec(s.substr(2,8)));default:return""}},n}(),Unescaper_1=e,Unescaper_1}var Escaper_1,hasRequiredEscaper;function requireEscaper(){if(hasRequiredEscaper)return Escaper_1;hasRequiredEscaper=1;var t,e;return e=requirePattern(),t=function(){var r;function n(){}return n.LIST_ESCAPEES=["\\","\\\\",'\\"','"',"\0","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","","","","","","","","","","","","","","\x1B","","","","",(r=String.fromCharCode)(133),r(160),r(8232),r(8233)],n.LIST_ESCAPED=["\\\\",'\\"','\\"','\\"',"\\0","\\x01","\\x02","\\x03","\\x04","\\x05","\\x06","\\a","\\b","\\t","\\n","\\v","\\f","\\r","\\x0e","\\x0f","\\x10","\\x11","\\x12","\\x13","\\x14","\\x15","\\x16","\\x17","\\x18","\\x19","\\x1a","\\e","\\x1c","\\x1d","\\x1e","\\x1f","\\N","\\_","\\L","\\P"],n.MAPPING_ESCAPEES_TO_ESCAPED=function(){var s,o,a,l;for(a={},s=o=0,l=n.LIST_ESCAPEES.length;0<=l?o<l:o>l;s=0<=l?++o:--o)a[n.LIST_ESCAPEES[s]]=n.LIST_ESCAPED[s];return a}(),n.PATTERN_CHARACTERS_TO_ESCAPE=new e("[\\x00-\\x1f]|Â|Â |â¨|â©"),n.PATTERN_MAPPING_ESCAPEES=new e(n.LIST_ESCAPEES.join("|").split("\\").join("\\\\")),n.PATTERN_SINGLE_QUOTING=new e("[\\s'\":{}[\\],&*#?]|^[-?|<>=!%@`]"),n.requiresDoubleQuoting=function(s){return this.PATTERN_CHARACTERS_TO_ESCAPE.test(s)},n.escapeWithDoubleQuotes=function(s){var o;return o=this.PATTERN_MAPPING_ESCAPEES.replace(s,function(a){return function(l){return a.MAPPING_ESCAPEES_TO_ESCAPED[l]}}(this)),'"'+o+'"'},n.requiresSingleQuoting=function(s){return this.PATTERN_SINGLE_QUOTING.test(s)},n.escapeWithSingleQuotes=function(s){return"'"+s.replace(/'/g,"''")+"'"},n}(),Escaper_1=t,Escaper_1}var ParseException_1,hasRequiredParseException;function requireParseException(){if(hasRequiredParseException)return ParseException_1;hasRequiredParseException=1;var t,e=function(n,s){for(var o in s)r.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},r={}.hasOwnProperty;return t=function(n){e(s,n);function s(o,a,l){this.message=o,this.parsedLine=a,this.snippet=l}return s.prototype.toString=function(){return this.parsedLine!=null&&this.snippet!=null?"<ParseException> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')":"<ParseException> "+this.message},s}(Error),ParseException_1=t,ParseException_1}var ParseMore_1,hasRequiredParseMore;function requireParseMore(){if(hasRequiredParseMore)return ParseMore_1;hasRequiredParseMore=1;var t,e=function(n,s){for(var o in s)r.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},r={}.hasOwnProperty;return t=function(n){e(s,n);function s(o,a,l){this.message=o,this.parsedLine=a,this.snippet=l}return s.prototype.toString=function(){return this.parsedLine!=null&&this.snippet!=null?"<ParseMore> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')":"<ParseMore> "+this.message},s}(Error),ParseMore_1=t,ParseMore_1}var DumpException_1,hasRequiredDumpException;function requireDumpException(){if(hasRequiredDumpException)return DumpException_1;hasRequiredDumpException=1;var t,e=function(n,s){for(var o in s)r.call(s,o)&&(n[o]=s[o]);function a(){this.constructor=n}return a.prototype=s.prototype,n.prototype=new a,n.__super__=s.prototype,n},r={}.hasOwnProperty;return t=function(n){e(s,n);function s(o,a,l){this.message=o,this.parsedLine=a,this.snippet=l}return s.prototype.toString=function(){return this.parsedLine!=null&&this.snippet!=null?"<DumpException> "+this.message+" (line "+this.parsedLine+": '"+this.snippet+"')":"<DumpException> "+this.message},s}(Error),DumpException_1=t,DumpException_1}var Inline_1,hasRequiredInline;function requireInline(){if(hasRequiredInline)return Inline_1;hasRequiredInline=1;var t,e,r,n,s,o,a,l=[].indexOf||function(u){for(var c=0,d=this.length;c<d;c++)if(c in this&&this[c]===u)return c;return-1};return s=requirePattern(),o=requireUnescaper(),t=requireEscaper(),a=requireUtils(),r=requireParseException(),n=requireParseMore(),requireDumpException(),e=function(){function u(){}return u.REGEX_QUOTED_STRING=`(?:"(?:[^"\\\\]*(?:\\\\.[^"\\\\]*)*)"|'(?:[^']*(?:''[^']*)*)')`,u.PATTERN_TRAILING_COMMENTS=new s("^\\s*#.*$"),u.PATTERN_QUOTED_SCALAR=new s("^"+u.REGEX_QUOTED_STRING),u.PATTERN_THOUSAND_NUMERIC_SCALAR=new s("^(-|\\+)?[0-9,]+(\\.[0-9]+)?$"),u.PATTERN_SCALAR_BY_DELIMITERS={},u.settings={},u.configure=function(c,d){c==null&&(c=null),d==null&&(d=null),this.settings.exceptionOnInvalidType=c,this.settings.objectDecoder=d},u.parse=function(c,d,h){var f,m;if(d==null&&(d=!1),h==null&&(h=null),this.settings.exceptionOnInvalidType=d,this.settings.objectDecoder=h,c==null||(c=a.trim(c),c.length===0))return"";switch(f={exceptionOnInvalidType:d,objectDecoder:h,i:0},c.charAt(0)){case"[":m=this.parseSequence(c,f),++f.i;break;case"{":m=this.parseMapping(c,f),++f.i;break;default:m=this.parseScalar(c,null,['"',"'"],f)}if(this.PATTERN_TRAILING_COMMENTS.replace(c.slice(f.i),"")!=="")throw new r('Unexpected characters near "'+c.slice(f.i)+'".');return m},u.dump=function(c,d,h){var f,m,g;return h==null&&(h=null),c==null?"null":(g=typeof c,g==="object"?c instanceof Date?c.toISOString():h!=null&&(m=h(c),typeof m=="string"||m!=null)?m:this.dumpObject(c):g==="boolean"?c?"true":"false":a.isDigits(c)?g==="string"?"'"+c+"'":String(parseInt(c)):a.isNumeric(c)?g==="string"?"'"+c+"'":String(parseFloat(c)):g==="number"?c===1/0?".Inf":c===-1/0?"-.Inf":isNaN(c)?".NaN":c:t.requiresDoubleQuoting(c)?t.escapeWithDoubleQuotes(c):t.requiresSingleQuoting(c)?t.escapeWithSingleQuotes(c):c===""?'""':a.PATTERN_DATE.test(c)||(f=c.toLowerCase())==="null"||f==="~"||f==="true"||f==="false"?"'"+c+"'":c)},u.dumpObject=function(c,d,h){var f,m,g,y,E;if(c instanceof Array){for(y=[],f=0,g=c.length;f<g;f++)E=c[f],y.push(this.dump(E));return"["+y.join(", ")+"]"}else{y=[];for(m in c)E=c[m],y.push(this.dump(m)+": "+this.dump(E));return"{"+y.join(", ")+"}"}},u.parseScalar=function(c,d,h,f,m){var g,y,E,b,p,_,R,v,x;if(d==null&&(d=null),h==null&&(h=['"',"'"]),f==null&&(f=null),m==null&&(m=!0),f==null&&(f={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}),g=f.i,_=c.charAt(g),l.call(h,_)>=0){if(b=this.parseQuotedScalar(c,f),g=f.i,d!=null&&(x=a.ltrim(c.slice(g)," "),R=x.charAt(0),!(l.call(d,R)>=0)))throw new r("Unexpected characters ("+c.slice(g)+").")}else{if(!d)b=c.slice(g),g+=b.length,v=b.indexOf(" #"),v!==-1&&(b=a.rtrim(b.slice(0,v)));else if(y=d.join("|"),p=this.PATTERN_SCALAR_BY_DELIMITERS[y],p==null&&(p=new s("^(.+?)("+y+")"),this.PATTERN_SCALAR_BY_DELIMITERS[y]=p),E=p.exec(c.slice(g)))b=E[1],g+=b.length;else throw new r("Malformed inline YAML string ("+c+").");m&&(b=this.evaluateScalar(b,f))}return f.i=g,b},u.parseQuotedScalar=function(c,d){var h,f,m;if(h=d.i,!(f=this.PATTERN_QUOTED_SCALAR.exec(c.slice(h))))throw new n("Malformed inline YAML string ("+c.slice(h)+").");return m=f[0].substr(1,f[0].length-2),c.charAt(h)==='"'?m=o.unescapeDoubleQuotedString(m):m=o.unescapeSingleQuotedString(m),h+=f[0].length,d.i=h,m},u.parseSequence=function(c,d){var h,f,m,g,y,E;for(g=[],m=c.length,h=d.i,h+=1;h<m;){switch(d.i=h,c.charAt(h)){case"[":g.push(this.parseSequence(c,d)),h=d.i;break;case"{":g.push(this.parseMapping(c,d)),h=d.i;break;case"]":return g;case",":case" ":case`
`:break;default:if(f=(y=c.charAt(h))==='"'||y==="'",E=this.parseScalar(c,[",","]"],['"',"'"],d),h=d.i,!f&&typeof E=="string"&&(E.indexOf(": ")!==-1||E.indexOf(`:
`)!==-1))try{E=this.parseMapping("{"+E+"}")}catch{}g.push(E),--h}++h}throw new n("Malformed inline YAML string "+c)},u.parseMapping=function(c,d){var h,f,m,g,y,E,b;for(y={},g=c.length,f=d.i,f+=1,E=!1;f<g;){switch(d.i=f,c.charAt(f)){case" ":case",":case`
`:++f,d.i=f,E=!0;break;case"}":return y}if(E){E=!1;continue}for(m=this.parseScalar(c,[":"," ",`
`],['"',"'"],d,!1),f=d.i,h=!1;f<g;){switch(d.i=f,c.charAt(f)){case"[":b=this.parseSequence(c,d),f=d.i,y[m]===void 0&&(y[m]=b),h=!0;break;case"{":b=this.parseMapping(c,d),f=d.i,y[m]===void 0&&(y[m]=b),h=!0;break;case":":case" ":case`
`:break;default:b=this.parseScalar(c,[",","}"],['"',"'"],d),f=d.i,y[m]===void 0&&(y[m]=b),h=!0,--f}if(++f,h)break}}throw new n("Malformed inline YAML string "+c)},u.evaluateScalar=function(c,d){var h,f,m,g,y,E,b,p,_,R,v;switch(c=a.trim(c),_=c.toLowerCase(),_){case"null":case"":case"~":return null;case"true":return!0;case"false":return!1;case".inf":return 1/0;case".nan":return NaN;case"-.inf":return 1/0;default:switch(g=_.charAt(0),g){case"!":switch(y=c.indexOf(" "),y===-1?E=_:E=_.slice(0,y),E){case"!":return y!==-1?parseInt(this.parseScalar(c.slice(2))):null;case"!str":return a.ltrim(c.slice(4));case"!!str":return a.ltrim(c.slice(5));case"!!int":return parseInt(this.parseScalar(c.slice(5)));case"!!bool":return a.parseBoolean(this.parseScalar(c.slice(6)),!1);case"!!float":return parseFloat(this.parseScalar(c.slice(7)));case"!!timestamp":return a.stringToDate(a.ltrim(c.slice(11)));default:if(d==null&&(d={exceptionOnInvalidType:this.settings.exceptionOnInvalidType,objectDecoder:this.settings.objectDecoder,i:0}),b=d.objectDecoder,m=d.exceptionOnInvalidType,b)return v=a.rtrim(c),y=v.indexOf(" "),y===-1?b(v,null):(R=a.ltrim(v.slice(y+1)),R.length>0||(R=null),b(v.slice(0,y),R));if(m)throw new r("Custom object support when parsing a YAML file has been disabled.");return null}case"0":return c.slice(0,2)==="0x"?a.hexDec(c):a.isDigits(c)?a.octDec(c):a.isNumeric(c)?parseFloat(c):c;case"+":return a.isDigits(c)?(p=c,h=parseInt(p),p===String(h)?h:p):a.isNumeric(c)?parseFloat(c):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(c)?parseFloat(c.replace(",","")):c;case"-":return a.isDigits(c.slice(1))?c.charAt(1)==="0"?-a.octDec(c.slice(1)):(p=c.slice(1),h=parseInt(p),p===String(h)?-h:-p):a.isNumeric(c)?parseFloat(c):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(c)?parseFloat(c.replace(",","")):c;default:return(f=a.stringToDate(c))?f:a.isNumeric(c)?parseFloat(c):this.PATTERN_THOUSAND_NUMERIC_SCALAR.test(c)?parseFloat(c.replace(",","")):c}}},u}(),Inline_1=e,Inline_1}var Parser_1,hasRequiredParser;function requireParser(){if(hasRequiredParser)return Parser_1;hasRequiredParser=1;var t,e,r,n,s,o;return t=requireInline(),s=requirePattern(),o=requireUtils(),e=requireParseException(),r=requireParseMore(),n=function(){a.prototype.PATTERN_FOLDED_SCALAR_ALL=new s("^(?:(?<type>![^\\|>]*)\\s+)?(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$"),a.prototype.PATTERN_FOLDED_SCALAR_END=new s("(?<separator>\\||>)(?<modifiers>\\+|\\-|\\d+|\\+\\d+|\\-\\d+|\\d+\\+|\\d+\\-)?(?<comments> +#.*)?$"),a.prototype.PATTERN_SEQUENCE_ITEM=new s("^\\-((?<leadspaces>\\s+)(?<value>.+?))?\\s*$"),a.prototype.PATTERN_ANCHOR_VALUE=new s("^&(?<ref>[^ ]+) *(?<value>.*)"),a.prototype.PATTERN_COMPACT_NOTATION=new s("^(?<key>"+t.REGEX_QUOTED_STRING+`|[^ '"\\{\\[].*?) *\\:(\\s+(?<value>.+?))?\\s*$`),a.prototype.PATTERN_MAPPING_ITEM=new s("^(?<key>"+t.REGEX_QUOTED_STRING+`|[^ '"\\[\\{].*?) *\\:(\\s+(?<value>.+?))?\\s*$`),a.prototype.PATTERN_DECIMAL=new s("\\d+"),a.prototype.PATTERN_INDENT_SPACES=new s("^ +"),a.prototype.PATTERN_TRAILING_LINES=new s(`(
*)$`),a.prototype.PATTERN_YAML_HEADER=new s(`^\\%YAML[: ][\\d\\.]+.*
`,"m"),a.prototype.PATTERN_LEADING_COMMENTS=new s(`^(\\#.*?
)+`,"m"),a.prototype.PATTERN_DOCUMENT_MARKER_START=new s(`^\\-\\-\\-.*?
`,"m"),a.prototype.PATTERN_DOCUMENT_MARKER_END=new s("^\\.\\.\\.\\s*$","m"),a.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION={},a.prototype.CONTEXT_NONE=0,a.prototype.CONTEXT_SEQUENCE=1,a.prototype.CONTEXT_MAPPING=2;function a(l){this.offset=l??0,this.lines=[],this.currentLineNb=-1,this.currentLine="",this.refs={}}return a.prototype.parse=function(l,u,c){var d,h,f,m,g,y,E,b,p,_,R,v,x,T,w,A,U,$,L,O,S,N,P,k,H,V,F,I,B,Y,Z,D,j,G,W,M;for(u==null&&(u=!1),c==null&&(c=null),this.currentLineNb=-1,this.currentLine="",this.lines=this.cleanup(l).split(`
`),y=null,g=this.CONTEXT_NONE,h=!1;this.moveToNextLine();)if(!this.isCurrentLineEmpty()){if(this.currentLine[0]==="	")throw new e("A YAML file cannot contain tabs as indentation.",this.getRealCurrentLineNb()+1,this.currentLine);if(R=k=!1,M=this.PATTERN_SEQUENCE_ITEM.exec(this.currentLine)){if(this.CONTEXT_MAPPING===g)throw new e("You cannot define a sequence item when in a mapping");g=this.CONTEXT_SEQUENCE,y==null&&(y=[]),M.value!=null&&(P=this.PATTERN_ANCHOR_VALUE.exec(M.value))&&(R=P.ref,M.value=P.value),M.value==null||o.trim(M.value," ")===""||o.ltrim(M.value," ").indexOf("#")===0?this.currentLineNb<this.lines.length-1&&!this.isNextLineUnIndentedCollection()?(m=this.getRealCurrentLineNb()+1,B=new a(m),B.refs=this.refs,y.push(B.parse(this.getNextEmbedBlock(null,!0),u,c))):y.push(null):(Y=M.leadspaces)!=null&&Y.length&&(P=this.PATTERN_COMPACT_NOTATION.exec(M.value))?(m=this.getRealCurrentLineNb(),B=new a(m),B.refs=this.refs,f=M.value,_=this.getCurrentLineIndentation(),this.isNextLineIndented(!1)&&(f+=`
`+this.getNextEmbedBlock(_+M.leadspaces.length+1,!0)),y.push(B.parse(f,u,c))):y.push(this.parseValue(M.value,u,c))}else if((M=this.PATTERN_MAPPING_ITEM.exec(this.currentLine))&&M.key.indexOf(" #")===-1){if(this.CONTEXT_SEQUENCE===g)throw new e("You cannot define a mapping item when in a sequence");g=this.CONTEXT_MAPPING,y==null&&(y={}),t.configure(u,c);try{T=t.parseScalar(M.key)}catch(X){throw E=X,E.parsedLine=this.getRealCurrentLineNb()+1,E.snippet=this.currentLine,E}if(T==="<<")if(k=!0,h=!0,((Z=M.value)!=null?Z.indexOf("*"):void 0)===0){if(j=M.value.slice(1),this.refs[j]==null)throw new e('Reference "'+j+'" does not exist.',this.getRealCurrentLineNb()+1,this.currentLine);if(G=this.refs[j],typeof G!="object")throw new e("YAML merge keys used with a scalar value instead of an object.",this.getRealCurrentLineNb()+1,this.currentLine);if(G instanceof Array)for(p=v=0,U=G.length;v<U;p=++v)l=G[p],y[V=String(p)]==null&&(y[V]=l);else for(T in G)l=G[T],y[T]==null&&(y[T]=l)}else{if(M.value!=null&&M.value!==""?l=M.value:l=this.getNextEmbedBlock(),m=this.getRealCurrentLineNb()+1,B=new a(m),B.refs=this.refs,F=B.parse(l,u),typeof F!="object")throw new e("YAML merge keys used with a scalar value instead of an object.",this.getRealCurrentLineNb()+1,this.currentLine);if(F instanceof Array)for(w=0,$=F.length;w<$;w++){if(I=F[w],typeof I!="object")throw new e("Merge items must be objects.",this.getRealCurrentLineNb()+1,I);if(I instanceof Array)for(p=N=0,L=I.length;N<L;p=++N)l=I[p],x=String(p),y.hasOwnProperty(x)||(y[x]=l);else for(T in I)l=I[T],y.hasOwnProperty(T)||(y[T]=l)}else for(T in F)l=F[T],y.hasOwnProperty(T)||(y[T]=l)}else M.value!=null&&(P=this.PATTERN_ANCHOR_VALUE.exec(M.value))&&(R=P.ref,M.value=P.value);k||(M.value==null||o.trim(M.value," ")===""||o.ltrim(M.value," ").indexOf("#")===0?!this.isNextLineIndented()&&!this.isNextLineUnIndentedCollection()?(h||y[T]===void 0)&&(y[T]=null):(m=this.getRealCurrentLineNb()+1,B=new a(m),B.refs=this.refs,W=B.parse(this.getNextEmbedBlock(),u,c),(h||y[T]===void 0)&&(y[T]=W)):(W=this.parseValue(M.value,u,c),(h||y[T]===void 0)&&(y[T]=W)))}else{if(S=this.lines.length,S===1||S===2&&o.isEmpty(this.lines[1])){try{l=t.parse(this.lines[0],u,c)}catch(X){throw E=X,E.parsedLine=this.getRealCurrentLineNb()+1,E.snippet=this.currentLine,E}if(typeof l=="object"){if(l instanceof Array)b=l[0];else for(T in l){b=l[T];break}if(typeof b=="string"&&b.indexOf("*")===0){for(y=[],H=0,O=l.length;H<O;H++)d=l[H],y.push(this.refs[d.slice(1)]);l=y}}return l}else if((D=o.ltrim(l).charAt(0))==="["||D==="{")try{return t.parse(l,u,c)}catch(X){throw E=X,E.parsedLine=this.getRealCurrentLineNb()+1,E.snippet=this.currentLine,E}throw new e("Unable to parse.",this.getRealCurrentLineNb()+1,this.currentLine)}if(R)if(y instanceof Array)this.refs[R]=y[y.length-1];else{A=null;for(T in y)A=T;this.refs[R]=y[A]}}return o.isEmpty(y)?null:y},a.prototype.getRealCurrentLineNb=function(){return this.currentLineNb+this.offset},a.prototype.getCurrentLineIndentation=function(){return this.currentLine.length-o.ltrim(this.currentLine," ").length},a.prototype.getNextEmbedBlock=function(l,u){var c,d,h,f,m,g,y;if(l==null&&(l=null),u==null&&(u=!1),this.moveToNextLine(),l==null){if(f=this.getCurrentLineIndentation(),y=this.isStringUnIndentedCollectionItem(this.currentLine),!this.isCurrentLineEmpty()&&f===0&&!y)throw new e("Indentation problem.",this.getRealCurrentLineNb()+1,this.currentLine)}else f=l;for(c=[this.currentLine.slice(f)],u||(h=this.isStringUnIndentedCollectionItem(this.currentLine)),g=this.PATTERN_FOLDED_SCALAR_END,m=!g.test(this.currentLine);this.moveToNextLine();)if(d=this.getCurrentLineIndentation(),d===f&&(m=!g.test(this.currentLine)),!(m&&this.isCurrentLineComment())){if(this.isCurrentLineBlank()){c.push(this.currentLine.slice(f));continue}if(h&&!this.isStringUnIndentedCollectionItem(this.currentLine)&&d===f){this.moveToPreviousLine();break}if(d>=f)c.push(this.currentLine.slice(f));else if(o.ltrim(this.currentLine).charAt(0)!=="#")if(d===0){this.moveToPreviousLine();break}else throw new e("Indentation problem.",this.getRealCurrentLineNb()+1,this.currentLine)}return c.join(`
`)},a.prototype.moveToNextLine=function(){return this.currentLineNb>=this.lines.length-1?!1:(this.currentLine=this.lines[++this.currentLineNb],!0)},a.prototype.moveToPreviousLine=function(){this.currentLine=this.lines[--this.currentLineNb]},a.prototype.parseValue=function(l,u,c){var d,h,f,m,g,y,E,b;if(l.indexOf("*")===0){if(g=l.indexOf("#"),g!==-1?l=l.substr(1,g-2):l=l.slice(1),this.refs[l]===void 0)throw new e('Reference "'+l+'" does not exist.',this.currentLine);return this.refs[l]}if(f=this.PATTERN_FOLDED_SCALAR_ALL.exec(l))return m=(y=f.modifiers)!=null?y:"",h=Math.abs(parseInt(m)),isNaN(h)&&(h=0),b=this.parseFoldedScalar(f.separator,this.PATTERN_DECIMAL.replace(m,""),h),f.type!=null?(t.configure(u,c),t.parseScalar(f.type+" "+b)):b;if((E=l.charAt(0))==="["||E==="{"||E==='"'||E==="'")for(;;)try{return t.parse(l,u,c)}catch(p){if(d=p,d instanceof r&&this.moveToNextLine())l+=`
`+o.trim(this.currentLine," ");else throw d.parsedLine=this.getRealCurrentLineNb()+1,d.snippet=this.currentLine,d}else return this.isNextLineIndented()&&(l+=`
`+this.getNextEmbedBlock()),t.parse(l,u,c)},a.prototype.parseFoldedScalar=function(l,u,c){var d,h,f,m,g,y,E,b,p,_;if(u==null&&(u=""),c==null&&(c=0),E=this.moveToNextLine(),!E)return"";for(d=this.isCurrentLineBlank(),_="";E&&d;)(E=this.moveToNextLine())&&(_+=`
`,d=this.isCurrentLineBlank());if(c===0&&(g=this.PATTERN_INDENT_SPACES.exec(this.currentLine))&&(c=g[0].length),c>0)for(b=this.PATTERN_FOLDED_SCALAR_BY_INDENTATION[c],b==null&&(b=new s("^ {"+c+"}(.*)$"),a.prototype.PATTERN_FOLDED_SCALAR_BY_INDENTATION[c]=b);E&&(d||(g=b.exec(this.currentLine)));)d?_+=this.currentLine.slice(c):_+=g[1],(E=this.moveToNextLine())&&(_+=`
`,d=this.isCurrentLineBlank());else E&&(_+=`
`);if(E&&this.moveToPreviousLine(),l===">"){for(y="",p=_.split(`
`),h=0,f=p.length;h<f;h++)m=p[h],m.length===0||m.charAt(0)===" "?y=o.rtrim(y," ")+m+`
`:y+=m+" ";_=y}return u!=="+"&&(_=o.rtrim(_)),u===""?_=this.PATTERN_TRAILING_LINES.replace(_,`
`):u==="-"&&(_=this.PATTERN_TRAILING_LINES.replace(_,"")),_},a.prototype.isNextLineIndented=function(l){var u,c,d;if(l==null&&(l=!0),c=this.getCurrentLineIndentation(),u=!this.moveToNextLine(),l)for(;!u&&this.isCurrentLineEmpty();)u=!this.moveToNextLine();else for(;!u&&this.isCurrentLineBlank();)u=!this.moveToNextLine();return u?!1:(d=!1,this.getCurrentLineIndentation()>c&&(d=!0),this.moveToPreviousLine(),d)},a.prototype.isCurrentLineEmpty=function(){var l;return l=o.trim(this.currentLine," "),l.length===0||l.charAt(0)==="#"},a.prototype.isCurrentLineBlank=function(){return o.trim(this.currentLine," ")===""},a.prototype.isCurrentLineComment=function(){var l;return l=o.ltrim(this.currentLine," "),l.charAt(0)==="#"},a.prototype.cleanup=function(l){var u,c,d,h,f,m,g,y,E,b,p,_,R,v;for(l.indexOf("\r")!==-1&&(l=l.split(`\r
`).join(`
`).split("\r").join(`
`)),u=0,b=this.PATTERN_YAML_HEADER.replaceAll(l,""),l=b[0],u=b[1],this.offset+=u,p=this.PATTERN_LEADING_COMMENTS.replaceAll(l,"",1),v=p[0],u=p[1],u===1&&(this.offset+=o.subStrCount(l,`
`)-o.subStrCount(v,`
`),l=v),_=this.PATTERN_DOCUMENT_MARKER_START.replaceAll(l,"",1),v=_[0],u=_[1],u===1&&(this.offset+=o.subStrCount(l,`
`)-o.subStrCount(v,`
`),l=v,l=this.PATTERN_DOCUMENT_MARKER_END.replace(l,"")),E=l.split(`
`),R=-1,h=0,m=E.length;h<m;h++)y=E[h],o.trim(y," ").length!==0&&(d=y.length-o.ltrim(y).length,(R===-1||d<R)&&(R=d));if(R>0){for(c=f=0,g=E.length;f<g;c=++f)y=E[c],E[c]=y.slice(R);l=E.join(`
`)}return l},a.prototype.isNextLineUnIndentedCollection=function(l){var u,c;for(l==null&&(l=null),l==null&&(l=this.getCurrentLineIndentation()),u=this.moveToNextLine();u&&this.isCurrentLineEmpty();)u=this.moveToNextLine();return u===!1?!1:(c=!1,this.getCurrentLineIndentation()===l&&this.isStringUnIndentedCollectionItem(this.currentLine)&&(c=!0),this.moveToPreviousLine(),c)},a.prototype.isStringUnIndentedCollectionItem=function(){return this.currentLine==="-"||this.currentLine.slice(0,2)==="- "},a}(),Parser_1=n,Parser_1}var Dumper_1,hasRequiredDumper;function requireDumper(){if(hasRequiredDumper)return Dumper_1;hasRequiredDumper=1;var t,e,r;return r=requireUtils(),e=requireInline(),t=function(){function n(){}return n.indentation=4,n.prototype.dump=function(s,o,a,l,u){var c,d,h,f,m,g,y;if(o==null&&(o=0),a==null&&(a=0),l==null&&(l=!1),u==null&&(u=null),f="",m=a?r.strRepeat(" ",a):"",o<=0||typeof s!="object"||s instanceof Date||r.isEmpty(s))f+=m+e.dump(s,l,u);else if(s instanceof Array)for(c=0,h=s.length;c<h;c++)g=s[c],y=o-1<=0||typeof g!="object"||r.isEmpty(g),f+=m+"-"+(y?" ":`
`)+this.dump(g,o-1,y?0:a+this.indentation,l,u)+(y?`
`:"");else for(d in s)g=s[d],y=o-1<=0||typeof g!="object"||r.isEmpty(g),f+=m+e.dump(d,l,u)+":"+(y?" ":`
`)+this.dump(g,o-1,y?0:a+this.indentation,l,u)+(y?`
`:"");return f},n}(),Dumper_1=t,Dumper_1}var Yaml_1,hasRequiredYaml;function requireYaml(){if(hasRequiredYaml)return Yaml_1;hasRequiredYaml=1;var t,e,r,n;return e=requireParser(),t=requireDumper(),r=requireUtils(),n=function(){function s(){}return s.parse=function(o,a,l){return a==null&&(a=!1),l==null&&(l=null),new e().parse(o,a,l)},s.parseFile=function(o,a,l,u){var c;return a==null&&(a=null),l==null&&(l=!1),u==null&&(u=null),a!=null?r.getStringFromFile(o,function(d){return function(h){var f;f=null,h!=null&&(f=d.parse(h,l,u)),a(f)}}(this)):(c=r.getStringFromFile(o),c!=null?this.parse(c,l,u):null)},s.dump=function(o,a,l,u,c){var d;return a==null&&(a=2),l==null&&(l=4),u==null&&(u=!1),c==null&&(c=null),d=new t,d.indentation=l,d.dump(o,a,0,u,c)},s.stringify=function(o,a,l,u,c){return this.dump(o,a,l,u,c)},s.load=function(o,a,l,u){return this.parseFile(o,a,l,u)},s}(),typeof window<"u"&&window!==null&&(window.YAML=n),(typeof window>"u"||window===null)&&(Yaml_1.YAML=n),Yaml_1=n,Yaml_1}requireYaml();const supportedArgs$4=new Set([...COMMON_SUPPORTED_ARGS,"disallow-username-in-url","path-as-is","alt-svc","unix-socket","abstract-unix-socket","compressed","no-compressed","verbose","no-verbose","proxy","proxy-user","proxytunnel","noproxy","preproxy","proxy-anyauth","proxy-basic","proxy-digest","proxy-negotiate","proxy-ntlm","proxy-ca-native","proxy-cacert","proxy-capath","proxy-cert-type","proxy-cert","proxy-ciphers","proxy-crlfile","proxy-header","proxy-http2","proxy-insecure","proxy-key","proxy-key-type","proxy-pass","proxy-pinnedpubkey","proxy-service-name","proxy-ssl-allow-beast","proxy-ssl-auto-client-cert","proxy-tls13-ciphers","proxy-tlsuser","proxy-tlspassword","proxy-tlsauthtype","proxy-tlsv1","socks4","socks4a","socks5","socks5-hostname","socks5-basic","socks5-gssapi","socks5-gssapi-nec","socks5-gssapi-service","haproxy-clientip","haproxy-protocol","interface","netrc","netrc-file","netrc-optional","digest","no-digest","negotiate","no-negotiate","service-name","ntlm","no-ntlm","ntlm-wb","no-ntlm-wb","aws-sigv4","delegation","oauth2-bearer","ipv4","ipv6","local-port","ftp-skip-pasv-ip","sasl-authzid","sasl-ir","tr-encoding","tcp-fastopen","proto-default","ignore-content-length","no-ignore-content-length","remote-time","fail","continue-at","speed-limit","speed-time","limit-rate","max-filesize","http0.9","http1.0","http1.1","http2","http2-prior-knowledge","http3","http3-only","cookie-jar","junk-session-cookies","crlf","no-crlf","use-ascii","pass","cacert","capath","crlfile","pinnedpubkey","curves","cert","cert-status","cert-type","key","key-type","ca-native","ssl-allow-beast","ciphers","tls13-ciphers","tlsuser","tlspassword","tlsauthtype","ssl","ssl-auto-client-cert","ssl-no-revoke","ssl-reqd","ssl-revoke-best-effort","tlsv1","tlsv1.0","tlsv1.1","tlsv1.2","tlsv1.3","tls-max","hsts","alpn","no-alpn","form","form-string","form-escape","no-form-escape","doh-url","doh-cert-status","location","no-location","location-trusted","no-location-trusted","max-redirs","post301","post302","post303","max-time","connect-timeout","expect100-timeout","happy-eyeballs-timeout-ms","resolve","connect-to","keepalive","no-keepalive","keepalive-time","insecure","no-insecure"]),regexEscape$2=/"|\\|\p{C}|[^ \P{Z}]/gu;function reprStr$5(t){return'"'+t.replace(regexEscape$2,e=>{switch(e){case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v";case"\\":return"\\\\";case'"':return'\\"'}const r=e.codePointAt(0).toString(16);return r.length<=2?"\\x"+r.padStart(2,"0"):r.length<=4?"\\u"+r.padStart(4,"0"):"\\U"+r.padStart(8,"0")})+'"'}function repr$5(t,e){const r=[];for(const n of t.tokens)typeof n=="string"?r.push(reprStr$5(n)):n.type==="variable"?(r.push("getenv("+reprStr$5(n.value)+")"),e.add("stdlib.h")):n.type==="command"&&(r.push("popen("+reprStr$5(n.value)+', "r")'),e.add("stdio.h"));return r.join(" + ")}function atof1000(t,e){if(t.isString()){const r=parseFloat(t.toString());if(!Number.isNaN(r))return Math.floor(r*1e3)+"L"}return"(long)(atof("+repr$5(t,e)+") * 1000)"}function atoi(t,e){return t.isString()?t.toString():"atoi("+repr$5(t,e)+")"}function atol(t,e){return t.isString()?t.toString()+"L":"atol("+repr$5(t,e)+")"}const AUTH_TO_VAR={basic:"CURLAUTH_BASIC",negotiate:"CURLAUTH_NEGOTIATE",digest:"CURLAUTH_DIGEST",ntlm:"CURLAUTH_NTLM","ntlm-wb":"CURLAUTH_NTLM_WB",bearer:"CURLAUTH_BEARER","aws-sigv4":"CURLAUTH_AWS_SIGV4",none:"CURLAUTH_NONE"};function requestToC(t,e=[],r){let n="";n+=`int main(int argc, char *argv[])
`,n+=`{
`,n+=`  CURLcode ret;
`,n+=`  CURL *hnd;
`;let s="",o="";o+=`  hnd = curl_easy_init();
`;let a="";a+=`  curl_easy_cleanup(hnd);
`,a+=`  hnd = NULL;
`,t.tcpFastopen&&(o+=`  curl_easy_setopt(hnd, CURLOPT_TCP_FASTOPEN, 1L);
`);const l=t.limitRate?atol(t.limitRate,r):"102400L";if(o+="  curl_easy_setopt(hnd, CURLOPT_BUFFERSIZE, "+l+`);
`,t.localPort){const[p,_]=t.localPort;o+="  curl_easy_setopt(hnd, CURLOPT_LOCALPORT, "+atol(p,r)+`);
`;let R="1L";_&&(R=atol(_,r)+"-"+atol(p,r)),o+="  curl_easy_setopt(hnd, CURLOPT_LOCALPORTRANGE, "+R+`);
`}const u=t.urls[0].url;if(o+="  curl_easy_setopt(hnd, CURLOPT_URL, "+repr$5(u,r)+`);
`,o+=`  curl_easy_setopt(hnd, CURLOPT_NOPROGRESS, 1L);
`,t.oauth2Bearer&&(o+="  curl_easy_setopt(hnd, CURLOPT_XOAUTH2_BEARER, "+repr$5(t.oauth2Bearer,r)+`);
`),t.proxy){const p=repr$5(t.proxy,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY, "+p+`);
`}if(t.proxyType&&(t.proxyType==="http2"?o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYTYPE, 3L);
`:t.proxyType==="http1"?o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYTYPE, (long)CURLPROXY_HTTP_1_0);
`:t.proxyType==="socks4"?o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYTYPE, (long)CURLPROXY_SOCKS4);
`:t.proxyType==="socks4a"?o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYTYPE, (long)CURLPROXY_SOCKS4A);
`:t.proxyType==="socks5"?o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYTYPE, (long)CURLPROXY_SOCKS5);
`:t.proxyType==="socks5-hostname"&&(o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYTYPE, (long)CURLPROXY_SOCKS5_HOSTNAME);
`)),t.proxyAuth){const p=repr$5(t.proxyAuth,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXYUSERPWD, "+p+`);
`}if(t.proxytunnel&&(o+=`  curl_easy_setopt(hnd, CURLOPT_HTTPPROXYTUNNEL, 1L);
`),t.proxyAuth){const p=AUTH_TO_VAR[t.proxyAuthType];o+="  curl_easy_setopt(hnd, CURLOPT_PROXYAUTH, (long)"+p+`);
`}if(t.preproxy){const p=repr$5(t.preproxy,r);o+="  curl_easy_setopt(hnd, CURLOPT_PRE_PROXY, "+p+`);
`}if(t.noproxy){const p=repr$5(t.noproxy,r);o+="  curl_easy_setopt(hnd, CURLOPT_NOPROXY, "+p+`);
`}if(t.fail&&(o+=`  curl_easy_setopt(hnd, CURLOPT_FAILONERROR, 1L);
`),t.netrc){const p={optional:"CURL_NETRC_OPTIONAL",required:"CURL_NETRC_REQUIRED",ignored:"CURL_NETRC_IGNORED"}[t.netrc||"ignored"];o+="  curl_easy_setopt(hnd, CURLOPT_NETRC, (long)"+p+`);
`}if(t.netrcFile){const p=repr$5(t.netrcFile,r);o+="  curl_easy_setopt(hnd, CURLOPT_NETRC_FILE, "+p+`);
`}if(t.useAscii&&(o+=`  curl_easy_setopt(hnd, CURLOPT_TRANSFERTEXT, 1L);
`),t.urls[0].auth){const[p,_]=t.urls[0].auth,R=repr$5(mergeWords(p,":",_),r);o+="  curl_easy_setopt(hnd, CURLOPT_USERPWD, "+R+`);
`}if(t.timeout&&(o+="  curl_easy_setopt(hnd, CURLOPT_TIMEOUT_MS, "+atof1000(t.timeout,r)+`);
`),!t.urls[0].uploadFile)if(t.multipartUploads){n+=`  curl_mime *mime1;
`,n+=`  curl_mimepart *part1;
`,s+=`  mime1 = NULL;
`,o+=`  mime1 = curl_mime_init(hnd);
`;for(const p of t.multipartUploads)o+=`  part1 = curl_mime_addpart(mime1);
`,"contentFile"in p&&p.contentFile?o+="  curl_mime_filedata(part1, "+repr$5(p.contentFile,r)+`);
`:"content"in p&&p.content&&(o+="  curl_mime_data(part1, "+repr$5(p.content,r)+`, CURL_ZERO_TERMINATED);
`),"encoder"in p&&p.encoder&&(o+="  curl_mime_encoder(part1, "+repr$5(p.encoder,r)+`);
`),"filename"in p&&p.filename&&!("contentFile"in p&&p.contentFile&&eq(p.filename,p.contentFile))?o+="  curl_mime_filename(part1, "+repr$5(p.filename,r)+`);
`:!p.filename&&"contentFile"in p&&p.contentFile&&(o+=`  curl_mime_filename(part1, NULL);
`),o+="  curl_mime_name(part1, "+repr$5(p.name,r)+`);
`,"contentType"in p&&p.contentType&&(o+="  curl_mime_type(part1, "+repr$5(p.contentType,r)+`);
`),"headers"in p&&p.headers&&e.push(["multipart-headers","multipart headers are not supported: "+p.headers.map(_=>_.toString()).join(", ")]),"headerFiles"in p&&p.headerFiles&&e.push(["multipart-headers","multipart header files are not supported: "+p.headerFiles.map(_=>_.toString()).join(", ")]);o+=`  curl_easy_setopt(hnd, CURLOPT_MIMEPOST, mime1);
`,a+=`  curl_mime_free(mime1);
`,a+=`  mime1 = NULL;
`}else t.data&&(o+="  curl_easy_setopt(hnd, CURLOPT_POSTFIELDS, "+repr$5(t.data,r)+`);
`,o+="  curl_easy_setopt(hnd, CURLOPT_POSTFIELDSIZE_LARGE, (curl_off_t)"+t.data.length.toString()+`);
`);if(t.formEscape&&(o+=`  curl_easy_setopt(hnd, CURLOPT_MIME_OPTIONS, 1L);
`),t.urls[0].auth){const p=AUTH_TO_VAR[t.authType];o+="  curl_easy_setopt(hnd, CURLOPT_HTTPAUTH, (long)"+p+`);
`}const c=[];for(const[p,_]of t.headers){const R=p.toLowerCase();eq(R,"user-agent")||eq(R,"referer")||(_===null?c.push("  headers = curl_slist_append(headers, "+repr$5(mergeWords(p,":"),r)+`);
`):eq(_,"")?c.push("  headers = curl_slist_append(headers, "+repr$5(mergeWords(p,";"),r)+`);
`):c.push("  headers = curl_slist_append(headers, "+repr$5(mergeWords(p,": ",_),r)+`);
`))}c.length&&(n+=`  struct curl_slist *headers;
`,s+=`  headers = NULL;
`,s+=c.join(""),o+=`  curl_easy_setopt(hnd, CURLOPT_HTTPHEADER, headers);
`,a+=`  curl_slist_free_all(headers);
`,a+=`  headers = NULL;
`);const d=t.headers.get("referer");d&&(o+="  curl_easy_setopt(hnd, CURLOPT_REFERER, "+repr$5(d,r)+`);
`);const h=t.headers.get("user-agent");if(h?o+="  curl_easy_setopt(hnd, CURLOPT_USERAGENT, "+repr$5(h,r)+`);
`:h===void 0&&(o+=`  curl_easy_setopt(hnd, CURLOPT_USERAGENT, "curl/8.2.1");
`),t.followRedirects&&(o+=`  curl_easy_setopt(hnd, CURLOPT_FOLLOWLOCATION, 1L);
`,t.followRedirectsTrusted&&(o+=`  curl_easy_setopt(hnd, CURLOPT_UNRESTRICTED_AUTH, 1L);
`)),t.awsSigV4){const p=repr$5(t.awsSigV4,r);o+="  curl_easy_setopt(hnd, CURLOPT_AWS_SIGV4, "+p+`);
`}if(t.refererAuto&&(o+=`  curl_easy_setopt(hnd, CURLOPT_AUTOREFERER, 1L);
`),t.proxyHeaders.length){n+=`  struct curl_slist *proxy_headers;
`,s&&(s+=`
`),s+=`  proxy_headers = NULL;
`;for(const[p,_]of t.proxyHeaders)_===null?s+="  proxy_headers = curl_slist_append(proxy_headers, "+repr$5(mergeWords(p,":"),r)+`);
`:eq(_,"")?s+="  proxy_headers = curl_slist_append(proxy_headers, "+repr$5(mergeWords(p,";"),r)+`);
`:s+="  proxy_headers = curl_slist_append(proxy_headers, "+repr$5(mergeWords(p,": ",_),r)+`);
`;o+=`  curl_easy_setopt(hnd, CURLOPT_PROXYHEADER, proxy_headers);
`,o+=`  curl_easy_setopt(hnd, CURLOPT_HEADEROPT, (long)CURLHEADER_SEPARATE);
`,a+=`  curl_slist_free_all(proxy_headers);
`,a+=`  proxy_headers = NULL;
`}const f=t.maxRedirects||new Word("50");o+="  curl_easy_setopt(hnd, CURLOPT_MAXREDIRS, "+atol(f,r)+`);
`;let m="CURL_HTTP_VERSION_2TLS";if(t.httpVersion&&(m={"1.0":"CURL_HTTP_VERSION_1_0","1.1":"CURL_HTTP_VERSION_1_1",2:"CURL_HTTP_VERSION_2_0","2-prior-knowledge":"CURL_HTTP_VERSION_2_PRIOR_KNOWLEDGE",3:"CURL_HTTP_VERSION_3","3-only":"CURL_HTTP_VERSION_3ONLY"}[t.httpVersion]),o+="  curl_easy_setopt(hnd, CURLOPT_HTTP_VERSION, (long)"+m+`);
`,t.http0_9&&(o+=`  curl_easy_setopt(hnd, CURLOPT_HTTP09_ALLOWED, 1L);
`),t.post301||t.post302||t.post303){const p=[];t.post301&&p.push("CURL_REDIR_POST_301"),t.post302&&p.push("CURL_REDIR_POST_302"),t.post303&&p.push("CURL_REDIR_POST_303"),o+="  curl_easy_setopt(hnd, CURLOPT_POSTREDIR, "+p.join(" | ")+`);
`}if(t.compressed&&(o+=`  curl_easy_setopt(hnd, CURLOPT_ACCEPT_ENCODING, "");
`),t.transferEncoding&&(o+=`  curl_easy_setopt(hnd, CURLOPT_TRANSFER_ENCODING, 1L);
`),t.speedLimit||t.speedTime){const p=atol(t.speedLimit||new Word("1"),r),_=atol(t.speedTime||new Word("30"),r);o+="  curl_easy_setopt(hnd, CURLOPT_LOW_SPEED_LIMIT, "+p+`);
`,o+="  curl_easy_setopt(hnd, CURLOPT_LOW_SPEED_TIME, "+_+`);
`}if(t.limitRate){const p=repr$5(t.limitRate,r);o+="  curl_easy_setopt(hnd, CURLOPT_MAX_SEND_SPEED_LARGE, (curl_off_t)"+p+`);
`,o+="  curl_easy_setopt(hnd, CURLOPT_MAX_RECV_SPEED_LARGE, (curl_off_t)"+p+`);
`}if(t.continueAt&&!eq(t.continueAt,"-")){const p=atoi(t.continueAt,r);o+="  curl_easy_setopt(hnd, CURLOPT_RESUME_FROM_LARGE, (curl_off_t)"+p+`);
`}if(t.pass){const p=repr$5(t.pass,r);o+="  curl_easy_setopt(hnd, CURLOPT_KEYPASSWD, "+p+`);
`}if(t.proxyPass){const p=repr$5(t.proxyPass,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_KEYPASSWD, "+p+`);
`}if(t.cacert){const p=repr$5(t.cacert,r);o+="  curl_easy_setopt(hnd, CURLOPT_CAINFO, "+p+`);
`}if(t.proxyCacert){const p=repr$5(t.proxyCacert,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_CAINFO, "+p+`);
`}if(t.capath||t.proxyCapath){if(t.capath){const p=repr$5(t.capath,r);o+="  curl_easy_setopt(hnd, CURLOPT_CAPATH, "+p+`);
`;const _=repr$5(t.proxyCapath||t.capath,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_CAPATH, "+_+`);
`}else if(t.proxyCapath){const p=repr$5(t.proxyCapath,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_CAPATH, "+p+`);
`}}if(t.crlfile||t.proxyCrlfile){if(t.crlfile){const p=repr$5(t.crlfile,r);o+="  curl_easy_setopt(hnd, CURLOPT_CRLFILE, "+p+`);
`;const _=repr$5(t.proxyCrlfile||t.crlfile,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_CRLFILE, "+_+`);
`}else if(t.proxyCrlfile){const p=repr$5(t.proxyCrlfile,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_CRLFILE, "+p+`);
`}}if(t.pinnedpubkey){const p=repr$5(t.pinnedpubkey,r);o+="  curl_easy_setopt(hnd, CURLOPT_PINNEDPUBLICKEY, "+p+`);
`}if(t.curves){const p=repr$5(t.curves,r);o+="  curl_easy_setopt(hnd, CURLOPT_SSL_EC_CURVES, "+p+`);
`}if(t.cert){const[p,_]=t.cert;_&&(o+="  curl_easy_setopt(hnd, CURLOPT_KEYPASSWD, "+repr$5(_,r)+`);
`),o+="  curl_easy_setopt(hnd, CURLOPT_SSLCERT, "+repr$5(p,r)+`);
`}if(t.proxyCert){const p=repr$5(t.proxyCert,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SSLCERT, "+p+`);
`}if(t.certType){const p=repr$5(t.certType,r);o+="  curl_easy_setopt(hnd, CURLOPT_SSLCERTTYPE, "+p+`);
`}if(t.proxyCertType){const p=repr$5(t.proxyCertType,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SSLCERTTYPE, "+p+`);
`}if(t.key){const p=repr$5(t.key,r);o+="  curl_easy_setopt(hnd, CURLOPT_SSLKEY, "+p+`);
`}if(t.proxyKey){const p=repr$5(t.proxyKey,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SSLKEY, "+p+`);
`}if(t.keyType){const p=repr$5(t.keyType,r);o+="  curl_easy_setopt(hnd, CURLOPT_SSLKEYTYPE, "+p+`);
`}if(t.proxyKeyType){const p=repr$5(t.proxyKeyType,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SSLKEYTYPE, "+p+`);
`}t.insecure&&(o+=`  curl_easy_setopt(hnd, CURLOPT_SSL_VERIFYPEER, 0L);
`,o+=`  curl_easy_setopt(hnd, CURLOPT_SSL_VERIFYHOST, 0L);
`),t.proxyInsecure&&(o+=`  curl_easy_setopt(hnd, CURLOPT_PROXY_SSL_VERIFYPEER, 0L);
`,o+=`  curl_easy_setopt(hnd, CURLOPT_PROXY_SSL_VERIFYHOST, 0L);
`),t.certStatus&&(o+=`  curl_easy_setopt(hnd, CURLOPT_SSL_VERIFYSTATUS, 1L);
`),t.dohCertStatus&&(o+=`  curl_easy_setopt(hnd, CURLOPT_DOH_SSL_VERIFYSTATUS, 1L);
`);let g=null;t.tlsVersion&&(g={1:"CURL_SSLVERSION_TLSv1","1.0":"CURL_SSLVERSION_TLSv1_0","1.1":"CURL_SSLVERSION_TLSv1_1","1.2":"CURL_SSLVERSION_TLSv1_2","1.3":"CURL_SSLVERSION_TLSv1_3"}[t.tlsVersion]);let y=null;if(t.tlsMax)if(t.tlsMax.isString()){const p=t.tlsMax.toString();switch(p){case"1.0":y="CURL_SSLVERSION_MAX_TLSv1_0";break;case"1.1":y="CURL_SSLVERSION_MAX_TLSv1_1";break;case"1.2":y="CURL_SSLVERSION_MAX_TLSv1_2";break;case"1.3":y="CURL_SSLVERSION_MAX_TLSv1_3";break;case"default":y="CURL_SSLVERSION_MAX_DEFAULT";break;default:e.push(["tls-max","unknown value for --tls-max: "+JSON.stringify(p)])}}else e.push(["tls-max","unparseable value for --tls-max: "+JSON.stringify(t.tlsMax.toString())]);if((g||y)&&(g||(g="CURL_SSLVERSION_DEFAULT"),o+="  curl_easy_setopt(hnd, CURLOPT_SSLVERSION, (long)",y?o+="("+g+" | "+y+")":o+=g,o+=`);
`),t.proxyTlsv1&&(o+=`  curl_easy_setopt(hnd, CURLOPT_PROXY_SSLVERSION, (long)CURL_SSLVERSION_TLSv1);
`),t.sslAllowBeast||t.sslNoRevoke||t.sslRevokeBestEffort||t.caNative||t.sslAutoClientCert){const p=[];t.sslAllowBeast&&p.push("CURLSSLOPT_ALLOW_BEAST"),t.sslNoRevoke&&p.push("CURLSSLOPT_NO_REVOKE"),t.sslRevokeBestEffort&&p.push("CURLSSLOPT_REVOKE_BEST_EFFORT"),t.caNative&&p.push("CURLSSLOPT_NATIVE_CA"),t.sslAutoClientCert&&p.push("CURLSSLOPT_AUTO_CLIENT_CERT"),o+="  curl_easy_setopt(hnd, CURLOPT_SSL_OPTIONS, (long)"+(p.length>1?"(":"")+p.join(" | ")+(p.length>1?")":"")+`);
`}if(t.proxySslAllowBeast||t.proxyCaNative||t.proxySslAutoClientCert){const p=[];t.proxySslAllowBeast&&p.push("CURLSSLOPT_ALLOW_BEAST"),t.proxyCaNative&&p.push("CURLSSLOPT_NATIVE_CA"),t.proxySslAutoClientCert&&p.push("CURLSSLOPT_AUTO_CLIENT_CERT"),o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SSL_OPTIONS, (long)"+p.join(" | (long)")+`);
`}if(t.pathAsIs&&(o+=`  curl_easy_setopt(hnd, CURLOPT_PATH_AS_IS, 1L);
`),t.remoteTime&&(o+=`  curl_easy_setopt(hnd, CURLOPT_FILETIME, 1L);
`),t.crlf&&(o+=`  curl_easy_setopt(hnd, CURLOPT_CRLF, 1L);
`),t.cookieFiles)for(const p of t.cookieFiles){const _=repr$5(p,r);o+="  curl_easy_setopt(hnd, CURLOPT_COOKIEFILE, "+_+`);
`}if(t.cookieJar){const p=repr$5(t.cookieJar,r);o+="  curl_easy_setopt(hnd, CURLOPT_COOKIEJAR, "+p+`);
`}t.junkSessionCookies&&(o+=`  curl_easy_setopt(hnd, CURLOPT_COOKIESESSION, 1L);
`);let E="GET";if((t.data||t.multipartUploads)&&(E="POST"),eq(t.urls[0].method,E)||(o+="  curl_easy_setopt(hnd, CURLOPT_CUSTOMREQUEST, "+repr$5(t.urls[0].method,r)+`);
`),t.interface){const p=repr$5(t.interface,r);o+="  curl_easy_setopt(hnd, CURLOPT_INTERFACE, "+p+`);
`}if(t.krb){const p=repr$5(t.krb,r);o+="  curl_easy_setopt(hnd, CURLOPT_KRBLEVEL, "+p+`);
`}if(t.connectTimeout&&(o+="  curl_easy_setopt(hnd, CURLOPT_CONNECTTIMEOUT_MS, "+atof1000(t.connectTimeout,r)+`);
`),t.dohUrl){const p=repr$5(t.dohUrl,r);o+="  curl_easy_setopt(hnd, CURLOPT_DOH_URL, "+p+`);
`}if(t.ciphers){const p=repr$5(t.ciphers,r);o+="  curl_easy_setopt(hnd, CURLOPT_SSL_CIPHER_LIST, "+p+`);
`}if(t.proxyCiphers){const p=repr$5(t.proxyCiphers,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SSL_CIPHER_LIST, "+p+`);
`}if(t.tls13Ciphers){const p=repr$5(t.tls13Ciphers,r);o+="  curl_easy_setopt(hnd, CURLOPT_TLS13_CIPHERS, "+p+`);
`}if(t.proxyTls13Ciphers){const p=repr$5(t.proxyTls13Ciphers,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_TLS13_CIPHERS, "+p+`);
`}if(t.verbose&&(o+=`  curl_easy_setopt(hnd, CURLOPT_VERBOSE, 1L);
`),t.maxFilesize){const p=atol(t.maxFilesize,r);o+="  curl_easy_setopt(hnd, CURLOPT_MAXFILESIZE_LARGE, (curl_off_t)"+p+`);
`}if(t.ipv6?o+=`  curl_easy_setopt(hnd, CURLOPT_IPRESOLVE, 2L);
`:t.ipv4&&(o+=`  curl_easy_setopt(hnd, CURLOPT_IPRESOLVE, 1L);
`),(t.sslReqd||t.ssl)&&(t.sslReqd?o+=`  curl_easy_setopt(hnd, CURLOPT_USE_SSL, (long)CURLUSESSL_ALL);
`:t.ssl&&(o+=`  curl_easy_setopt(hnd, CURLOPT_USE_SSL, (long)CURLUSESSL_TRY);
`)),t.socks5GssapiNec&&(o+=`  curl_easy_setopt(hnd, CURLOPT_SOCKS5_GSSAPI_NEC, 1L);
`),t.socks5Basic?o+=`  curl_easy_setopt(hnd, CURLOPT_SOCKS5_AUTH, (long)CURLAUTH_BASIC);
`:t.socks5Gssapi&&(o+=`  curl_easy_setopt(hnd, CURLOPT_SOCKS5_AUTH, (long)CURLAUTH_GSSNEGOTIATE);
`),t.socks5GssapiService){const p=repr$5(t.socks5GssapiService,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SERVICE_NAME, "+p+`);
`}if(t.serviceName){const p=repr$5(t.serviceName,r);o+="  curl_easy_setopt(hnd, CURLOPT_SERVICE_NAME, "+p+`);
`}if(t.proxyServiceName){const p=repr$5(t.proxyServiceName,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_SERVICE_NAME, "+p+`);
`}if(t.ignoreContentLength&&(o+=`  curl_easy_setopt(hnd, CURLOPT_IGNORE_CONTENT_LENGTH, 1L);
`),t.ftpSkipPasvIp!==!1&&(o+=`  curl_easy_setopt(hnd, CURLOPT_FTP_SKIP_PASV_IP, 1L);
`),t.keepAlive!==!1&&(o+=`  curl_easy_setopt(hnd, CURLOPT_TCP_KEEPALIVE, 1L);
`,t.keepAliveTime)){const p=atol(t.keepAliveTime,r);o+="  curl_easy_setopt(hnd, CURLOPT_TCP_KEEPIDLE, "+p+`);
`,o+="  curl_easy_setopt(hnd, CURLOPT_TCP_KEEPINTVL, "+p+`);
`}if(t.proto){const p=repr$5(t.proto,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROTOCOLS_STR, "+p+`);
`}if(t.protoRedir){const p=repr$5(t.protoRedir,r);o+="  curl_easy_setopt(hnd, CURLOPT_REDIR_PROTOCOLS_STR, "+p+`);
`}if(t.resolve){n+=`  struct curl_slist *resolve;
`,s&&(s+=`
`),s+=`  resolve = NULL;
`;for(const p of t.resolve)s+="  resolve = curl_slist_append(resolve, "+repr$5(p,r)+`);
`;o+=`  curl_easy_setopt(hnd, CURLOPT_RESOLVE, resolve);
`,a+=`  curl_slist_free_all(resolve);
`,a+=`  resolve = NULL;
`}if(t.connectTo){n+=`  struct curl_slist *connect_to;
`,s&&(s+=`
`),s+=`  connect_to = NULL;
`;for(const p of t.connectTo)s+="  connect_to = curl_slist_append(connect_to, "+repr$5(p,r)+`);
`;o+=`  curl_easy_setopt(hnd, CURLOPT_CONNECT_TO, connect_to);
`,a+=`  curl_slist_free_all(connect_to);
`,a+=`  connect_to = NULL;
`}if(t.tlsuser){const p=repr$5(t.tlsuser,r);o+="  curl_easy_setopt(hnd, CURLOPT_TLSAUTH_USERNAME, "+p+`);
`}if(t.tlspassword){const p=repr$5(t.tlspassword,r);o+="  curl_easy_setopt(hnd, CURLOPT_TLSAUTH_PASSWORD, "+p+`);
`}if(t.tlsauthtype){const p=repr$5(t.tlsauthtype,r);o+="  curl_easy_setopt(hnd, CURLOPT_TLSAUTH_TYPE, "+p+`);
`}if(t.proxyTlsuser){const p=repr$5(t.proxyTlsuser,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_TLSAUTH_USERNAME, "+p+`);
`}if(t.proxyTlspassword){const p=repr$5(t.proxyTlspassword,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_TLSAUTH_PASSWORD, "+p+`);
`}if(t.proxyTlsauthtype){const p=repr$5(t.proxyTlsauthtype,r);o+="  curl_easy_setopt(hnd, CURLOPT_PROXY_TLSAUTH_TYPE, "+p+`);
`}if(t.delegation&&(eq(t.delegation,"always")?o+=`  curl_easy_setopt(hnd, CURLOPT_GSSAPI_DELEGATION, 2L);
`:eq(t.delegation,"policy")&&(o+=`  curl_easy_setopt(hnd, CURLOPT_GSSAPI_DELEGATION, 1L);
`)),t.saslAuthzid){const p=repr$5(t.saslAuthzid,r);o+="  curl_easy_setopt(hnd, CURLOPT_SASL_AUTHZID, "+p+`);
`}if(t.saslIr&&(o+=`  curl_easy_setopt(hnd, CURLOPT_SASL_IR, 1L);
`),t.alpn===!1&&(o+=`  curl_easy_setopt(hnd, CURLOPT_SSL_ENABLE_ALPN, 0L);
`),t.unixSocket){const p=repr$5(t.unixSocket,r);o+="  curl_easy_setopt(hnd, CURLOPT_UNIX_SOCKET_PATH, "+p+`);
`}if(t.abstractUnixSocket){const p=repr$5(t.abstractUnixSocket,r);o+="  curl_easy_setopt(hnd, CURLOPT_ABSTRACT_UNIX_SOCKET, "+p+`);
`}if(t.protoDefault){const p=repr$5(t.protoDefault,r);o+="  curl_easy_setopt(hnd, CURLOPT_DEFAULT_PROTOCOL, "+p+`);
`}if(t.expect100Timeout&&(o+="  curl_easy_setopt(hnd, CURLOPT_EXPECT_100_TIMEOUT_MS, "+atof1000(t.expect100Timeout,r)+`);
`),t.happyEyeballsTimeoutMs&&(o+="  curl_easy_setopt(hnd, CURLOPT_HAPPY_EYEBALLS_TIMEOUT_MS, "+atol(t.happyEyeballsTimeoutMs,r)+`);
`),t.haproxyClientIp){const p=repr$5(t.haproxyClientIp,r);o+="  curl_easy_setopt(hnd, CURLOPT_HAPROXY_CLIENT_IP, "+p+`);
`}if(t.haproxyProtocol&&(o+=`  curl_easy_setopt(hnd, CURLOPT_HAPROXYPROTOCOL, 1L);
`),t.disallowUsernameInUrl&&(o+=`  curl_easy_setopt(hnd, CURLOPT_DISALLOW_USERNAME_IN_URL, 1L);
`),t.altSvc){const p=repr$5(t.altSvc,r);o+="  curl_easy_setopt(hnd, CURLOPT_ALTSVC, "+p+`);
`}if(t.hsts){const p=repr$5(t.hsts[t.hsts.length-1],r);o+="  curl_easy_setopt(hnd, CURLOPT_HSTS, "+p+`);
`}o+=`
`,o+=`  ret = curl_easy_perform(hnd);
`;let b="";return b+=`  return (int)ret;
`,b+=`}
`,n+(s?`
`+s:"")+`
`+o+`
`+a+`
`+b}function printImports$1(t){let e="";for(const r of Array.from(t).sort())e+="#include <"+r+`>
`;return e}function _toC(t,e=[]){const r=new Set(["curl/curl.h"]),n=getFirst(t,e,{cookieFiles:!0}),s=requestToC(n,e,r);return printImports$1(r)+`
`+s}function toCWarn(t,e=[]){const r=parse$1(t,supportedArgs$4,e);return[_toC(r,e),e]}function toC(t){return toCWarn(t)[0]}var jsesc_1,hasRequiredJsesc;function requireJsesc(){if(hasRequiredJsesc)return jsesc_1;hasRequiredJsesc=1;const t={},e=t.hasOwnProperty,r=(w,A)=>{for(const U in w)e.call(w,U)&&A(U,w[U])},n=(w,A)=>(A&&r(A,(U,$)=>{w[U]=$}),w),s=(w,A)=>{const U=w.length;let $=-1;for(;++$<U;)A(w[$])},o=w=>"\\u"+("0000"+w).slice(-4),a=(w,A)=>{let U=w.toString(16);return A?U:U.toUpperCase()},l=t.toString,u=Array.isArray,c=w=>typeof Buffer=="function"&&Buffer.isBuffer(w),d=w=>l.call(w)=="[object Object]",h=w=>typeof w=="string"||l.call(w)=="[object String]",f=w=>typeof w=="number"||l.call(w)=="[object Number]",m=w=>typeof w=="bigint",g=w=>typeof w=="function",y=w=>l.call(w)=="[object Map]",E=w=>l.call(w)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},p=/[\\\b\f\n\r\t]/,_=/[0-9]/,R=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,v=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,x=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,T=(w,A)=>{const U=()=>{k=P,++A.indentLevel,P=A.indent.repeat(A.indentLevel)},$={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},L=A&&A.json;L&&($.quotes="double",$.wrap=!0),A=n($,A),A.quotes!="single"&&A.quotes!="double"&&A.quotes!="backtick"&&(A.quotes="single");const O=A.quotes=="double"?'"':A.quotes=="backtick"?"`":"'",S=A.compact,N=A.lowercaseHex;let P=A.indent.repeat(A.indentLevel),k="";const H=A.__inline1__,V=A.__inline2__,F=S?"":`
`;let I,B=!0;const Y=A.numbers=="binary",Z=A.numbers=="octal",D=A.numbers=="decimal",j=A.numbers=="hexadecimal";if(L&&w&&g(w.toJSON)&&(w=w.toJSON()),!h(w)){if(y(w))return w.size==0?"new Map()":(S||(A.__inline1__=!0,A.__inline2__=!1),"new Map("+T(Array.from(w),A)+")");if(E(w))return w.size==0?"new Set()":"new Set("+T(Array.from(w),A)+")";if(c(w))return w.length==0?"Buffer.from([])":"Buffer.from("+T(Array.from(w),A)+")";if(u(w))return I=[],A.wrap=!0,H&&(A.__inline1__=!1,A.__inline2__=!0),V||U(),s(w,W=>{B=!1,V&&(A.__inline2__=!1),I.push((S||V?"":P)+T(W,A))}),B?"[]":V?"["+I.join(", ")+"]":"["+F+I.join(","+F)+F+(S?"":k)+"]";if(f(w)||m(w)){if(L)return JSON.stringify(Number(w));let W;if(D)W=String(w);else if(j){let M=w.toString(16);N||(M=M.toUpperCase()),W="0x"+M}else Y?W="0b"+w.toString(2):Z&&(W="0o"+w.toString(8));return m(w)?W+"n":W}else return m(w)?L?JSON.stringify(Number(w)):w+"n":d(w)?(I=[],A.wrap=!0,U(),r(w,(W,M)=>{B=!1,I.push((S?"":P)+T(W,A)+":"+(S?"":" ")+T(M,A))}),B?"{}":"{"+F+I.join(","+F)+F+(S?"":k)+"}"):L?JSON.stringify(w)||"null":String(w)}const G=A.escapeEverything?v:x;return I=w.replace(G,(W,M,X,J,q,ee)=>{if(M){if(A.minimal)return M;const K=M.charCodeAt(0),Q=M.charCodeAt(1);if(A.es6){const te=(K-55296)*1024+Q-56320+65536;return"\\u{"+a(te,N)+"}"}return o(a(K,N))+o(a(Q,N))}if(X)return o(a(X.charCodeAt(0),N));if(W=="\0"&&!L&&!_.test(ee.charAt(q+1)))return"\\0";if(J)return J==O||A.escapeEverything?"\\"+J:J;if(p.test(W))return b[W];if(A.minimal&&!R.test(W))return W;const z=a(W.charCodeAt(0),N);return L||z.length>2?o(z):"\\x"+("00"+z).slice(-2)}),O=="`"&&(I=I.replace(/\$\{/g,"\\${")),A.isScriptContext&&(I=I.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,L?"\\u003C!--":"\\x3C!--")),A.wrap&&(I=O+I+O),I};return T.version="3.0.2",jsesc_1=T,jsesc_1}var jsescExports=requireJsesc();const jsescObj=getDefaultExportFromCjs(jsescExports),javaScriptSupportedArgs=new Set([...COMMON_SUPPORTED_ARGS,"upload-file","form","form-string","digest","no-digest","next","compressed"]);[...javaScriptSupportedArgs];const FORBIDDEN_METHODS=["CONNECT","TRACE","TRACK"],FORBIDDEN_HEADERS=["Accept-Charset","Accept-Encoding","Access-Control-Request-Headers","Access-Control-Request-Method","Connection","Content-Length","Cookie","Cookie2","Date","DNT","Expect","Host","Keep-Alive","Origin","Referer","Set-Cookie","TE","Trailer","Transfer-Encoding","Upgrade","Via"].map(t=>t.toLowerCase());function reprObj(t,e){const r=jsescObj(t,{quotes:"single",minimal:!1,compact:!1,indent:"  ",indentLevel:e});return typeof t=="string"?"'"+r+"'":r}function reprPairs(t,e=0,r="  ",n=!0,s){if(t.length===0)return n?"[]":"{}";let o=n?`[
`:`{
`;for(const[a,[l,u]]of t.entries())o+=r.repeat(e+1),n?o+="["+repr$4(l,s)+", "+repr$4(u,s)+"]":o+=repr$4(l,s)+": "+repr$4(u,s),o+=a<t.length-1?`,
`:`
`;return o+=r.repeat(e)+(n?"]":"}"),o}function reprAsStringToStringDict(t,e=0,r,n="  "){return reprPairs(t,e,n,!1,r)}function reprAsStringTuples(t,e=0,r,n="  "){return reprPairs(t,e,n,!0,r)}const regexEscape$1=/'|"|\\|\p{C}|[^ \P{Z}]/gu,regexDigit$1=/[0-9]/;function esc(t,e="'"){return t.replace(regexEscape$1,(r,n,s)=>{switch(r[0]){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v";case"'":case'"':return r===e?"\\"+r:r;case"\0":if(!regexDigit$1.test(s.charAt(n+1)))return"\\0";break}if(r.length===2){const a=r.charCodeAt(0),l=r.charCodeAt(1);return"\\u"+a.toString(16).padStart(4,"0")+"\\u"+l.toString(16).padStart(4,"0")}const o=r.charCodeAt(0).toString(16);return o.length>2?"\\u"+o.padStart(4,"0"):"\\x"+o.padStart(2,"0")})}function reprStr$4(t,e){return e===void 0&&(e="'",t.includes("'")&&!t.includes('"')&&(e='"')),e+esc(t,e)+e}function addImport(t,e,r){for(const[n,s]of t)if(n===e&&s===r)return;t.push([e,r])}function repr$4(t,e){const r=[];for(const n of t.tokens)typeof n=="string"?r.push(reprStr$4(n)):n.type==="variable"?r.push("process.env["+reprStr$4(n.value)+"]"):(r.push("execSync("+reprStr$4(n.value)+").stdout"),addImport(e,"execSync","node:child_process"));return r.join(" + ")}function reprFetch(t,e,r){return e?repr$4(t,r):reprStr$4(t.toString())}function bySecondElem(t,e){return t[1].localeCompare(e[1])}function toURLSearchParams(t,e,r=1){const[n,s]=t;return"new URLSearchParams("+(s&&s.every(a=>!Array.isArray(a[1]))?reprAsStringToStringDict(s,r,e):reprAsStringTuples(n,r,e))+")"}function toFormData(t,e,r,n,s=!0){let o=`new FormData();
`;for(const a of t)o+="form.append("+reprFetch(a.name,s,e)+", ","contentFile"in a?s?eq(a.contentFile,"-")?(addImport(e,"* as fs","fs"),o+="fs.readFileSync(0).toString()",a.filename&&(o+=", "+reprFetch(a.filename,s,e))):(r.add("fileFromSync"),o+="fileFromSync("+reprFetch(a.contentFile,s,e)+")"):(o+="File(['<data goes here>'], "+reprFetch(a.contentFile,s,e)+")",n.push(["--form","you can't read a file for --form/-F in the browser"])):o+=reprFetch(a.content,s,e),o+=`);
`;return o}function getDataString$1(t,e,r,n){const s=reprFetch(e,r,n),o=t.headers.getContentType();if(o==="application/json")try{const a=e.toString(),l=JSON.parse(a);if(typeof l!="object"||l===null)return[s,null];const u=JSON.stringify(l)===a;return["JSON.stringify("+reprObj(l,1)+")",u?null:s]}catch{return[s,null]}if(o==="application/x-www-form-urlencoded")try{const[a,l]=parseQueryString(e);return a?(eq(t.headers.get("content-type"),"application/x-www-form-urlencoded")&&t.headers.delete("content-type"),[toURLSearchParams([a,l],n),null]):[s,null]}catch{return[s,null]}return[s,null]}function getData(t,e,r){if(!t.dataArray||t.multipartUploads)return["",null];if(t.dataArray.length===1&&t.dataArray[0]instanceof Word&&t.dataArray[0].isString())try{return getDataString$1(t,t.dataArray[0],e,r)}catch{}const n=[];t.dataArray.some(u=>!(u instanceof Word)&&u.filetype==="binary");for(const u of t.dataArray)if(u instanceof Word)n.push(repr$4(u,r));else{const{filetype:c,name:d,filename:h}=u;c==="urlencode"&&d&&n.push(reprFetch(d,e,r)),eq(h,"-")?n.push("new File([/* contents */], '<stdin>')"):n.push("new File([/* contents */], "+reprFetch(h,e,r)+")")}if(n.length===0)return["''",null];if(n.length===1)return[n[0],null];let[s,o,a]=["new ArrayBuffer(",", ",")"];return n.reduce((u,c)=>u+c.length,0)>80&&(s+=`
    `,o=`,
    `,a=`
  )`),[s+n.join(o)+a,null]}function requestToJavaScriptOrNode(t,e,r,n,s){warnIfPartsIgnored(t,e,{multipleUrls:!0,dataReadsFile:!0,queryReadsFile:!0});let o="";t.multipartUploads&&(o+="const form = "+toFormData(t.multipartUploads,n,r,e,s),o+=`
`);const[a,l]=getData(t,s,n);let u="fetch";if(t.urls[0].auth&&t.authType==="digest"){const[c,d]=t.urls[0].auth;addImport(n,"* as DigestFetch","digest-fetch"),o+="const client = new DigestFetch("+reprFetch(c,s,n)+", "+reprFetch(d,s,n)+`);
`,u="client.fetch"}for(const c of t.urls){o+=u+"("+reprFetch(c.url,s,n),c.queryReadsFile&&e.push(["unsafe-query","the URL query string is not correct, "+JSON.stringify("@"+c.queryReadsFile)+" means it should read the file "+JSON.stringify(c.queryReadsFile)]);const d=c.method.toLowerCase(),h=c.method.toString();d.isString()&&FORBIDDEN_METHODS.includes(h)&&e.push(["forbidden-method","the method "+JSON.stringify(h)+" is not allowed in fetch()"]);let f="";if(eq(d,"get")||(f+="  method: "+reprFetch(c.method,s,n)+`,
`),t.headers.length||c.auth&&t.authType==="basic"){f+=`  headers: {
`;for(const[m,g]of t.headers)f+="    "+reprFetch(m,s,n)+": "+reprFetch(g||new Word,s,n)+`,
`,m.isString()&&FORBIDDEN_HEADERS.includes(m.toString().toLowerCase())&&e.push(["forbidden-header",JSON.stringify(m.toString())+" header is forbidden in fetch()"]);c.auth&&t.authType==="basic"&&(f+="    'Authorization': 'Basic ' + btoa("+reprFetch(joinWords(c.auth,":"),s,n)+`),
`),f.endsWith(`,
`)&&(f=f.slice(0,-2),f+=`
`),f+=`  },
`}c.uploadFile?(f+="  body: File(['<data goes here>'], "+reprFetch(c.uploadFile,s,n)+`),
`,e.push(["--form","you can't read a file for --upload-file/-F in the browser"])):t.multipartUploads?f+=`  body: form,
`:t.data&&(l&&(f+="  // body: "+l+`,
`),f+="  body: "+a+`,
`),f&&(f.endsWith(`,
`)&&(f=f.slice(0,-2)),o+=`, {
`,o+=f,o+=`
}`),o+=`);
`}return o}function _toJavaScriptOrNode(t,e,r){const n=new Set,s=[],o=t.map(l=>requestToJavaScriptOrNode(l,e,n,s,r)).join(`
`);let a="";if(s.length)for(const[l,u]of Array.from(s).sort(bySecondElem))a+="import "+l+" from "+reprStr$4(u)+`;
`;return a?a+`
`+o:o}function _toJavaScript(t,e=[]){return _toJavaScriptOrNode(t,e,!1)}function toJavaScriptWarn(t,e=[]){const r=parse$1(t,javaScriptSupportedArgs,e);return[_toJavaScript(r,e),e]}function toJavaScript(t){const[e]=toJavaScriptWarn(t);return e}const supportedArgs$3=new Set([...COMMON_SUPPORTED_ARGS,"max-time","connect-timeout","location","upload-file","http2"]),regexEscape=/"|\\|\p{C}|[^ \P{Z}]/gu,regexDigit=/[0-9]/;function reprStr$3(t){return'"'+t.replace(regexEscape,(e,r,n)=>{switch(e){case"\\":return"\\\\";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case'"':return'\\"'}if(e.length===2){const s=e.charCodeAt(0),o=e.charCodeAt(1);return"\\u"+s.toString(16).padStart(4,"0")+"\\u"+o.toString(16).padStart(4,"0")}return e==="\0"&&!regexDigit.test(n.charAt(r+1))?"\\0":"\\u"+e.charCodeAt(0).toString(16).padStart(4,"0")})+'"'}function repr$3(t,e){const r=[];for(const n of t.tokens)typeof n=="string"?r.push(reprStr$3(n)):n.type==="variable"?(r.push("System.getenv("+reprStr$3(n.value)+")"),e.add("java.lang.System")):(r.push("exec("+reprStr$3(n.value)+")"),e.add("java.lang.Runtime"),e.add("java.util.Scanner"));return r.join(" + ")}function _toJava(t,e=[]){const r=getFirst(t,e),n=r.urls[0],s=new Set(["java.net.URI","java.net.http.HttpClient","java.net.http.HttpRequest","java.net.http.HttpResponse","java.io.IOException"]);let o="";o+="HttpClient client = ";const a=[];if(r.followRedirects?a.push(`    .followRedirects(HttpClient.Redirect.NORMAL)
`):r.followRedirects===!1&&a.push(`    .followRedirects(HttpClient.Redirect.NEVER)
`),r.connectTimeout&&(a.push("    .connectTimeout(Duration.ofSeconds("+r.connectTimeout.toString()+`))
`),s.add("java.time.Duration")),a.length){o+=`HttpClient.newBuilder()
`;for(const m of a)o+=m;o+="    .build()"}else o+="HttpClient.newHttpClient()";o+=`;
`,o+=`
`;const l=[];if(n.uploadFile?((eq(n.uploadFile,"-")||eq(n.uploadFile,"."))&&e.push(["upload-stdin","uploading from stdin isn't supported"]),l.push("BodyPublishers.ofFile(Paths.get("+repr$3(n.uploadFile,s)+"))"),s.add("java.net.http.HttpRequest.BodyPublishers"),s.add("java.nio.file.Paths")):r.dataArray&&r.dataArray.length===1&&!(r.dataArray[0]instanceof Word)&&!r.dataArray[0].name?(l.push("BodyPublishers.ofFile(Paths.get("+repr$3(r.dataArray[0].filename,s)+"))"),s.add("java.net.http.HttpRequest.BodyPublishers"),s.add("java.nio.file.Paths")):r.data&&(l.push("BodyPublishers.ofString("+repr$3(r.data,s)+")"),s.add("java.net.http.HttpRequest.BodyPublishers")),n.auth){const[m,g]=n.auth;o+="String credentials = "+repr$3(m,s)+' + ":" + '+repr$3(g,s)+`;
`,o+=`String auth = "Basic " + Base64.getEncoder().encodeToString(credentials.getBytes());

`,s.add("java.util.Base64"),r.authType!=="basic"&&e.push(["unsupported-auth-type",`"${r.authType}" authentication is not supported`])}o+=`HttpRequest request = HttpRequest.newBuilder()
`,o+="    .uri(URI.create("+repr$3(n.url,s)+`))
`;const u=["DELETE","GET","POST","PUT"],c=["POST","PUT"],d=n.method;let h="method";if(!d.isString()||!u.includes(d.toString())||l.length&&!c.includes(d.toString())?(l.length||l.push("HttpRequest.BodyPublishers.noBody()"),l.unshift(repr$3(d,s))):(!l.length&&c.includes(d.toString())&&l.push("HttpRequest.BodyPublishers.noBody()"),h=d.toString()),o+="    ."+h+"("+l.join(", ")+`)
`,r.headers.length)for(const[m,g]of r.headers)g!==null&&(o+="    .setHeader("+repr$3(m,s)+", "+repr$3(g,s)+`)
`);if(n.auth){const m=r.headers.lowercase?"authorization":"Authorization";o+='    .setHeader("'+m+`", auth)
`}r.http2&&(o+=`    .version(HttpClient.Version.HTTP_2)
`),r.timeout&&(o+="    .timeout(Duration.ofSeconds("+r.timeout.toString()+`))
`,s.add("java.time.Duration")),o+=`    .build();
`,o+=`
`,o+=`HttpResponse<String> response = client.send(request, HttpResponse.BodyHandlers.ofString());
`;let f="";for(const m of Array.from(s).sort())f+="import "+m+`;
`;return s.size&&(f+=`
`),s.has("java.lang.Runtime")&&(f+=`public static String exec(String cmd) {
`,f+=`    try {
`,f+=`        Process p = Runtime.getRuntime().exec(cmd);
`,f+=`        p.waitFor();
`,f+=`        Scanner s = new Scanner(p.getInputStream()).useDelimiter("\\\\A");
`,f+=`        return s.hasNext() ? s.next() : "";
`,f+=`    } catch (Exception e) {
`,f+=`        return "";
`,f+=`    }
`,f+=`}
`,f+=`
`),f+o}function toJavaWarn(t,e=[]){const r=parse$1(t,supportedArgs$3,e);return[_toJava(r,e),e]}function toJava(t){return toJavaWarn(t)[0]}function isInteger(t){return INTEGER_REGEX.test(t)}const INTEGER_REGEX=/^-?[0-9]+$/;function isNumber(t){return NUMBER_REGEX.test(t)}const NUMBER_REGEX=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function isSafeNumber(t,e){const r=Number.parseFloat(t),n=String(r),s=extractSignificantDigits(t),o=extractSignificantDigits(n);return!!(s===o||e?.approx===!0&&!isInteger(t)&&o.length>=14&&s.startsWith(o.substring(0,14)))}let UnsafeNumberReason=function(t){return t.underflow="underflow",t.overflow="overflow",t.truncate_integer="truncate_integer",t.truncate_float="truncate_float",t}({});function getUnsafeNumberReason(t){if(isSafeNumber(t,{approx:!1}))return;if(isInteger(t))return UnsafeNumberReason.truncate_integer;const e=Number.parseFloat(t);return Number.isFinite(e)?e===0?UnsafeNumberReason.underflow:UnsafeNumberReason.truncate_float:UnsafeNumberReason.overflow}function extractSignificantDigits(t){return t.replace(EXPONENTIAL_PART_REGEX,"").replace(DOT_REGEX,"").replace(TRAILING_ZEROS_REGEX,"").replace(LEADING_MINUS_AND_ZEROS_REGEX,"")}const EXPONENTIAL_PART_REGEX=/[eE][+-]?\d+$/,LEADING_MINUS_AND_ZEROS_REGEX=/^-?(0*)?/,DOT_REGEX=/\./,TRAILING_ZEROS_REGEX=/0+$/;class LosslessNumber{isLosslessNumber=!0;constructor(e){if(!isNumber(e))throw new Error(`Invalid number (value: "${e}")`);this.value=e}valueOf(){const e=getUnsafeNumberReason(this.value);if(e===void 0||e===UnsafeNumberReason.truncate_float)return Number.parseFloat(this.value);if(isInteger(this.value))return BigInt(this.value);throw new Error(`Cannot safely convert to number: the value '${this.value}' would ${e} and become ${Number.parseFloat(this.value)}`)}toString(){return this.value}}function isLosslessNumber(t){return t&&typeof t=="object"&&t.isLosslessNumber===!0||!1}function parseLosslessNumber(t){return new LosslessNumber(t)}function revive(t,e){return reviveValue({"":t},"",t,e)}function reviveValue(t,e,r,n){return Array.isArray(r)?n.call(t,e,reviveArray(r,n)):r&&typeof r=="object"&&!isLosslessNumber(r)?n.call(t,e,reviveObject(r,n)):n.call(t,e,r)}function reviveObject(t,e){for(const r of Object.keys(t)){const n=reviveValue(t,r,t[r],e);n!==void 0?t[r]=n:delete t[r]}return t}function reviveArray(t,e){for(let r=0;r<t.length;r++)t[r]=reviveValue(t,String(r),t[r],e);return t}function parse(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:parseLosslessNumber,n=0;const s=l();return g(s),E(),e?revive(s,e):s;function o(){if(t.charCodeAt(n)===codeOpeningBrace){n++,c();const S={};let N=!0;for(;n<t.length&&t.charCodeAt(n)!==codeClosingBrace;){N?N=!1:(f(),c());const P=n,k=d();if(k===void 0){_();return}c(),m();const H=l();if(H===void 0){A();return}Object.prototype.hasOwnProperty.call(S,k)&&!isDeepEqual(H,S[k])&&R(k,P+1),S[k]=H}return t.charCodeAt(n)!==codeClosingBrace&&v(),n++,S}}function a(){if(t.charCodeAt(n)===codeOpeningBracket){n++,c();const S=[];let N=!0;for(;n<t.length&&t.charCodeAt(n)!==codeClosingBracket;){N?N=!1:f();const P=l();y(P),S.push(P)}return t.charCodeAt(n)!==codeClosingBracket&&x(),n++,S}}function l(){c();const S=d()??h()??o()??a()??u("true",!0)??u("false",!1)??u("null",null);return c(),S}function u(S,N){if(t.slice(n,n+S.length)===S)return n+=S.length,N}function c(){for(;isWhitespace(t.charCodeAt(n));)n++}function d(){if(t.charCodeAt(n)===codeDoubleQuote){n++;let S="";for(;n<t.length&&t.charCodeAt(n)!==codeDoubleQuote;){if(t.charCodeAt(n)===codeBackslash){const N=t[n+1],P=escapeCharacters[N];P!==void 0?(S+=P,n++):N==="u"?isHex(t.charCodeAt(n+2))&&isHex(t.charCodeAt(n+3))&&isHex(t.charCodeAt(n+4))&&isHex(t.charCodeAt(n+5))?(S+=String.fromCharCode(Number.parseInt(t.slice(n+2,n+6),16)),n+=5):U(n):w(n)}else isValidStringCharacter(t.charCodeAt(n))?S+=t[n]:T(t[n]);n++}return p(),n++,S}}function h(){const S=n;if(t.charCodeAt(n)===codeMinus&&(n++,b(S)),t.charCodeAt(n)===codeZero)n++;else if(isNonZeroDigit(t.charCodeAt(n)))for(n++;isDigit(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===codeDot)for(n++,b(S);isDigit(t.charCodeAt(n));)n++;if(t.charCodeAt(n)===codeLowercaseE||t.charCodeAt(n)===codeUppercaseE)for(n++,(t.charCodeAt(n)===codeMinus||t.charCodeAt(n)===codePlus)&&n++,b(S);isDigit(t.charCodeAt(n));)n++;if(n>S)return r(t.slice(S,n))}function f(){if(t.charCodeAt(n)!==codeComma)throw new SyntaxError(`Comma ',' expected after value ${O()}`);n++}function m(){if(t.charCodeAt(n)!==codeColon)throw new SyntaxError(`Colon ':' expected after property name ${O()}`);n++}function g(S){if(S===void 0)throw new SyntaxError(`JSON value expected ${O()}`)}function y(S){if(S===void 0)throw new SyntaxError(`Array item expected ${O()}`)}function E(){if(n<t.length)throw new SyntaxError(`Expected end of input ${O()}`)}function b(S){if(!isDigit(t.charCodeAt(n))){const N=t.slice(S,n);throw new SyntaxError(`Invalid number '${N}', expecting a digit ${O()}`)}}function p(){if(t.charCodeAt(n)!==codeDoubleQuote)throw new SyntaxError(`End of string '"' expected ${O()}`)}function _(){throw new SyntaxError(`Quoted object key expected ${O()}`)}function R(S,N){throw new SyntaxError(`Duplicate key '${S}' encountered at position ${N}`)}function v(){throw new SyntaxError(`Quoted object key or end of object '}' expected ${O()}`)}function x(){throw new SyntaxError(`Array item or end of array ']' expected ${O()}`)}function T(S){throw new SyntaxError(`Invalid character '${S}' ${$()}`)}function w(S){const N=t.slice(S,S+2);throw new SyntaxError(`Invalid escape character '${N}' ${$()}`)}function A(){throw new SyntaxError(`Object value expected after ':' ${$()}`)}function U(S){const N=t.slice(S,S+6);throw new SyntaxError(`Invalid unicode character '${N}' ${$()}`)}function $(){return`at position ${n}`}function L(){return n<t.length?`but got '${t[n]}'`:"but reached end of input"}function O(){return`${L()} ${$()}`}}function isWhitespace(t){return t===codeSpace||t===codeNewline||t===codeTab||t===codeReturn}function isHex(t){return t>=codeZero&&t<=codeNine||t>=codeUppercaseA&&t<=codeUppercaseF||t>=codeLowercaseA&&t<=codeLowercaseF}function isDigit(t){return t>=codeZero&&t<=codeNine}function isNonZeroDigit(t){return t>=codeOne&&t<=codeNine}function isValidStringCharacter(t){return t>=32&&t<=1114111}function isDeepEqual(t,e){return t===e?!0:Array.isArray(t)&&Array.isArray(e)?t.length===e.length&&t.every((r,n)=>isDeepEqual(r,e[n])):isObject(t)&&isObject(e)?[...new Set([...Object.keys(t),...Object.keys(e)])].every(n=>isDeepEqual(t[n],e[n])):!1}function isObject(t){return typeof t=="object"&&t!==null}const escapeCharacters={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},codeBackslash=92,codeOpeningBrace=123,codeClosingBrace=125,codeOpeningBracket=91,codeClosingBracket=93,codeSpace=32,codeNewline=10,codeTab=9,codeReturn=13,codeDoubleQuote=34,codePlus=43,codeMinus=45,codeZero=48,codeOne=49,codeNine=57,codeComma=44,codeDot=46,codeColon=58,codeUppercaseA=65,codeLowercaseA=97,codeUppercaseE=69,codeLowercaseE=101,codeUppercaseF=70,codeLowercaseF=102;function stringify(t,e,r,n){const s=void 0;return a(t,"");function a(d,h){if(Array.isArray(n)){const f=n.find(m=>m.test(d));if(f){const m=f.stringify(d);if(typeof m!="string"||!isNumber(m))throw new Error(`Invalid JSON number: output of a number stringifier must be a string containing a JSON number (output: ${m})`);return m}}if(typeof d=="boolean"||typeof d=="number"||typeof d=="string"||d===null||d instanceof Date||d instanceof Boolean||d instanceof Number||d instanceof String)return JSON.stringify(d);if(d?.isLosslessNumber||typeof d=="bigint")return d.toString();if(Array.isArray(d))return l(d,h);if(d&&typeof d=="object")return u(d,h)}function l(d,h){if(d.length===0)return"[]";const f=s?h+s:void 0;let m=s?`[
`:"[";for(let g=0;g<d.length;g++){const y=d[g];s&&(m+=f),typeof y<"u"&&typeof y!="function"?m+=a(y,f):m+="null",g<d.length-1&&(m+=s?`,
`:",")}return m+=s?`
${h}]`:"]",m}function u(d,h){if(typeof d.toJSON=="function")return stringify(d.toJSON(),e,r,void 0);const f=Array.isArray(e)?e.map(String):Object.keys(d);if(f.length===0)return"{}";const m=s?h+s:void 0;let g=!0,y=s?`{
`:"{";for(const E of f){const b=d[E];if(c(E,b)){g?g=!1:y+=s?`,
`:",";const p=JSON.stringify(E);y+=s?`${m+p}: `:`${p}:`,y+=a(b,m)}}return y+=s?`
${h}}`:"}",y}function c(d,h){return typeof h<"u"&&typeof h!="function"&&typeof h!="symbol"}}function resolveSpace(t){}const supportedArgs$2=new Set([...COMMON_SUPPORTED_ARGS,"compressed","digest","no-digest","aws-sigv4","negotiate","no-negotiate","delegation","ntlm","no-ntlm","ntlm-wb","no-ntlm-wb","http1.1","http2","http2-prior-knowledge","http3","http3-only","cookie-jar","cert","cacert","key","capath","form","form-string","location","no-location","location-trusted","no-location-trusted","max-redirs","max-time","connect-timeout","insecure","no-insecure","output","upload-file","next","proxy","proxy-user"]),regexSingleEscape$1=/'|\\|\p{C}|[^ \P{Z}]/gu,regexDoubleEscape$1=/"|\\|\p{C}|[^ \P{Z}]/gu;function reprStr$2(t,e){e===void 0&&(e="'",t.includes("'")&&!t.includes('"')&&(e='"'));const r=e==="'"?regexSingleEscape$1:regexDoubleEscape$1;return e+t.replace(r,n=>{switch(n){case"\x07":return"\\a";case"\b":return"\\b";case"\f":return"\\f";case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v";case"\\":return"\\\\";case"'":return"\\'";case'"':return'\\"'}const s=n.codePointAt(0).toString(16);return s.length<=2?"\\x"+s.padStart(2,"0"):s.length<=4?"\\u"+s.padStart(4,"0"):"\\U"+s.padStart(8,"0")})+e}function reprStrBinary(t){const e=reprStr$2(t);return/^[\x00-\x7f]*$/.test(t)?"b"+e:e+".encode()"}function repr$2(t,e,r,n=!1,s=!1){const o=n?reprStrBinary:reprStr$2,a=[];for(const l of t.tokens)if(typeof l=="string")a.push(o(l));else if(l.type==="variable"){let c=(n?"os.getenvb":"os.getenv")+"("+o(l.value);(!s||t.tokens.length>1)&&(c+=", "+o("")),c+=")",a.push(c),r.add("os")}else if(l.type==="command"){let u="subprocess.run("+reprStr$2(l.value)+", shell=True, capture_output=True";n||(u+=", text=True"),u+=").stdout";let c=1,d="command"+c;for(;d in e&&e[d]!==u;)if(c++,d="command"+c,c>Number.MAX_SAFE_INTEGER)throw new CCError("lol");e[d]=u,a.push(d),r.add("subprocess")}return a.join(" + ")}function reprb(t,e,r){return repr$2(t,e,r,!0)}function asFloat(t,e,r){return t.isString()?t.toString():"float("+repr$2(t,e,r,!1,!0)+")"}function asInt(t,e,r){return t.isString()?t.toString():"int("+repr$2(t,e,r,!1,!0)+")"}const pythonJsonEscape=/"|\\|[^\x20-\x7E]/g;function jsonRepr(t){return'"'+t.replace(pythonJsonEscape,e=>{switch(e){case"\b":return"\\b";case"	":return"\\t";case`
`:return"\\n";case"\f":return"\\f";case"\r":return"\\r";case"\\":return"\\\\";case'"':return'\\"'}return"\\u"+e.charCodeAt(0).toString(16).padStart(4,"0")})+'"'}function ensure_minimum_exponent_length(t){const[e,r]=t.split("e"),n=r[0],s=r.slice(1);return s.length===1?e+"e"+n+"0"+s:t}function floatAsPython(t){let e=t.toString();if(e.includes("e"))e=ensure_minimum_exponent_length(e);else{isInteger(e)&&(e+=".0");const r=e.replace(/^-/,"").replace(".","").replace(/^0+/,""),n=ensure_minimum_exponent_length(t.toExponential());(r.length>17||n.length<e.length&&e.split(".")[1].length>4)&&(e=n)}return e}function jsonDumps(t){if(isLosslessNumber(t)){const e=stringify(t);if(isInteger(e))return e;if(!isSafeNumber(e))throw new CCError("float unrepresentable in Python: "+e);return floatAsPython(t.valueOf())}switch(typeof t){case"string":return jsonRepr(t);case"number":if(!isFinite(t))throw new CCError("found Infitiny in JSON");return t.toString();case"boolean":return t.toString();case"object":return t===null?"null":Array.isArray(t)?"["+t.map(jsonDumps).join(", ")+"]":"{"+Object.entries(t).map(e=>jsonRepr(e[0])+": "+jsonDumps(e[1])).join(", ")+"}";default:throw new CCError("unexpected object type that shouldn't appear in JSON: "+typeof t)}}function objToPython(t,e=0){if(isLosslessNumber(t)){const r=stringify(t);if(!isInteger(r)&&!isSafeNumber(r))throw new CCError("float unrepresentable in Python: "+r);return r}switch(typeof t){case"string":return reprStr$2(t);case"number":return t.toString();case"boolean":return t?"True":"False";case"object":if(t===null)return"None";if(Array.isArray(t)){if(t.length===0)return"[]";let r=`[
`;for(const n of t)r+=" ".repeat(e+4)+objToPython(n,e+4)+`,
`;return r+=" ".repeat(e)+"]",r}if(Object.keys(t).length===0)return"{}";{let r=`{
`;for(const[n,s]of Object.entries(t))r+=" ".repeat(e+4)+reprStr$2(n)+": "+objToPython(s,e+4)+`,
`;return r+=" ".repeat(e)+"}",r}default:throw new CCError("unexpected object type that shouldn't appear in JSON: "+typeof t)}}function formatHeaders(t,e,r,n){let s=`headers = {
`;for(const[o,a]of t){if(a===null)continue;let l;const u=o.toLowerCase().toString();has(e,u)?(e[u]&&(s+="    # "+e[u]+`
`),l="    # "):l="    ",s+=l+repr$2(o,r,n)+": "+repr$2(a,r,n)+`,
`}return s+=`}
`,s}function decodePercentEncoding(t){let e;try{e=wordDecodeURIComponent(t.replace(/\+/g," "))}catch(n){if(n instanceof URIError)return null;throw n}const r=percentEncode(e);return!eq(r,t)&&!eq(r.replace(/%20/g,"+"),t)?null:e}function dataEntriesToDict(t){const e={};let r=null;for(const[n,s]of t){if(r===n)e[n].push(s);else if(!Object.prototype.hasOwnProperty.call(e,n))e[n]=[s];else return null;r=n}return e}function dataEntriesToPython(t){if(t.length===0)return"''";const e=dataEntriesToDict(t);if(e!==null){if(Object.keys(e).length===0)return"''";let n=`{
`;for(const[s,o]of Object.entries(e)){if(n+="    "+s+": ",o.length===0)n+="''";else if(o.length===1)n+=o[0];else{n+=`[
`;for(const a of o)n+="        "+a+`,
`;n+="    ]"}n+=`,
`}return n+="}",n}let r=`[
`;for(const n of t){const[s,o]=n;r+="    ("+s+", "+o+`),
`}return r+="]",r}function formatDataAsEntries(t,e,r,n="data"){for(const a of t)if(!(a instanceof Word)&&a.filetype!=="urlencode")return null;const s=[];let o=new Word;for(const[a,l]of t.entries()){if(l instanceof Word){let c=l.split("&");const d=a>0?s[s.length-1]:null;if(d!==null){const[h,...f]=c;if(h.includes("=")&&d[1]===null){const[m,g]=h.split("=",2),y=decodePercentEncoding(m);if(y===null)return null;const E=decodePercentEncoding(g);if(E===null)return null;m.toBool()&&(d[0]+=" + "+repr$2(y,e,r)),d[1]=repr$2(E,e,r),o.toBool()||(m.includes("%20")&&(o=m),g.includes("%20")&&(o=g))}else if(!h.includes("=")&&d[1]!==null){if(h.toBool()){const m=decodePercentEncoding(h);if(m===null)return null;d[1]+=" + "+repr$2(m,e,r),!o.toBool()&&h.includes("%20")&&(o=h)}}else return null;c=f}for(const[h,f]of c.entries()){if(f.isEmpty()&&h===c.length-1&&a!==t.length-1)continue;if(!f.includes("="))return null;const[m,g]=f.split("=",2),y=decodePercentEncoding(m);if(y===null)return null;const E=decodePercentEncoding(g);if(E===null)return null;s.push([repr$2(y,e,r),repr$2(E,e,r)]),o.toBool()||(m.includes("%20")&&(o=m),g.includes("%20")&&(o=g))}continue}const u=eq(l.filename,"-")?"sys.stdin.read()":"open("+repr$2(l.filename,e,r,!1,!0)+").read()";if(!l.name)s.push([u,null]);else{if(!eq(l.name,percentEncode(l.name)))return null;s.push([repr$2(l.name,e,r),u])}}return s.some(a=>a[1]===null)?null:[n+" = "+dataEntriesToPython(s)+`
`,o.toString()]}function formatDataAsStr(t,e,r,n="data"){const s=t.some(g=>!(g instanceof Word)&&g.filetype==="binary"),o=s?reprb:repr$2,a=s?"b":"",l=s?", 'rb'":"";let u=!1,c=!1;const d=[];let h=new Word,f,m;for([f,m]of t.entries()){const g=f===0?"=":"+=";let y=n+" "+g+" ";if(f<t.length-1&&m instanceof Word&&m.endsWith("&")&&(h=new Word("&"),m=m.slice(0,-1)),m instanceof Word){m.length&&(y+=o(m,r,e),d.push(y),u||(u=m.test(/[^\x00-\x7F]/)));continue}const{filetype:E,name:b,filename:p}=m;E==="urlencode"&&b?(y+=o(h.add(b).append("="),r,e)+" + ",c=!0):h.toBool()&&(y+=o(h,r,e)+" + ",c=!0),h.toBool()&&(c=!0);let _="";eq(p,"-")?(_+=s?"sys.stdin.buffer":"sys.stdin",e.add("sys")):(y="with open("+repr$2(p,r,e,!1,!0)+l+`) as f:
    `+y,_+="f"),_+=".read()",["binary","json","urlencode"].includes(E)||(_+=`.replace(${a}'\\n', ${a}'').replace(${a}'\\r', ${a}'')`),E==="urlencode"?(_="quote_plus("+_+")",s&&(_+=".encode()"),e.add("urllib.parse.quote_plus")):u=!0,y+=_,d.push(y),h=new Word}return s?u=!1:u&&d.length===1&&!c&&(d[d.length-1]+=".encode()",u=!1),[d.join(`
`)+`
`,u]}function formatDataAsJson(t,e,r){if(t instanceof Word){if(!t.isString())return[null,!1];let n;try{n=parse(t.toString())}catch{try{n=JSON.parse(t.toString())}catch{return[null,!1]}}try{const s="json_data = "+objToPython(n)+`
`;let o=!1;try{o=jsonDumps(n)===t.tokens[0]}catch{}return[s,o]}catch{}}else if(t.filetype==="json"){let n="";return n+="with open("+repr$2(t.filename,r,e,!1,!0)+`) as f:
`,n+=`    json_data = json.load(f)
`,e.add("json"),[n,!1]}return[null,!1]}function getDataString(t,e,r){const n=new Set;if(!t.data||!t.dataArray)return[null,!1,null,n];const s=t.headers.get("content-type");let o=null,a=!1;if(t.dataArray.length===1&&s&&s.split(";")[0].toString().trim()==="application/json"&&([o,a]=formatDataAsJson(t.dataArray[0],n,e)),a)return[null,!1,o,n];const l=formatDataAsEntries(t.dataArray,e,n);if(l!==null){const[d,h]=l;return eq(t.headers.get("content-type"),"application/x-www-form-urlencoded")&&t.headers.length===1&&t.headers.delete("content-type"),h&&r.push(["percent-encoded-spaces-in-data",'data contains spaces encoded by curl as "%20" which will be sent as "+" instead: '+JSON.stringify(h)]),[d,!1,o,n]}const[u,c]=formatDataAsStr(t.dataArray,n,e);return[u,c,o,n]}function getFilesString(t,e,r){let n=!1;if(!t.multipartUploads)return["",n];const s=t.multipartUploads.map(l=>{const u=l.name?repr$2(l.name,e,r):"None";if(!("contentType"in l)&&!("headers"in l)&&!("encoder"in l)){if("contentFile"in l&&eq(l.contentFile,l.filename)&&!eq(l.contentFile,"-"))return[u,"open("+repr$2(l.contentFile,e,r,!1,!0)+", 'rb')"];if("content"in l&&"filename"in l&&eq(l.name,l.filename))return[u,repr$2(l.content,e,r)]}const d=["filename"in l&&l.filename?repr$2(l.filename,e,r):"None"];"contentFile"in l?eq(l.contentFile,"-")?(n=!0,d.push("sys.stdin.buffer.read())")):d.push("open("+repr$2(l.contentFile,e,r,!1,!0)+", 'rb')"):d.push(repr$2(l.content,e,r));let h=!1;if("contentType"in l&&l.contentType&&(d.push(repr$2(l.contentType,e,r)),h=!0),"headers"in l&&l.headers||"headerFiles"in l&&l.headerFiles){h||d.push("None");const f=[];if(l.headers){let m="{";for(const g of l.headers){const[y,E]=g.split(":",2);m+=repr$2(y,e,r)+": "+repr$2(E.trimStart()||new Word,e,r)+", "}m.endsWith(", ")&&(m=m.slice(0,-2)),m+="}",f.push(m)}if(l.headerFiles&&l.headerFiles.length){for(const m of l.headerFiles)f.push("read_headerfile("+repr$2(m,e,r,!1,!0)+")");r.add("read_headerfile")}d.push(f.join(" | "))}return[u,"("+d.join(", ")+")"]}),o=Object.fromEntries(s);let a="files = ";if(Object.keys(o).length===s.length){a+=`{
`;for(const[l,u]of s)a+="    "+l+": "+u+`,
`;a+=`}
`}else{a+=`[
`;for(const[l,u]of s)a+="    ("+l+", "+u+`),
`;a+=`]
`}return[a,n]}function indent(t,e){if(e===0)return t;const r="    ".repeat(e);return t.split(`
`).map(n=>n.trim()?r+n:n).join(`
`)}function commentOut(t){return t.split(`
`).map(e=>e.trim()?"#"+e:e).join(`
`)}function uniqueWarn(t,e,r){t.has(r[0])||(t.add(r[0]),e.push(r))}function joinArgs(t){let e="(";if(t.join("").length<100)e+=t.join(", ");else{e+=`
`;for(const r of t)e+="    "+r+`,
`}return e+")"}function requestToPython(t,e=[],r,n){const s={},o={"accept-encoding":"","content-length":""};eq(t.headers.get("te"),"trailers")&&(o.te="Requests doesn't support trailers");let a,l=null;if(t.cookies){a=`cookies = {
`;for(const[L,O]of t.cookies)a+="    "+repr$2(L,s,r)+": "+repr$2(O,s,r)+`,
`;a+=`}
`,o.cookie="",t.cookieFiles&&e.push(["cookie-files","passing both cookies and cookie files with --cookie/-b is not supported"]),t.cookieJar&&e.push(["cookie-files","passing both cookies and --cookie-jar/-c is not supported"])}else(t.cookieFiles&&t.cookieFiles.length||t.cookieJar)&&(r.add("http.cookiejar.MozillaCookieJar"),t.cookieFiles&&t.cookieFiles.length?(l=t.cookieFiles[t.cookieFiles.length-1],t.cookieFiles.length>1&&e.push(["cookie-files","multiple cookie files are not supported, using the last one: "+JSON.stringify(l.toString())]),a="cookies = MozillaCookieJar("+repr$2(l,s,r)+`)
`):t.cookieJar&&(a=`cookies = MozillaCookieJar()
`));let u;if(t.proxy){let L=t.proxy.includes("://")?t.proxy:t.proxy.prepend("http://");const O=L.split("://")[0].toLowerCase();eq(O,"socks")&&(L=L.replace("socks","socks4")),u=`proxies = {
`,u+="    'http': "+repr$2(L,s,r)+`,
`,u+="    'https': "+repr$2(L,s,r)+`,
`,u+=`}
`}let c;if(t.cert||t.key){c="cert = ";let L="None";if(t.cert){const[O,S]=t.cert;L=repr$2(O,s,r),S&&e.push(["cert-password","passing a password to --cert is not supported: "+JSON.stringify(S.toString())])}t.key?c+="("+L+", "+repr$2(t.key,s,r)+")":c+=L,c+=`
`}let d,h;function f(L){return L.some(O=>!(O instanceof Word))}const m=t.urls.length===1?t.urls[0].queryArray:t.queryArray;if(m&&(t.urls.length===1||t.urls.length>1&&f(m))){const L=formatDataAsEntries(m,s,r,"params");if(L!==null){let O;[d,O]=L,O&&e.push(["percent-encoded-spaces-in-query",'URL querystring contains spaces encoded as "%20" which will be sent by Requests as "+" instead: '+JSON.stringify(O)])}else f(m)&&([d,h]=formatDataAsStr(m,r,s,"params"))}const g=t.headers.get("content-type");let y,E,b,p;if(t.urls[0].uploadFile&&t.urls.length===1)eq(t.urls[0].uploadFile,"-")||eq(t.urls[0].uploadFile,".")?(y=`data = sys.stdin.buffer.read()
`,r.add("sys")):(y="with open("+repr$2(t.urls[0].uploadFile,s,r,!1,!0)+`, 'rb') as f:
`,y+=`    data = f.read()
`);else if(t.multipartUploads){let L=!1;[b,L]=getFilesString(t,s,r),L&&r.add("sys"),b&&g&&eq(g.trim(),"multipart/form-data")&&!g.includes("boundary=")&&(o["content-type"]="requests won't add a boundary if this header is set when you pass files=")}else if(t.data&&!t.data.isEmpty()){let L;[y,p,E,L]=getDataString(t,s,e),L.forEach(r.add,r),E&&!y&&g&&eq(g.trim(),"application/json")&&(o["content-type"]="Already added when you pass json=")}let _;t.headers.length&&(_=formatHeaders(t.headers,o,s,r));let R="";u&&(R+=u+`
`),a&&(R+=a+`
`),_&&(R+=_+`
`),d&&(R+=d+`
`),c&&(R+=c+`
`),E?R+=E+`
`:y?R+=y+`
`:b&&(R+=b+`
`);let v=t.followRedirects,x;t.maxRedirects!==void 0&&(x=asInt(t.maxRedirects,s,r)),v===void 0&&(v=!0);const T=v&&x&&x!=="0"&&x!=="30",w=new Set,A=[];let U=!1;for(const[L,O]of t.urls.entries()){const S=["GET","HEAD","POST","PATCH","PUT","DELETE","OPTIONS"];let N;const P=[],k=O.method.toString();O.method.isString()&&S.includes(k)?N=k.toLowerCase():(N="request",P.push(repr$2(O.method,s,r)),O.method.isString()&&k!==k.toUpperCase()&&e.push(["method","Requests will uppercase the HTTP method: "+JSON.stringify(k)]));let H,V=O.url;if(t.urls.length===1)d?V=O.urlWithoutQueryArray:V=O.url;else if(d)V=O.urlWithOriginalQuery;else if(O.queryArray&&O.queryArray.length>0){const D=formatDataAsEntries(O.queryArray,s,r,"params");if(D!==null){let j;[H,j]=D,V=O.urlWithoutQueryArray,j&&e.push(["percent-encoded-spaces-in-query",'query contains spaces encoded by curl as "%20" which will be sent as "+" instead: '+JSON.stringify(j)])}else f(O.queryArray)&&([H,h]=formatDataAsStr(O.queryArray,r,s,"params"),V=O.urlWithoutQueryArray)}P.push(repr$2(V,s,r)),(d||H)&&P.push("params=params"+(h?".encode()":"")),a&&!t.cookieJar&&P.push("cookies=cookies"),_&&P.push("headers=headers"),O.uploadFile?t.urls.length>1?P.push("data=file_contents"):P.push("data=data"):b?P.push("files=files"):t.data&&!t.data.isEmpty()&&(E?P.push("json=json_data"):P.push("data=data"+(p?".encode()":""))),u&&P.push("proxies=proxies"),c&&P.push("cert=cert");const F=t.cacert||t.capath;if(t.insecure?P.push("verify=False"):F&&P.push("verify="+repr$2(F,s,r)),O.auth&&!t.headers.has("Authorization")){const[D,j]=O.auth;let G="("+repr$2(D,s,r)+", "+repr$2(j,s,r)+")";switch(t.authType){case"basic":break;case"digest":n.add("requests.auth.HTTPDigestAuth"),G="HTTPDigestAuth"+G;break;case"ntlm":case"ntlm-wb":n.add("requests_ntlm.HttpNtlmAuth"),G="HttpNtlmAuth"+G,uniqueWarn(w,e,["ntlm","requests-ntlm is unmaintained"]);break;case"negotiate":n.add("requests_gssapi.HTTPSPNEGOAuth"),G="HTTPSPNEGOAuth(",t.delegation&&(eq(t.delegation,"always")?G+="delegate=True":eq(t.delegation,"none")?G+="delegate=False":uniqueWarn(w,e,["delegation","--delegation value not supported: "+JSON.stringify(t.delegation.toString())])),G+=")",uniqueWarn(w,e,["negotiate","requests-gssapi is a fork of requests-kerberos"]);break;case"aws-sigv4":n.add("aws_requests_auth.aws_auth.AWSRequestsAuth"),G="AWSRequestsAuth(aws_access_key="+repr$2(D,s,r)+", aws_secret_access_key="+repr$2(j,s,r)+", aws_host="+repr$2(t.awsSigV4||new Word,s,r)+", aws_region="+repr$2(t.awsSigV4||new Word,s,r)+", aws_service="+repr$2(t.awsSigV4||new Word,s,r)+")",uniqueWarn(w,e,["--aws-sigv4","--aws-sigv4 value isn't parsed: "+JSON.stringify(t.awsSigV4?t.awsSigV4.toString():"")]);break}P.push("auth="+G)}if(t.timeout||t.connectTimeout){let D=null;t.connectTimeout&&(D=asFloat(t.connectTimeout,s,r));let j=null;t.timeout&&(t.timeout.isString()?j=t.timeout.toString():j="float("+repr$2(t.timeout,s,r,!1,!0)+")"),j&&D&&j!==D?P.push("timeout=("+D+", "+j+")"):j?P.push("timeout="+j):D&&P.push("timeout=("+D+", None)"),j&&uniqueWarn(w,e,["--max-time","unlike --max-time, Requests doesn't have a timeout for the whole request, only for the connect and the read"])}!v||x==="0"?P.push("allow_redirects=False"):x&&x==="-1"&&(r.add("math"),x="math.inf"),v&&t.followRedirectsTrusted&&uniqueWarn(w,e,["--location-trusted","Requests doesn't have an easy way to disable removing the Authorization: header on redirect"]);let I="";const B=T||t.cookieJar,Y=B?1:0;if(B&&L===0&&(I+=`with requests.Session() as session:
`,T&&(I+=`    session.max_redirects = ${x}
`),t.cookieJar&&(I+=`    session.cookies = cookies
`)),t.urls.length>1&&(H&&(I+=indent(H,Y)),O.uploadFile)){let D="";eq(O.uploadFile,"-")||eq(O.uploadFile,".")?(D+=`file_contents = sys.stdin.buffer.read()
`,r.add("sys")):(D+="with open("+repr$2(O.uploadFile,s,r,!1,!0)+`, 'rb') as f:
`,D+=`    file_contents = f.read()
`),I+=indent(D,Y)}const Z="response = "+(B?"session":"requests")+"."+N;if(I+=indent(Z+joinArgs(P)+`
`,Y),E&&y&&!O.uploadFile){I+=B||t.urls.length>1?"":`
`,P[P.indexOf("json=json_data")]=p?"data=data.encode()":"data=data";let D=`# Note: json_data will not be serialized by requests
# exactly as it was in the original request.
`;D+=commentOut(y),D+=commentOut(Z+joinArgs(P)+`
`),I+=indent(D,Y)}if(O.output&&!eq(O.output,"/dev/null")){let D="";eq(t.urls[0].output,"-")?D+=`print(response.text)
`:(D+=B||t.urls.length>1?"":`
`,D+="with open("+repr$2(O.output,s,r,!1,!0)+`, 'wb') as f:
`,D+=`    f.write(response.content)
`),I+=indent(D,Y)}!B&&(H||y&&E||O.uploadFile||O.output&&!eq(O.output,"/dev/null"))&&(U=!0),A.push(I)}if(R+=A.join(U?`
`:""),t.cookieJar){let L="cookies.save(";eq(t.cookieJar,l)||(L+=repr$2(t.cookieJar,s,r)+", "),L+=`ignore_discard=True, ignore_expires=True)
`,R+=indent(L,1)}t.http3?e.push(["http3","this was an HTTP/3 request but requests only supports HTTP/1.1"]):t.http2?e.push(["http2","this was an HTTP/2 request but requests only supports HTTP/1.1"]):t.headers.lowercase&&t.headers.length>1&&e.push(["--header","all the --header/-H names are lowercase, which means this may have been an HTTP/2 or HTTP/3 request. Requests only sends HTTP/1.1"]);let $="";if(Object.keys(s).length){for(const[L,O]of Object.entries(s))$+=`${L} = ${O}
`;$+=`
`}return $+R}function printImports(t){let e="";for(const r of Array.from(t).sort())if(r!=="read_headerfile")if(r.includes(".")){const n=r.lastIndexOf("."),s=r.slice(0,n),o=r.slice(n+1);e+="from "+s+" import "+o+`
`}else e+="import "+r+`
`;return e}function _toPython(t,e=[]){const r=[];let n=!1;const s=new Set,o=new Set;for(const l of t){const u=requestToPython(l,e,s,o);r.push(u),n||(n=u.split(`
`).length>l.urls.length+1)}let a="";return a+=printImports(s),s.size>1&&(a+=`
`),a+=`import requests
`,a+=printImports(o),a+=`
`,s.has("read_headerfile")&&(a+=`def read_headerfile(filename):
`,a+=`    headers = {}
`,a+=`    with open(filename) as f:
`,a+=`        for line in f:
`,a+=`            line = line.split('#', 1)[0].strip()
`,a+=`            if line:
`,a+=`                [key, value] = line.split(':', 1)
`,a+=`                value = value or ''
`,a+=`                headers[key.strip()] = value.strip()
`,a+=`    return headers
`,a+=`
`),a+r.join(n?`

`:`
`)}function toPythonWarn(t,e=[]){const r=parse$1(t,supportedArgs$2,e);return[_toPython(r,e),e]}function toPython(t){return toPythonWarn(t)[0]}const supportedArgs$1=new Set([...COMMON_SUPPORTED_ARGS,"insecure","no-insecure","compressed","no-compressed","max-time","form","form-string"]),IF_ERR=`	if err != nil {
		log.Fatal(err)
	}
`;function reprMaybeBacktick(t,e,r){return t.isString()&&t.includes('"')?reprBacktick(t,e,r):repr$1(t,e,r)}function reprBacktick(t,e,r){return t.isString()&&!t.includes("`")&&!t.includes("\r")?"`"+t.toString()+"`":repr$1(t,e,r)}function reprStr$1(t){return reprStr$2(t,'"')}function repr$1(t,e,r){const n=[];for(const s of t.tokens)if(typeof s=="string")n.push(reprStr$1(s));else if(s.type==="variable")n.push("os.Getenv("+reprStr$1(s.value)+")"),r.add("os");else{const o="exec.Command("+reprStr$1(s.value)+").Output()";let a=1,l="cmd"+a;for(;l in e&&e[l]!==o;)if(a++,l="cmd"+a,a>Number.MAX_SAFE_INTEGER)throw new CCError("lol");e[l]=o,n.push(l),r.add("os/exec")}return n.join(" + ")}function timeoutAtoi(t,e,r){if(t.isString()){const n=t.toString();if(/^\d+\.?\d*$/.test(n))return n}return e.timeout="strconv.Atoi("+repr$1(t,e,r)+")",r.add("strconv"),"timeout"}function _toGo(t,e=[]){var r;const n=getFirst(t,e),s=new Set(["fmt","io","log","net/http"]),o={};let a="";if(n.multipartUploads){a+=`	form := new(bytes.Buffer)
`,a+=`	writer := multipart.NewWriter(form)
`,s.add("bytes"),s.add("mime/multipart");let u=!0,c=!0;for(const d of n.multipartUploads){if("contentFile"in d){const h=u?":=":"=";u=!1,a+=`	fw, err ${h} writer.CreateFormFile(${repr$1(d.name,o,s)}, filepath.Base(${repr$1((r=d.filename)!==null&&r!==void 0?r:d.contentFile,o,s)}))
`,a+=IF_ERR,s.add("path/filepath"),a+=`	fd, err ${h} os.Open(${repr$1(d.contentFile,o,s)})
`,a+=IF_ERR,s.add("os"),a+=`	defer fd.Close()
`,a+=`	_, err = io.Copy(fw, fd)
`,a+=IF_ERR}else{const h=c?":=":"=";c=!1,a+=`	formField, err ${h} writer.CreateFormField(${repr$1(d.name,o,s)})
`,a+=IF_ERR,a+=`	_, err = formField.Write([]byte(${reprMaybeBacktick(d.content,o,s)}))
`}a+=`
`}a+=`	writer.Close()
`,a+=`
`,n.headers.delete("content-type")}if((n.insecure||n.compressed===!1)&&(a+=`	tr := &http.Transport{
`,n.insecure&&(a+=`		TLSClientConfig: &tls.Config{InsecureSkipVerify: true},
`,s.add("crypto/tls")),n.compressed===!1&&(a+=`		DisableCompression: true,
`),a+=`	}
`),a+="	client := &http.Client{",n.timeout?(a+=`
`,(n.insecure||n.compressed===!1)&&(a+=`		Transport: tr,
`),a+="		Timeout: "+timeoutAtoi(n.timeout,o,s)+` * time.Second,
`,a+="	",s.add("time")):(n.insecure||n.compressed===!1)&&(a+="Transport: tr"),a+=`}
`,n.data&&!n.multipartUploads&&(a+="	var data = strings.NewReader("+reprBacktick(n.data,o,s)+`)
`,s.add("strings")),a+="	req, err := http.NewRequest("+repr$1(n.urls[0].method,o,s)+", "+repr$1(n.urls[0].url,o,s),a+=", "+(n.multipartUploads?"form":n.data?"data":"nil")+`)
`,a+=IF_ERR,n.headers.length)for(const[u,c]of n.headers){let d="	";u.toLowerCase().toString()==="accept-encoding"&&n.compressed!==!1&&(d+="// "),a+=d+"req.Header.Set("+repr$1(u,o,s)+", "+reprMaybeBacktick(c||new Word,o,s)+`)
`}if(n.multipartUploads&&(a+=`	req.Header.Set("Content-Type", writer.FormDataContentType())
`),n.urls[0].auth&&n.authType==="basic"){const[u,c]=n.urls[0].auth;a+="	req.SetBasicAuth("+repr$1(u,o,s)+", "+repr$1(c,o,s)+`)
`}a+=`	resp, err := client.Do(req)
`,a+=IF_ERR,a+=`	defer resp.Body.Close()
`,a+=`	bodyText, err := io.ReadAll(resp.Body)
`,a+=IF_ERR,a+=`	fmt.Printf("%s\\n", bodyText)
`,a+="}";let l=`package main

`;l+=`import (
`;for(const u of Array.from(s).sort())l+='	"'+u+`"
`;l+=`)

`,l+=`func main() {
`;for(const[u,c]of Array.from(Object.entries(o)).sort())l+="	"+u+", err := "+c+`
`,l+=IF_ERR;return Object.values(o).length&&(l+=`
`),l+a+`
`}function toGoWarn(t,e=[]){const r=parse$1(t,supportedArgs$1,e);return[_toGo(r,e),e]}function toGo(t){return toGoWarn(t)[0]}["Content-Length","Authorization","Connection","Host","Proxy-Authenticate","Proxy-Authorization","WWW-Authenticate"].map(t=>t.toLowerCase());const supportedArgs=new Set([...COMMON_SUPPORTED_ARGS,"max-time","insecure","no-insecure","compressed","no-compressed","digest","no-digest","location","no-location","form","form-string","proxy","proxy-user","unix-socket"]),regexSingleEscape=/'|\\/gu,regexDoubleEscape=/"|\$|\\|\p{C}|[^ \P{Z}]/gu;function reprStr(t){let[e,r]=["'",regexSingleEscape];return(t.includes("'")&&!t.includes('"')||/[^\x20-\x7E]/.test(t))&&([e,r]=['"',regexDoubleEscape]),e+t.replace(r,n=>{switch(n){case"$":return e==="'"?"$":"\\$";case"\\":return"\\\\";case"'":case'"':return n===e?"\\"+n:n;case`
`:return"\\n";case"\r":return"\\r";case"	":return"\\t";case"\v":return"\\v";case"\x1B":return"\\e";case"\f":return"\\f"}const s=n.codePointAt(0).toString(16);return s.length>2?"\\u{"+s+"}":"\\x"+s.padStart(2,"0")})+e}function repr(t){const e=[];for(const r of t.tokens)typeof r=="string"?e.push(reprStr(r)):r.type==="variable"?e.push("getenv("+reprStr(r.value)+") ?? "+reprStr("")):r.type==="command"&&e.push("shell_exec("+reprStr(r.value)+")");return e.join(" . ")}function _toPhp(t,e=[]){const r=getFirst(t,e,{dataReadsFile:!0});let n;r.headers.has("cookie")&&(n=r.headers.get("cookie"),r.headers.delete("cookie"));let s=`<?php
`;if(s+=`$ch = curl_init();
`,s+="curl_setopt($ch, CURLOPT_URL, "+repr(r.urls[0].url)+`);
`,s+=`curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
`,s+="curl_setopt($ch, CURLOPT_CUSTOMREQUEST, "+repr(r.urls[0].method)+`);
`,r.compressed&&r.headers.setIfMissing("Accept-Encoding","gzip"),r.headers.length){let o=`[
`;for(const[a,l]of r.headers)l!==null&&(o+="    "+repr(joinWords([a,l],": "))+`,
`);o+="]",s+="curl_setopt($ch, CURLOPT_HTTPHEADER, "+o+`);
`}if(n&&(s+="curl_setopt($ch, CURLOPT_COOKIE, "+repr(n)+`);
`),r.urls[0].auth&&["basic","digest"].includes(r.authType)){const o=r.authType==="digest"?"CURLAUTH_DIGEST":"CURLAUTH_BASIC";s+="curl_setopt($ch, CURLOPT_HTTPAUTH, "+o+`);
`,s+="curl_setopt($ch, CURLOPT_USERPWD, "+repr(joinWords(r.urls[0].auth,":"))+`);
`}if(r.data||r.multipartUploads){let o="";if(r.multipartUploads){o=`[
`;for(const a of r.multipartUploads)o+="    "+repr(a.name)+" => ","contentFile"in a?(o+="new CURLFile("+repr(a.contentFile),a.contentType&&(o+=", "+repr(a.contentType)),a.filename&&!eq(a.filename,a.contentFile)&&(a.contentType||(o+=", null"),o+=", "+repr(a.filename)),o+=")"):"filename"in a&&a.filename?(o+="new CURLStringFile("+repr(a.content),o+=", "+repr(a.filename),a.contentType&&(o+=", "+repr(a.contentType)),o+=")"):o+=repr(a.content),o+=`,
`;o+="]"}else r.isDataBinary&&r.data.charAt(0)==="@"?o="file_get_contents("+repr(r.data.slice(1))+")":o=repr(r.data);s+="curl_setopt($ch, CURLOPT_POSTFIELDS, "+o+`);
`}return r.proxy&&(s+="curl_setopt($ch, CURLOPT_PROXY, "+repr(r.proxy)+`);
`,r.proxyAuth&&(s+="curl_setopt($ch, CURLOPT_PROXYUSERPWD, "+repr(r.proxyAuth)+`);
`)),r.timeout&&(s+="curl_setopt($ch, CURLOPT_TIMEOUT, "+(parseInt(r.timeout.toString(),10)||0)+`);
`),r.unixSocket&&(s+="curl_setopt($ch, CURLOPT_UNIX_SOCKET_PATH, "+repr(r.unixSocket)+`);
`),r.followRedirects&&(s+=`curl_setopt($ch, CURLOPT_FOLLOWLOCATION, true);
`),r.insecure&&(s+=`curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false);
`,s+=`curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
`),s+=`
$response = curl_exec($ch);

`,s+=`curl_close($ch);
`,s}function toPhpWarn(t,e=[]){const r=parse$1(t,supportedArgs,e);return[_toPhp(r,e),e]}function toPhp(t){return toPhpWarn(t)[0]}let docs,about;async function loadContent(){docs=await fetchHelpContent(),about=await fetchAboutContent()}loadContent();const helpTextContent=`Type <button onClick="simulateCommand('help')">'help'</button> for list of supported commands.`;function handleDefault(t,e){e.innerHTML=`${t}: command not recognized. ${helpTextContent}`}function displayBanner(t){const e=document.createElement("pre");e.innerHTML=`
     ____  ___  ___  ____ ___     ____
    / __ \\/ _ \\/ _ \\/ __ \`__ \\   /_  /
   / / / /  __/  __/ / / / / /    / /_
  /_/ /_/\\___/\\___/_/ /_/ /_/    /___/  v1.1.0
  `;const r=document.createElement("p");r.innerHTML=helpTextContent,t.appendChild(e),e.insertAdjacentElement("afterend",r)}function handleHelp(t,e){if(t.length>1)e.innerText=`Usage: ${docs.help.usage}`;else if(t.length===1){const r=t[0];if(!(r in docs)){e.innerHTML=`${r}: command not recognized. ${helpTextContent}`;return}const n=document.createElement("pre");let s=`${r}: ${docs[r].base}`;if(Object.keys(docs[r].options).length>0){s+=`

Options:`;for(const[o,a]of Object.entries(docs[r].options))s+=`
  ${o}: ${a}`}s+=`

Usage: ${docs[r].usage}`,n.innerHTML=s,e.appendChild(n)}else{let r="SUPPORTED COMMANDS:";for(const[n,s]of Object.entries(docs))r+=`<p>- <button class="yellow" onClick="simulateCommand('${n}')">${n}</button> - ${s.base}</p>`;r+="<br><p>Type 'help [command]' for more information on a specific command</p>",e.innerHTML=r}}function handleRepo(t){const e="https://github.com/NeemZ16/neemo.site";return t.innerText="Opening repository in new tab...",new Promise(r=>{setTimeout(()=>{window.open(e,"_blank"),t.innerText="Opened repo in new tab!",r()},500)})}function handleClear(){localStorage.removeItem("history");const t=document.getElementById("terminal");t.innerHTML=""}function handleHistory(t){let e=localStorage.getItem("history");if(!e){t.innerHTML="No history found";return}e=JSON.parse(e);let r="";function n(s){const o=String(e.length).length;let a=String(s);for(;a.length<o;)a=" "+a;return a.replace(" ","&nbsp;")}for(let s=0;s<e.length;s++){const o=e[s];r+=`${n(s+1)} ${o.command}<br>`}t.innerHTML=r}async function handleContact(t,e){if(t.length===0){const r=document.createElement("a");r.href="mailto:neemzam2+site@gmail.com?subject=Site%20Message%20-%20",r.target="_blank",r.textContent="neemzam2[at]gmail.com";const n=document.createElement("a");n.href="https://github.com/Neemz16",n.target="_blank",n.textContent="github.com/NeemZ16";const s=document.createElement("a");s.href="https://www.linkedin.com/in/neem-zaman",s.target="_blank",s.textContent="linkedin.com/in/neem-zaman";const o=document.createElement("p");o.textContent="- Email: ",o.appendChild(r);const a=document.createElement("p");a.textContent="- GitHub: ",a.appendChild(n);const l=document.createElement("p");l.textContent="- LinkedIn: ",l.appendChild(s),e.appendChild(l),e.appendChild(o),e.appendChild(a)}else if(t.length===1&&t[0]==="-m")e.innerText="Please provide a message after '-m'.";else if(t[0]==="-m"){let r=t.length,n="@default_sender";if(t.includes("-from")&&t.indexOf("-from")===t.length-1){e.innerText="Please provide value for '-from' argument";return}else t.includes("-from")&&(r=t.indexOf("-from"),n=t.slice(r+1).join(" ").trim());const s=t.slice(1,r).join(" ").trim();if(s){if(!n){e.innerText="Please provide message sender";return}}else{e.innerText="Please provide message content";return}try{(await sendEmail(s,n)).status==200?e.innerText="Message sent successfully!":e.innerText="Unable to send message :("}catch(o){e.innerText=`Failed to send message. Error: ${o}`}}else e.innerHTML=`Usage: ${docs.contact.usage}. Type <button onClick="simulateCommand(help contact)">'help contact'</button> for more information.`}function handleLs(t,e){let r=`<button class='lsItem' onClick="simulateCommand('open blog.html')">blog.html</button>`;r+=`	<button class='lsItem' onClick="simulateCommand('open notes.txt')">notes.txt</button>`,r+=`	<button class='lsItem' onClick="simulateCommand('open about')">about</button>`,t.length>1?r=`Usage: ${docs.ls.usage}`:t.length===1&&t[0]=="-a"?r=`<button class='lsItem' onClick="simulateCommand('open .secrets.txt')">.secrets.txt</button>	`+r:t.length===1&&(r=`Usage: ${docs.ls.usage}. Type <button onClick="simulateCommand(help ls)">'help ls'</button> for more information.`);const n=document.createElement("pre");n.innerHTML=r,n.classList.add("yellow"),e.appendChild(n)}async function handleOpen(t,e){if(t.length===0)e.innerHTML=`Usage: ${docs.open.usage}. Type <button onClick="simulateCommand('ls')">'ls'</button> to see available files.`;else if(t.length===1){let r=`open: Requested file not found. Type <button onClick="simulateCommand('ls')">'ls'</button> to see available files.`;if(t[0]=="blog.html")r="No blog entries yet!";else if(t[0]=="notes.txt")try{const n=await fetchNotes();r="NOTES:";for(const s of n)r+=`<br>- ${s}`}catch(n){r=`Unable to fetch notes. Error: ${n}`}else if(t[0]==".secrets.txt")r="🥚";else if(t[0]=="about"){handleAbout([],e);return}e.innerHTML=r}else e.innerText=`Usage: ${docs.open.usage}`}function handleAbout(t,e){if(t.length==0){const r=document.createElement("div"),n=document.createElement("img");n.src="neem.png",n.alt="Neem in front of plants",e.appendChild(n),e.innerHTML+="<br>";const s=document.createElement("p");s.classList.add("limWidth"),s.innerHTML=about.bio.intro,r.appendChild(s),r.innerHTML+="<br>";const o=document.createElement("p");o.classList.add("limWidth"),o.innerHTML=about.bio.teaching,r.appendChild(o),r.innerHTML+="<br>";const a=document.createElement("div");a.innerHTML+="Here are some <span class='yellow'>fun facts</span> about me:",a.classList.add("limWidth"),about.bio["selected fun facts"].forEach(l=>{const u=document.createElement("p");u.innerHTML=l,a.appendChild(u)}),r.appendChild(a),r.innerHTML+="<br>",e.appendChild(r),e.innerHTML+="<p class='green'>LINKS:</p>",handleContact([],e),e.innerHTML+="<br>",e.innerHTML+=`<button onClick="simulateCommand('about -proj')">See Projects</button>`,e.innerHTML+="<br>",e.innerHTML+=`<button onClick="simulateCommand('about -skills')">See Skills</button>`}else if(t.length==1)if(t[0]=="-proj"){const r=document.createElement("div");r.innerText="These are some projects I have worked on:";for(const n of about.projects){const s=document.createElement("div"),o=document.createElement("p");o.innerHTML=`<a href="${n.link}" target="_blank">${n.title}</a>`;const a=document.createElement("p");a.innerHTML='- <span class="green">Description:</span> '+n.description;const l=document.createElement("p");l.innerHTML='- <span class="green">Technologies:</span> '+n.technologies;const u=document.createElement("p");u.innerHTML="Tags: ";for(const c of n.tags)u.innerHTML+=`<span class="yellow">#${c}</span> `;s.appendChild(o),s.appendChild(a),s.appendChild(l),s.appendChild(u),s.innerHTML+="<br>",r.appendChild(s),r.classList.add("limWidth")}e.appendChild(r)}else if(t[0]=="-skills"){const r=document.createElement("div");r.innerHTML='While I believe in choosing the <span class="green">best tool for the job</span>, these are some <span class="green">I often work with:</span>';for(const[n,s]of Object.entries(about.skills)){const o=document.createElement("p");o.innerHTML=`<span class="yellow">${n}:</span> ${s}`,r.appendChild(o)}e.appendChild(r)}else e.innerText=`Usage: ${docs.about.usage}`;else e.innerText=`Usage: ${docs.about.usage}`}function handleEcho(t,e){const r=escapeHTML(">>");if(t.length>=1&&t[0]==r)e.innerText=`Usage: ${docs.echo.usage}. Type <button onClick="simulateCommand('help echo')">'help echo'</button> for more information.`;else if(t.length>=3&&t.includes(r)&&t[0]!=r){const n=t[t.length-1];t[t.length-2];const s=t.slice(0,t.length-2).join(" ").trim();if(!s){e.innerText="No content provided.";return}if(n!="notes.txt"){e.innerText=`echo: Permission Denied - Cannot edit or create ${n} as guest user.`;return}let o={};o.content=s,o.createdAt=new Date().toISOString(),push(notesDB,o).then(e.innerHTML=`Added <span class="green">'${s}'</span> to <span class="yellow">${n}</span>!`).catch(a=>{e.innerHTML=`Failed to append '${s}' to ${n}. Error: ${a}.`})}else e.innerHTML=t.join(" ")}function handleCurlConvert(t,e){if(t.length==0||t[t.length-1].toLowerCase()=="--lang"){e.innerHTML=`Usage: ${docs.curlconvert.usage}`;return}let r="js";t[t.length-2].toLowerCase()=="--lang"&&(r=t[t.length-1].toLowerCase(),t=t.slice(0,t.length-2));const n=document.createElement("pre"),s=unEscapeHTML(t.join(" "));switch(r){case"php":executeLanguage(toPhp,s,n);break;case"python":executeLanguage(toPython,s,n);break;case"c":executeLanguage(toC,s,n);break;case"java":executeLanguage(toJava,s,n);break;case"go":executeLanguage(toGo,s,n);break;case"js":case"javascript":executeLanguage(toJavaScript,s,n);break;default:n.innerHTML=`curlconvert: <span class="green">'${r}'</span> currently not supported. Type <button onClick="simulateCommand('help curlconvert')">'help curlconvert'</button> for more information.`}e.appendChild(n)}async function handleInput(t,e,r){if(["banner","hostname","repo","history","clear","hello","hi","howdy"].includes(t)&&e.length>0)return r.innerText=`${t}: command does not support arguments`,r;switch(t){case"hello":case"howdy":case"hi":r.innerHTML=`hi there! type <button onClick="simulateCommand('help')">'help'</button> to see what you can do :)`;break;case"help":handleHelp(e,r);break;case"ls":handleLs(e,r);break;case"open":await handleOpen(e,r);break;case"banner":displayBanner(r);break;case"about":handleAbout(e,r);break;case"whoami":r.innerText="guest";break;case"hostname":r.innerText=window.location.hostname;break;case"contact":await handleContact(e,r);break;case"repo":await handleRepo(r);break;case"history":handleHistory(r);break;case"clear":handleClear();break;case"echo":handleEcho(e,r);break;case"curlconvert":await handleCurlConvert(e,r);break;default:handleDefault(t,r);break}return r}const dbConfig={databaseURL:"https://neemo-site-default-rtdb.firebaseio.com/"},app=initializeApp(dbConfig),db=getDatabase(app),notesDB=ref(db,"notes");ref(db,"blogs");emailjs.init({publicKey:"ww8sQvOB6jOpK5L_J"});const terminal=document.getElementById("terminal");let dir="~",onHistoryIdx;async function processCommand(t){if(!t)return;replacePrompt();const e=document.createElement("p");e.classList.add("response");const r=t.split(" "),n=r[0].toLowerCase(),s=r.splice(1);try{const o=await handleInput(n,s,e);let a=localStorage.getItem("history");a=a?JSON.parse(a):[];const l={command:t,response:o.innerHTML};a.push(l),localStorage.setItem("history",JSON.stringify(a)),onHistoryIdx=a.length,terminal.appendChild(e),displayPrompt()}catch(o){e.textContent=`Something went wrong. Error: ${o}`,terminal.appendChild(e),displayPrompt()}}function runOnLoad(){window.simulateCommand=simulateCommand;let t=localStorage.getItem("history");const e=document.createElement("div");if(!t){const r=document.createElement("div");displayBanner(r),terminal.appendChild(r),displayPrompt();return}t=JSON.parse(t),t[0].command==="clear"&&t.length===1?(displayBanner(e),terminal.appendChild(e),localStorage.removeItem("history")):t[0].command==="clear"&&t.length>1?(t.shift(),displayHistory(t)):(displayBanner(e),terminal.appendChild(e),displayHistory(t)),onHistoryIdx=t.length,displayPrompt()}window.addEventListener("keydown",t=>{if((t.ctrlKey||t.metaKey)&&(t.key==="c"||t.key==="v"))return;if(t.ctrlKey||t.metaKey)return;const e=document.querySelector("input");e&&e.focus();let r=localStorage.getItem("history");!r||t.key!=="ArrowUp"&&t.key!=="ArrowDown"||(r=JSON.parse(r),t.key==="ArrowUp"?(onHistoryIdx>=1&&onHistoryIdx--,e.value=unEscapeHTML(r[onHistoryIdx].command)):t.key==="ArrowDown"&&(onHistoryIdx<r.length-1?(onHistoryIdx++,e.value=unEscapeHTML(r[onHistoryIdx].command)):onHistoryIdx<r.length&&(onHistoryIdx++,e.value="")))});runOnLoad();
